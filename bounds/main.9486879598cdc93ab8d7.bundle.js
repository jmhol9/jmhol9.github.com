webpackJsonp([1,4],{"+Do2":function(t,n,e){"use strict";var r=e("lk+P");e.d(n,"a",function(){return i});var i=function(){function t(t){this.api=t,this.book={title:"",author:"",body:""}}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.submit=function(){this.api.createFromJsonBook(this.book).subscribe(function(t){t||console.log("login failed")},function(){console.log("login failed")})},t.ctorParameters=function(){return[{type:r.b}]},t}()},"+jHA":function(t,n,e){"use strict";var r=e("nZlM");e.n(r);e.o(r,"Bookmark")&&e.d(n,"Bookmark",function(){return r.Bookmark}),e.o(r,"Paragraph")&&e.d(n,"Paragraph",function(){return r.Paragraph});var i=e("RYfX");e.d(n,"Bookmark",function(){return i.a});var o=e("aEq8");e.n(o);e.o(o,"Paragraph")&&e.d(n,"Paragraph",function(){return o.Paragraph});var l=e("8kw/");e.d(n,"Paragraph",function(){return l.a});var u=e("Pm2l");e.n(u)},"/Ukj":function(t,n,e){"use strict";e("nyuy"),e("6koo"),e("PZt1"),e("Jlqr"),e("7UBP")},"/fcW":function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="/fcW"},"1A80":function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),o._26(73728,null,0,l.y,[l.l,o._3,o._2,[8,null]],null,null),(t()(),o._27(null,["\n"]))],null,null)}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-root",[],null,null,null,r,a)),o._26(24576,null,0,u.a,[],null,null)],null,null)}var o=e("3j3K"),l=e("5oXY"),u=e("YWx4");e.d(n,"a",function(){return c});var s=[],a=o._23({encapsulation:2,styles:s,data:{}}),c=o._28("app-root",u.a,i,{},{},[])},"1mcY":function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=l),n.type){case i.c:return Object.assign({},t,o({},n.payload));default:return t}}var i=e("2pSd");n.a=r,e.d(n,"b",function(){return u}),e.d(n,"c",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"e",function(){return c});var o=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l={loggedIn:!1},u=function(t){return t.loggedIn},s=function(t){return t.id},a=function(t){return t.email},c=function(t){return t.name}},2:function(t,n,e){t.exports=e("x35b")},"2pSd":function(t,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return s});var r="[USER] Set",i="[USER] Login",o="[USER] Logout",l=function(){function t(t){this.payload=t,this.type=r}return t}(),u=function(){function t(){this.type=i}return t}(),s=function(){function t(){this.type=o}return t}()},"2zeU":function(t,n,e){"use strict";var r=e("+jHA");e.d(n,"a",function(){return i});var i=function(){function t(){}return t.prototype.parse=function(t){var n=this,e=0;return this.splitRawParagaphs(t).map(function(t,r){var i=n.parseSingleParagraph(t,e,r);return e+=i.length,i})},t.prototype.splitRawParagaphs=function(t){return t.split(/\n{2,}|\r\n\r{1,}|\n\r\n{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)})},t.prototype.parseSingleParagraph=function(t,n,e){return new r.Paragraph(t,n,e)},t}()},"37y8":function(t,n,e){"use strict";var r=e("+jHA"),i=e("McXY"),o=e("BeuU"),l=e("Jlqr"),u=e("7UBP");e.d(n,"a",function(){return a});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(t){function n(n,e,r){var i=t.call(this,n,e,r)||this;return i.modelPath="bookmarks",i}return s(n,t),n.prototype.getById=function(n){return t.prototype.getById.call(this,n).map(function(t){return null==t?new r.Bookmark(0,0):new r.Bookmark(t.paragraphIdx,t.wordIdx,t.id)})},n.ctorParameters=function(){return[{type:l.a},{type:i.a},{type:o.a}]},n}(u.a)},"3Nm8":function(t,n,e){"use strict";var r=e("g+Y6");e.d(n,"a",function(){return r.a})},"3imX":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t.prototype.stepPosition=function(t,n,e){void 0===e&&(e=1);var r=t.content[n.paragraphIdx],i=r.firstIndex+n.wordIdx,o=i+e;if(!this.isValidIncrement(t,o))throw new Error("Bad Increment: Outside book bounds!");if(this.idxWithinParagraph(r,o))return this.getPosition(n.paragraphIdx,n.wordIdx+e);var l,u,s;return o>r.lastIndex?(l=t.content.slice(n.paragraphIdx+1),u=this.findParagraphIdxByInnerIdx(o,l),s=n.paragraphIdx+u+1):(l=t.content.slice(0,n.paragraphIdx),u=l.length-this.findParagraphIdxByInnerIdx(o,l)-1,s=n.paragraphIdx-u-1),this.getPosition(s,o-t.content[s].firstIndex)},t.prototype.getCurrentPhrase=function(t,n,e){void 0===e&&(e=1);var r=t.content[n.paragraphIdx];if(null==r)return t.content[0].text.slice(0,e).join(" ");var i=r.text.slice(n.wordIdx,n.wordIdx+e);return i.length>=e?i.join(" "):i.concat(t.content[n.paragraphIdx+1].text.slice(0,e-i.length)).join(" ")},t.prototype.getNewPosition=function(){return this.getPosition(0,0)},t.prototype.getPosition=function(t,n){return{paragraphIdx:t,wordIdx:n}},t.prototype.getPartialText=function(t,n){if(null==t||null==n)return[];var e=n.paragraphIdx-10>=0?n.paragraphIdx-10:0;return t.content.slice(e,e+50)},t.prototype.isValidIncrement=function(t,n){return n>=0&&n<=t.content[t.content.length-1].lastIndex},t.prototype.findParagraphIdxByInnerIdx=function(t,n){var e=this,r=n.findIndex(function(n){return e.idxWithinParagraph(n,t)});if(null==r)throw new Error("no paragraph contains that index");return r},t.prototype.binarySearchParagraph=function(t,n){if(null==n||0===n.length)throw new Error("Bad Paragraph Search: bad paragraph range given");var e=n.length/2,r=n[e],i=this.idxWithinParagraph(r,t);if(!i&&1===n.length)throw new Error("Bad Search: target not in range");return i?r:t>r.lastIndex?this.binarySearchParagraph(t,n.slice(e+1)):t<r.lastIndex?this.binarySearchParagraph(t,n.slice(0,e)):void 0},t.prototype.idxWithinParagraph=function(t,n){return n>=t.firstIndex&&n<=t.lastIndex},t}()},"3pbj":function(t,n,e){"use strict";var r=e("juMz");e.d(n,"a",function(){return r.b}),e.d(n,"b",function(){return r.c}),e.d(n,"c",function(){return r.d}),e.d(n,"d",function(){return r.e}),e.d(n,"e",function(){return r.f}),e.d(n,"f",function(){return r.g}),e.d(n,"g",function(){return r.h}),e.d(n,"h",function(){return r.i})},"4Xti":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},"6W3o":function(t,n,e){"use strict";var r=e("3imX");e.d(n,"a",function(){return r.a});var i=e("GQfQ");e.d(n,"d",function(){return i.a});var o=e("GjlP");e.d(n,"c",function(){return o.a});var l=e("2zeU");e.d(n,"b",function(){return l.a});e("i2b/")},"6koo":function(t,n,e){"use strict";function r(t,n){return void 0===n&&(n=t.length),Object.assign(t,{totalRecords:n})}n.a=r},"709r":function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(0,null,null,40,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),o._27(null,["New Book"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,8)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,8).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,8)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,8)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.title=e)&&r}return r},null,null)),o._26(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._30(512,null,u.f,function(t){return[t]},[u.d]),o._26(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,u.h,null,[u.g]),o._26(8192,null,0,u.i,[u.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,18)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,18).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,18)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,18)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.author=e)&&r}return r},null,null)),o._26(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._30(512,null,u.f,function(t){return[t]},[u.d]),o._26(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,u.h,null,[u.g]),o._26(8192,null,0,u.i,[u.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,28)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,28).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,28)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,28)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.body=e)&&r}return r},null,null)),o._26(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._30(512,null,u.f,function(t){return[t]},[u.d]),o._26(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,u.h,null,[u.g]),o._26(8192,null,0,u.i,[u.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,1,"button",[],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.submit()&&r}return r},null,null)),(t()(),o._27(null,["Create!"])),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n"])),(t()(),o._27(null,["\n"]))],function(t,n){var e=n.component;t(n,10,0,e.book.title),t(n,20,0,e.book.author),t(n,30,0,e.book.body)},function(t,n){t(n,7,0,o._29(n,12).ngClassUntouched,o._29(n,12).ngClassTouched,o._29(n,12).ngClassPristine,o._29(n,12).ngClassDirty,o._29(n,12).ngClassValid,o._29(n,12).ngClassInvalid,o._29(n,12).ngClassPending),t(n,17,0,o._29(n,22).ngClassUntouched,o._29(n,22).ngClassTouched,o._29(n,22).ngClassPristine,o._29(n,22).ngClassDirty,o._29(n,22).ngClassValid,o._29(n,22).ngClassInvalid,o._29(n,22).ngClassPending),t(n,27,0,o._29(n,32).ngClassUntouched,o._29(n,32).ngClassTouched,o._29(n,32).ngClassPristine,o._29(n,32).ngClassDirty,o._29(n,32).ngClassValid,o._29(n,32).ngClassInvalid,o._29(n,32).ngClassPending)})}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"ng-component",[],null,[["document","keydown"]],function(t,n,e){var r=!0;if("document:keydown"===n){r=!1!==o._29(t,1).handleEnter(e)&&r}return r},r,c)),o._26(24576,null,0,l.a,[s.a],null,null)],null,null)}var o=e("3j3K"),l=e("+Do2"),u=e("NVOs"),s=e("yw3Q");e.d(n,"a",function(){return _});var a=[],c=o._23({encapsulation:2,styles:a,data:{}}),_=o._28("ng-component",l.a,i,{},{},[])},"7UBP":function(t,n,e){"use strict";var r=e("nyuy");e.d(n,"a",function(){return o});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o=function(t){function n(n,e,r){var i=t.call(this,n,e,r)||this;return i.rest=n,i}return i(n,t),n.prototype.create=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.update=function(t){if(null==t.id)throw new Error("Missing id on model, cannot make an update request");return this.rest.put([this.modelPath,t.id],t,void 0,this.options).map(function(t){return t})},n}(r.a)},"7grU":function(t,n,e){"use strict";var r=e("RkH2"),i=e("NqZ3"),o=e("pshA"),l=e("CXAF"),u=e("Md7J"),s=e("UvOO");e.d(n,"a",function(){return a});var a=(r.a,i.a,o.a,l.a,u.a,s.a,function(){function t(){}return t}())},"8kw/":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e){this.firstIndex=n,this.text=t.split(/\s{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)}),this.lastIndex=this.firstIndex+this.text.length-1,this.id=null!=e?e:void 0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textString",{get:function(){return this.text.join(" ")},enumerable:!0,configurable:!0}),t}()},"9EeC":function(t,n,e){"use strict";function r(t){return s._24(0,[(t()(),s._25(0,null,null,1,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\tno books smh\n\t"]))],null,null)}function i(t){return s._24(0,[(t()(),s._25(0,null,null,9,"p",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,3,"a",[["class","b"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;if("click"===n){r=!1!==s._29(t,3).onClick(e.button,e.ctrlKey,e.metaKey)&&r}return r},null,null)),s._26(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),s._31(2),(t()(),s._27(null,["\n\t\t\t\t","\n\t\t\t"])),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t\t\tby ","\n \t\t\t"])),(t()(),s._27(null,["\n\t\t"]))],function(t,n){t(n,3,0,t(n,4,0,"/books",n.context.$implicit.id))},function(t,n){t(n,2,0,s._29(n,3).target,s._29(n,3).href),t(n,5,0,n.context.$implicit.title),t(n,8,0,n.context.$implicit.author)})}function o(t){return s._24(0,[(t()(),s._25(0,null,null,4,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(8388608,null,null,1,null,i)),s._26(401408,null,0,c.l,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),(t()(),s._27(null,["\n\t"]))],function(t,n){t(n,3,0,n.component.books)},null)}function l(t){return s._24(0,[(t()(),s._25(0,null,null,17,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\tYour Books\n\t"])),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,1,null,r)),s._26(8192,null,0,c.m,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,1,null,o)),s._26(8192,null,0,c.m,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,5,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,2,"a",[["routerLink","/books/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;if("click"===n){r=!1!==s._29(t,14).onClick(e.button,e.ctrlKey,e.metaKey)&&r}return r},null,null)),s._26(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),(t()(),s._27(null,["Add a book."])),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n"])),(t()(),s._27(null,["\n\n"]))],function(t,n){var e=n.component;t(n,6,0,e.noBooks),t(n,9,0,!e.noBooks),t(n,14,0,"/books/new")},function(t,n){t(n,13,0,s._29(n,14).target,s._29(n,14).href)})}function u(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-book-list",[],null,null,null,l,d)),s._26(122880,null,0,_.a,[p.a,h.a],null,null)],function(t,n){t(n,1,0)},null)}var s=e("3j3K"),a=e("5oXY"),c=e("2Je8"),_=e("HKeY"),p=e("yw3Q"),h=e("Zcpd");e.d(n,"a",function(){return g});var f=[],d=s._23({encapsulation:2,styles:f,data:{}}),g=s._28("app-book-list",_.a,u,{},{},[])},"9Tle":function(t,n,e){"use strict";var r=e("98po"),i=e("Gvdl"),o=(e.n(i),e("fwo/")),l=e("rGEv");e.d(n,"a",function(){return a});var u=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},a=function(){function t(t,n,e,o){var u=this;this.actions$=t,this.booksApi=n,this.bookStorage=e,this.paragraphParserService=o,this.getById$=this.actions$.ofType(l.c).map(r.c).switchMap(function(t){if(null==t)return i.Observable.empty();if(u.bookStorage.isStored(t)){var n=u.bookStorage.getById(t);return i.Observable.of(new l.d(u.fromJson(n)))}var e=u.actions$.ofType(l.c).skip(1);return u.booksApi.getById(t).takeUntil(e).map(function(t){return new l.d(t)})}),this.write$=this.actions$.ofType(l.e).map(r.c).switchMap(function(t){if(null==t)return i.Observable.empty();var n=u.actions$.ofType(l.e).skip(1);return u.booksApi.createFromJsonBook(t).takeUntil(n).map(function(){return new l.f})}),this.storeLocally$=this.actions$.ofType(l.g).map(r.c).do(function(t){return u.bookStorage.set(t.json),i.Observable.empty()})}return t.prototype.fromJson=function(t){var n=this.paragraphParserService.parse(t.body),e=n.reduce(function(t,n){return t+=n.length},0);return{id:t.id,title:t.title,author:t.author,content:n,length:e}},t.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:o.b},{type:o.c}]},t}();u([e.i(r.b)(),s("design:type","function"==typeof(c=void 0!==i.Observable&&i.Observable)&&c||Object)],a.prototype,"getById$",void 0),u([e.i(r.b)(),s("design:type","function"==typeof(_=void 0!==i.Observable&&i.Observable)&&_||Object)],a.prototype,"write$",void 0),u([e.i(r.b)(),s("design:type","function"==typeof(p=void 0!==i.Observable&&i.Observable)&&p||Object)],a.prototype,"storeLocally$",void 0);var c,_,p},"9pxV":function(t,n,e){"use strict";var r=e("ELit");e.d(n,"a",function(){return l});var i="book-id-",o="stored-book-ids",l=function(){function t(t){this.localStorage=t}return t.prototype.getById=function(t){var n=this.localStorage.get(""+(i+String(t)));if(null!=n)return JSON.parse(n)},t.prototype.isStored=function(t){return this.getStoredIds().includes(Number(t))},t.prototype.set=function(t){null==this.getById(t.id)&&(this.localStorage.set(""+(i+String(t.id)),JSON.stringify(t)),this.addStoredId(t.id))},t.prototype.clear=function(){this.localStorage.clear()},t.prototype.getStoredIds=function(){var t=this.localStorage.get(o);return null==t?(this.localStorage.set(o,JSON.stringify([])),[]):JSON.parse(t).map(Number)},t.prototype.addStoredId=function(t){t=Number(t);var n=this.getStoredIds();n.includes(t)||(n.push(t),this.localStorage.set(o,JSON.stringify(n)))},t.ctorParameters=function(){return[{type:r.a}]},t}()},"9sFL":function(t,n,e){"use strict";var r=e("37y8");e.d(n,"a",function(){return r.a});var i=e("yw3Q");e.d(n,"b",function(){return i.a});e("ea/y")},AK3k:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},BeuU:function(t,n,e){"use strict";var r=(e("AK3k"),e("ELit"),e("CLgq"));e.d(n,"a",function(){return r.a});var i=e("9pxV");e.d(n,"b",function(){return i.a})},BlzQ:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},CI7P:function(t,n,e){"use strict";var r=e("McXY");e.d(n,"a",function(){return i});var i=function(){function t(t){this.authService=t,this.email="",this.password=""}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.submit=function(){this.authService.login(this.email,this.password).subscribe(function(t){t||console.log("login failed")},function(){console.log("login failed")})},t.ctorParameters=function(){return[{type:r.a}]},t}()},CLgq:function(t,n,e){"use strict";var r=e("Fzro"),i=e("ELit");e.d(n,"a",function(){return l});var o="authToken",l=function(){function t(t){this.localStorage=t}return t.prototype.set=function(t){this.localStorage.set(o,t)},t.prototype.delete=function(){this.localStorage.remove(o)},t.prototype.get=function(){return this.localStorage.get(o)},t.prototype.getOptions=function(){var t=new r.l;return t.append("Authorization",this.getHeaderString()),{headers:t}},t.prototype.getHeaderString=function(){return"Bearer "+this.get()},t.ctorParameters=function(){return[{type:i.a}]},t}()},CXAF:function(t,n,e){"use strict";var r=e("CI7P");e.d(n,"a",function(){return r.a})},Cd9f:function(t,n,e){"use strict";var r=e("McXY"),i=e("agbq");e.d(n,"a",function(){return o});var o=(i.a,i.b,i.c,r.b,r.b,i.d,function(){function t(){}return t}())},Ckyl:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t.ctorParameters=function(){return[]},t}()},ELit:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Qbdm");e.d(n,"a",function(){return o});var o=function(){function t(t){this.localStorage=t.defaultView.localStorage}return t.prototype.get=function(t){return this.localStorage.getItem(t)},t.prototype.set=function(t,n){this.localStorage.setItem(t,n)},t.prototype.remove=function(t){this.localStorage.removeItem(t)},t.prototype.clear=function(){this.localStorage.clear()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.F,args:[i.c]}]}]},t}()},FUK6:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},GQfQ:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=5e3,i=5,o=function(t,n){return Math.abs(t-n)<=i},l=function(){function t(){}return t.prototype.getChildPositionData=function(t){var n=window.document.createElement("div");window.document.body.appendChild(n);var e=0,r=Object.keys(t).reduce(function(r,i){var o=t[i];n.appendChild(o);var l=o.scrollHeight;return e+=l,r[i]={element:o,height:l,previousSiblingsHeight:e},r},{});return n.remove(),r},t.prototype.updatePreviouSiblingHeights=function(t){var n=0;return Object.keys(t).sort(function(t,n){return Number(t)-Number(n)}).reduce(function(e,r){return e[r]=Object.assign({},t[r],{previousSiblingsHeight:n}),n+=t[r].height,e},{})},t.prototype.fillContainer=function(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this.emptyContainer(t);var o=this.getChildByIdx(e,r);t.appendChild(o);for(var l=r;null!=e[l-1]&&l>=r-10;)l--,t.insertBefore(this.getChildByIdx(e,l),this.getChildByIdx(e,l+1));for(var u=r;null!=e[u+1]&&u<=r+10;)u++,t.appendChild(this.getChildByIdx(e,u));var s=window.document.createElement("div");s.style.height=e[l].previousSiblingsHeight+"px",s.id="topPaddingDiv",t.insertBefore(s,this.getChildByIdx(e,l));var a=window.document.createElement("div"),c=this.getPaddingAfterChild(e,u);return a.id="bottomPaddingDiv",a.style.height=c+"px",t.appendChild(a),n.scrollTop=o.offsetTop-i,{firstChildIdx:l,lastChildIdx:u}},t.prototype.updateContainerBuffers=function(t,n,e,i,l){void 0===i&&(i=0);for(var u=n.getBoundingClientRect(),s=u.top,a=u.bottom,c=this.updateBounds(l,0,0);o(l.firstChildIdx,c.firstChildIdx)&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().bottom<-1*r;)c=this.removeFirstChild(e,c),this.updatePaddingDivs(e,c);for(;o(l.lastChildIdx,c.lastChildIdx)&&t.lastElementChild.getBoundingClientRect().top>a+r;)c=this.removeLastChild(e,c),this.updatePaddingDivs(e,c);for(;null!=e[c.firstChildIdx-1]&&c.firstChildIdx>0&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().top>s-r;)t.insertBefore(this.getChildByIdx(e,c.firstChildIdx-1),this.getChildByIdx(e,c.firstChildIdx)),c=this.updateBounds(c,-1,0),this.updatePaddingDivs(e,c);for(;null!=e[c.lastChildIdx+1]&&c.lastChildIdx<Object.keys(e).length-1&&this.getChildByIdx(e,c.lastChildIdx).getBoundingClientRect().bottom<a+r;)t.insertBefore(this.getChildByIdx(e,[c.lastChildIdx+1]),window.document.querySelector("#bottomPaddingDiv")),c=this.updateBounds(c,0,1),this.updatePaddingDivs(e,c);return c},t.prototype.updatePaddingDivs=function(t,n){var e=window.document.querySelector("#topPaddingDiv"),r=window.document.querySelector("#bottomPaddingDiv");e.style.height=t[n.firstChildIdx].previousSiblingsHeight+"px",r.style.height=this.getPaddingAfterChild(t,n.lastChildIdx)},t.prototype.emptyContainer=function(t){for(;t.children.length;)t.firstElementChild.remove()},t.prototype.removeFirstChild=function(t,n){return this.getChildByIdx(t,n.firstChildIdx).remove(),this.updateBounds(n,1,0)},t.prototype.removeLastChild=function(t,n){return this.getChildByIdx(t,n.lastChildIdx).remove(),this.updateBounds(n,0,-1)},t.prototype.getPaddingAfterChild=function(t,n){var e=t[n];this.getLastChild(t);return this.getTotalChildrenHeight(t)-this.getBottomHeight(e)+"px"},t.prototype.getChildByIdx=function(t,n){return t[n].element},t.prototype.updateBounds=function(t,n,e){return{firstChildIdx:t.firstChildIdx+n,lastChildIdx:t.lastChildIdx+e}},t.prototype.getTotalChildrenHeight=function(t){var n=this.getLastChild(t);return n.height+n.previousSiblingsHeight},t.prototype.getLastChild=function(t){return t[Math.max.apply(Math,Object.keys(t).map(Number))]},t.prototype.getBottomHeight=function(t){return t.height+t.previousSiblingsHeight},t}()},GjlP:function(t,n,e){"use strict";var r=e("Gvdl");e.n(r);e.d(n,"a",function(){return i});var i=function(){function t(){}return t.prototype.getInterval=function(t){return r.Observable.interval(t)},t.prototype.getIntervalFromWpm=function(t,n){return void 0===n&&(n=1),0===t?r.Observable.never():r.Observable.interval(6e4/t*n)},t}()},GuZw:function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(0,null,null,30,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),o._27(null,["LOGIN PAGE"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,8)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,8).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,8)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,8)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.email=e)&&r}return r},null,null)),o._26(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._30(512,null,u.f,function(t){return[t]},[u.d]),o._26(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,u.h,null,[u.g]),o._26(8192,null,0,u.i,[u.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,18)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,18).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,18)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,18)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.password=e)&&r}return r},null,null)),o._26(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._30(512,null,u.f,function(t){return[t]},[u.d]),o._26(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,u.h,null,[u.g]),o._26(8192,null,0,u.i,[u.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,1,"button",[],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.submit()&&r}return r},null,null)),(t()(),o._27(null,["Log In!"])),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n"])),(t()(),o._27(null,["\n"]))],function(t,n){var e=n.component;t(n,10,0,e.email),t(n,20,0,e.password)},function(t,n){t(n,7,0,o._29(n,12).ngClassUntouched,o._29(n,12).ngClassTouched,o._29(n,12).ngClassPristine,o._29(n,12).ngClassDirty,o._29(n,12).ngClassValid,o._29(n,12).ngClassInvalid,o._29(n,12).ngClassPending),t(n,17,0,o._29(n,22).ngClassUntouched,o._29(n,22).ngClassTouched,o._29(n,22).ngClassPristine,o._29(n,22).ngClassDirty,o._29(n,22).ngClassValid,o._29(n,22).ngClassInvalid,o._29(n,22).ngClassPending)})}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-login-page",[],null,[["document","keydown"]],function(t,n,e){var r=!0;if("document:keydown"===n){r=!1!==o._29(t,1).handleEnter(e)&&r}return r},r,c)),o._26(24576,null,0,l.a,[s.a],null,null)],null,null)}var o=e("3j3K"),l=e("CI7P"),u=e("NVOs"),s=e("qsEO");e.d(n,"a",function(){return _});var a=[],c=o._23({encapsulation:2,styles:a,data:{}}),_=o._28("app-login-page",l.a,i,{},{},[])},HKeY:function(t,n,e){"use strict";var r=e("WWmu"),i=e("9sFL");e.d(n,"a",function(){return o});var o=function(){function t(t,n){this.booksApi=t,this.store=n,this.books=[]}return t.prototype.ngOnInit=function(){var t=this;this.booksApiSubscription=this.booksApi.getByFilter().subscribe(function(n){return t.books=n})},t.prototype.ngOnDestroy=function(){this.cancelBooksApiSubscription()},Object.defineProperty(t.prototype,"noBooks",{get:function(){return null==this.books||0===this.books.length},enumerable:!0,configurable:!0}),t.prototype.cancelBooksApiSubscription=function(){null!=this.booksApiSubscription&&(this.booksApiSubscription.unsubscribe(),this.booksApiSubscription=null)},t.ctorParameters=function(){return[{type:i.b},{type:r.a}]},t}()},Iksp:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},Jlqr:function(t,n,e){"use strict";function r(t,n){return n=Array.isArray(n)?n.join("/"):String(n),n=n.replace(c,"$1"),t+"/"+n}function i(t,n){return null==n?t:(null==t&&(t={}),t.search=o(n),t)}function o(t){return Object.keys(t).reduce(function(n,e){var r=t[e];return Array.isArray(r)?r.forEach(function(t){return n.append(e,String(t))}):null!=r&&n.set(e,String(r)),n},new l.m)}var l=e("Fzro"),u=e("+pb+"),s=(e.n(u),e("PZt1"));e.d(n,"a",function(){return a});var a=function(){function t(t,n){this.config=t,this.http=n}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.config.baseUrl},enumerable:!0,configurable:!0}),t.prototype.request=function(t,n){return this.wrapResponse(this.http.request(this.getPath(t),n))},t.prototype.get=function(t,n,e){return this.wrapResponse(this.http.get(this.getPath(t),i(e,n)))},t.prototype.post=function(t,n,e,r){return this.wrapResponse(this.http.post(this.getPath(t),n,i(r,e)))},t.prototype.put=function(t,n,e,r){return this.wrapResponse(this.http.put(this.getPath(t),n,i(r,e)))},t.prototype.patch=function(t,n,e,r){return this.wrapResponse(this.http.patch(this.getPath(t),n,i(r,e)))},t.prototype.delete=function(t,n,e){return this.wrapResponse(this.http.delete(this.getPath(t),i(e,n)))},t.prototype.wrapResponse=function(t){return t.map(function(t){try{return t.json()}catch(n){return t.text()}})},t.prototype.getPath=function(t){return r(this.baseUrl,t)},t.ctorParameters=function(){return[{type:s.a},{type:l.k}]},t}(),c=/^\/*(.*?)\/*$/},LSKO:function(t,n,e){"use strict";var r=e("Ckyl");e.d(n,"a",function(){return r.a})},McXY:function(t,n,e){"use strict";var r=e("xaf1");e.d(n,"b",function(){return r.a});var i=(e("4Xti"),e("qsEO"));e.d(n,"a",function(){return i.a})},Md7J:function(t,n,e){"use strict";var r=e("+Do2");e.d(n,"a",function(){return r.a})},NVNu:function(t,n){},NqZ3:function(t,n,e){"use strict";var r=e("HKeY");e.d(n,"a",function(){return r.a})},OQwA:function(t,n,e){"use strict";var r=e("WWmu"),i=e("Gvdl"),o=(e.n(i),e("3pbj")),l=e("UGCa"),u=e("fwo/");e.d(n,"a",function(){return s});var s=function(){function t(t,n){this.intervalService=t,this.store=n,this.currentWordIdx=0,this.bookPosition$=this.store.select(o.b),this.play$=this.store.select(o.c),this.wpm$=this.store.select(o.d),this.phraseLength$=this.store.select(o.e)}return Object.defineProperty(t.prototype,"phrase",{get:function(){if(null==this.word)return[];if(this.phraseRequiresSplit){var t=this.word.split(" ");return t.slice(0,t.length-1)}return this.word.split(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phraseRequiresSplit",{get:function(){return this.word.length>15&&this.word.split(" ").length>1},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.playSubscription=i.Observable.combineLatest(this.play$,this.wpm$,this.phraseLength$).debounceTime(100).subscribe(function(n){var e=n[0],r=n[1],i=n[2];t.cancelSubscription(t.intervalSubscription),e&&t.startRsvInterval(r,i)}),this.bookPositionSubscription=this.bookPosition$.subscribe(function(n){null!=l&&null!=t.book&&(t.currentWordIdx=t.book.content[n.paragraphIdx].firstIndex+n.wordIdx)})},t.prototype.ngOnDestroy=function(){this.cancelSubscription(this.intervalSubscription),this.cancelSubscription(this.playSubscription)},t.prototype.startRsvInterval=function(t,n){var e=this;this.cancelSubscription(this.intervalSubscription),this.intervalSubscription=this.intervalService.getIntervalFromWpm(t,n).subscribe(function(){e.phraseRequiresSplit?e.store.dispatch(new l.StepAction(n-1)):e.store.dispatch(new l.StepAction(n))})},t.prototype.cancelSubscription=function(t){null!=t&&(t.unsubscribe(),t=null)},t.ctorParameters=function(){return[{type:u.d},{type:r.a}]},t}()},OSGG:function(t,n,e){"use strict";function r(t){return o._24(2,[o._35(201326592,1,{contentContainer:0}),(t()(),o._27(null,[" "])),(t()(),o._25(0,[[1,0],["container",1]],null,0,"div",[["class","full-text"]],null,null,null,null,null)),(t()(),o._27(null,["\n"]))],null,null)}function i(t){return o._24(0,[(t()(),o._25(0,null,null,2,"app-full-text-view",[],null,[[null,"scroll"]],function(t,n,e){var r=!0;if("scroll"===n){r=!1!==o._29(t,1).onScroll(e)&&r}return r},r,p)),o._26(2187264,null,1,l.a,[u.a,s.a,o.e,o.Y,a.a,c.c],null,null),o._35(301989888,1,{paragraphs:1})],null,null)}var o=e("3j3K"),l=e("SjTA"),u=e("3imX"),s=e("GQfQ"),a=e("Zcpd"),c=e("Qbdm");e.d(n,"b",function(){return p}),n.a=r;var _=[],p=o._23({encapsulation:2,styles:_,data:{}});o._28("app-full-text-view",l.a,i,{book:"book",bookPosition:"bookPosition"},{},[])},OfQ8:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},PZt1:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t){if(null==t)throw new Error("rest-http.config is invalud");this.baseUrl=t.baseUrl}return t}()},Pm2l:function(t,n){},RYfX:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e,r){this.paragraphIdx=t,this.wordIdx=n,this.bookId=e,this.id=r}return t}()},RkH2:function(t,n,e){"use strict";var r=e("am1z");e.d(n,"a",function(){return r.a})},SjTA:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Qbdm"),o=e("Gvdl"),l=(e.n(o),e("WWmu")),u=e("3pbj"),s=e("kUXO"),a=e("fwo/");e.d(n,"a",function(){return c});var c=function(){function t(t,n,e,r,i,l){var s=this;this.bookPositionService=t,this.scrollService=n,this.ngZone=e,this.elementRef=r,this.store=i,this.paragraphElements={},this.hasScrolled=new o.Subject,this.inputsChange=new o.Subject,this.hasDestroyed=!1,this.document=l,this.store.select(u.f).subscribe(function(t){null==t&&null==s.childPositionData||(s.childPositionData=t)})}return t.prototype.onScroll=function(t){this.hasScrolled.next(t)},Object.defineProperty(t.prototype,"book",{get:function(){return this._book},set:function(t){t!==this._book&&(this._book=t,this.inputsChange.next())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bookPosition",{get:function(){return this._bookPosition},set:function(t){t!==this._bookPosition&&(this._bookPosition=t,this.inputsChange.next())},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.initContainerContent(),this.initScrollSubscription()},t.prototype.ngOnDestroy=function(){this.hasDestroyed=!0},t.prototype.subscribeToInputs=function(){var t=this;this.inputsChange.first().subscribe(function(){return t.initContainerContent()})},t.prototype.initScrollSubscription=function(){var t=this;this.hasScrolled.debounceTime(0).filter(function(){return!t.hasDestroyed}).subscribe(function(){return t.updateContainerContent()})},t.prototype.initContainerContent=function(){var t=this;if(null!=this.childPositionData&&Object.keys(this.childPositionData).length===this.paragraphs.toArray().length)return this.fillContainer(),this.updateContainerContent(),void this.updateBuffers();if(this.setParagraphElements(),!Object.keys(this.paragraphElements).length||null==this.bookPosition)return void this.subscribeToInputs();var n=Object.keys(this.paragraphElements).map(function(t){return Number(t)}).sort(function(t,n){return t-n}),e=n.reduce(function(n,e){return 0!==n.length&&e%50!=1||n.push({}),n[n.length-1][e]=t.paragraphElements[e],n},[]).sort(function(n,e){var r=t.bookPosition.paragraphIdx;return Object.keys(n).includes(String(r))?-1:Object.keys(e).includes(String(r))?1:0});this.setChildPositionDataFromQueue(e),this.fillContainer()},t.prototype.fillContainer=function(){this.contentBounds=this.scrollService.fillContainer(this.contentContainer.nativeElement,this.elementRef.nativeElement,this.childPositionData,this.bookPosition.paragraphIdx,100)},t.prototype.setChildPositionDataFromQueue=function(t){var n=this;if(0!==t.length){var e=this.childPositionData||{};e=Object.assign({},this.childPositionData,this.scrollService.getChildPositionData(t[0])),t=t.slice(1),0===t.length&&(e=this.scrollService.updatePreviouSiblingHeights(e),this.updateContainerContent(),this.updateBuffers()),this.store.dispatch(new s.c(e)),setTimeout(function(){return n.setChildPositionDataFromQueue(t)})}},t.prototype.updateContainerContent=function(){this.contentBounds=this.scrollService.updateContainerBuffers(this.contentContainer.nativeElement,this.elementRef.nativeElement,this.childPositionData,this.bookPosition.paragraphIdx,this.contentBounds)},t.prototype.updateBuffers=function(){this.scrollService.updatePaddingDivs(this.childPositionData,this.contentBounds)},t.prototype.setParagraphElements=function(){null!=this.paragraphs&&(this.paragraphElements=this.mapParagraphsById())},t.prototype.mapParagraphsById=function(){return this.paragraphs.toArray().reduce(function(t,n){return t[String(n.id)]=n.innerElementRef.nativeElement,t},{})},t.ctorParameters=function(){return[{type:a.e},{type:a.f},{type:r.e},{type:r.Y},{type:l.a},{type:void 0,decorators:[{type:r.F,args:[i.c]}]}]},t}()},Tl7P:function(t,n,e){"use strict";function r(t){return s._24(0,[(t()(),s._25(0,null,null,1,"p",[["class","full-text__paragraph__text"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t","\n\t"]))],null,function(t,n){t(n,1,0,n.component.text)})}function i(t){return s._24(0,[(t()(),s._25(0,null,null,3,"span",[],null,null,null,null,null)),s._26(139264,null,0,a.o,[s.w,s.x,s.Y,s.Z],{ngClass:[0,"ngClass"]},null),s._37(["full-text__current-word"]),(t()(),s._27(null,["\n\t\t\t","\n\t\t"]))],function(t,n){var e=n.component;t(n,1,0,t(n,2,0,n.context.index===e.bookPosition.wordIdx))},function(t,n){t(n,3,0,n.context.$implicit+" ")})}function o(t){return s._24(0,[(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,4,"p",[["class","full-text__paragraph__text"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(8388608,null,null,1,null,i)),s._26(401408,null,0,a.l,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n"]))],function(t,n){t(n,4,0,n.component.paragraph.text)},null)}function l(t){return s._24(2,[s._33(0,a.p,[s.u]),s._35(201326592,1,{innerElementRef:0}),(t()(),s._25(0,[[1,0],["innerElementRef",1]],null,10,"div",[["class","full-text__paragraph lh-copy"]],null,null,null,null,null)),s._26(139264,null,0,a.o,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._37(["lh-copy"]),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,2,"span",[["class","full-text__paragraph__meta light-silver f7 code"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t","\n\t"])),s._38(1),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,1,null,r)),s._26(8192,null,0,a.m,[s._3,s._4],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),s._27(null,["\n"])),(t()(),s._27(null,["\n"])),(t()(),s._32(0,[["elseBlock",2]],null,0,null,o)),(t()(),s._27(null,["\n"]))],function(t,n){var e=n.component;t(n,3,0,"full-text__paragraph lh-copy",t(n,4,0,!0)),t(n,11,0,!e.focused,s._29(n,14))},function(t,n){var e=n.component;t(n,7,0,s._34(n,7,0,t(n,8,0,s._29(n,0),e.paragraph.firstIndex+1)))})}function u(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-paragraph",[],null,null,null,l,p)),s._26(24576,null,0,c.a,[],null,null)],null,null)}var s=e("3j3K"),a=e("2Je8"),c=e("g+Y6");e.d(n,"b",function(){return p}),n.a=l;var _=[],p=s._23({encapsulation:2,styles:_,data:{}});s._28("app-paragraph",c.a,u,{paragraph:"paragraph",bookPosition:"bookPosition"},{},[])},UGCa:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"LOAD_SAVED",function(){return r}),e.d(n,"SET",function(){return i}),e.d(n,"SET_PARTIAL_TEXT",function(){return o}),e.d(n,"STEP",function(){return l}),e.d(n,"UNLOAD",function(){return u}),e.d(n,"LoadSavedAction",function(){return s}),e.d(n,"SetAction",function(){return a}),e.d(n,"SetPartialTextAction",function(){return c}),e.d(n,"UnloadAction",function(){return _}),e.d(n,"StepAction",function(){return p});var r="[BOOK_POSITION] Load Saved",i="[BOOK_POSITION] Set",o="[BOOK_POSITION] Set Partial Text",l="[BOOK_POSITION] Step",u="[BOOK_POSITION] Unload",s=function(){function t(t){this.payload=t,this.type=r}return t}(),a=function(){function t(t){this.payload=t,this.type=i}return t}(),c=function(){function t(){this.type=o}return t}(),_=function(){function t(){this.type=u}return t}(),p=function(){function t(t){this.payload=t,this.type=l}return t}()},UvOO:function(t,n,e){"use strict";var r=e("OQwA");e.d(n,"a",function(){return r.a})},Vd6R:function(t,n,e){"use strict";var r=e("Fzro"),i=e("Gvdl"),o=(e.n(i),e("BeuU")),l=e("PZt1");e.d(n,"a",function(){return u});var u=function(){function t(t,n,e){this.http=t,this.config=n,this.tokenService=e,this.tokenRouteExtension="/user_token",this.usersRouteExtension="/users"}return Object.defineProperty(t.prototype,"tokenRoute",{get:function(){return this.config.baseUrl+this.tokenRouteExtension},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"usersRoute",{get:function(){return this.config.baseUrl+this.usersRouteExtension},enumerable:!0,configurable:!0}),t.prototype.verify=function(){return this.http.get(this.usersRoute,this.tokenService.getOptions()).map(function(t){return t.json()})},t.prototype.get=function(t,n){return this.http.post(this.tokenRoute,{auth:{email:t,password:n}}).map(function(t){return null==t||""===t.text()?i.Observable.of(void 0):t.json()})},t.ctorParameters=function(){return[{type:r.k},{type:l.a},{type:o.a}]},t}()},Y7Pa:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:var e=!t.rsv;return Object.assign({},t,{rsv:e,play:!!e&&t.play});case i.b:var r=!t.play;return Object.assign({},t,{play:r,rsv:!!r||t.rsv});case i.c:return Object.assign({},t,{wpm:n.payload});case i.d:return Object.assign({},t,{phraseLength:n.payload});default:return t}}var i=e("cyeq");n.a=r,e.d(n,"c",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"d",function(){return s}),e.d(n,"e",function(){return a});var o={rsv:!1,phraseLength:2,play:!1,wpm:310},l=function(t){return t.rsv},u=function(t){return t.play},s=function(t){return t.wpm},a=function(t){return t.phraseLength}},YWx4:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},YrpA:function(t,n,e){"use strict";var r=e("LSKO"),i=e("3Nm8"),o=e("pXib");e.d(n,"a",function(){return l});var l=(r.a,i.a,o.a,function(){function t(){}return t}())},ZxdZ:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.SET:return Object.assign({},t,{position:n.payload});case i.UNLOAD:return Object.assign({},t,{position:o});default:return t}}var i=e("UGCa");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.position}},aEq8:function(t,n){},agbq:function(t,n,e){"use strict";var r=(e("7grU"),e("RkH2"));e.d(n,"b",function(){return r.a});var i=e("NqZ3");e.d(n,"c",function(){return i.a});var o=(e("pshA"),e("CXAF"));e.d(n,"d",function(){return o.a});var l=e("Md7J");e.d(n,"a",function(){return l.a});e("UvOO")},am1z:function(t,n,e){"use strict";var r=e("5oXY"),i=e("3pbj"),o=e("WWmu"),l=e("cyeq"),u=e("rGEv"),s=e("UGCa"),a=e("fwo/");e.d(n,"a",function(){return c});var c=function(){function t(t,n,e,r){this.route=t,this.booksApi=n,this.bookPositionService=e,this.store=r,this.rsvEnabled$=this.store.select(i.g),this.phraseLength$=this.store.select(i.e),this.book$=this.store.select(i.a),this.bookPosition$=this.store.select(i.b),this.play$=this.store.select(i.c),this.wpm$=this.store.select(i.d)}return t.prototype.ngOnInit=function(){var t=this;this.book$.filter(function(t){return null!=t}).take(1).subscribe(function(n){t.store.dispatch(new s.LoadSavedAction(n.id))}),this.getBookById(),this.initBookPositionSubscription()},t.prototype.ngOnDestroy=function(){this.resetBookState()},t.prototype.forceStep=function(t){this.store.dispatch(new s.StepAction(t))},t.prototype.toggleRsv=function(){this.store.dispatch(new l.e)},t.prototype.togglePlay=function(){this.store.dispatch(new l.f)},t.prototype.setWpm=function(t){this.store.dispatch(new l.g(t))},t.prototype.getBookById=function(){var t=this.route.snapshot.params.id;this.store.dispatch(new u.i(t))},t.prototype.initBookPositionSubscription=function(){var t=this;return this.bookPosition$.withLatestFrom(this.book$,this.phraseLength$).subscribe(function(n){var e=n[0],r=n[1],i=n[2];null!=e&&null!=r&&(t.currentPhrase=t.bookPositionService.getCurrentPhrase(r,e,i))})},t.prototype.resetBookState=function(){this.store.dispatch(new u.j),this.store.dispatch(new s.UnloadAction)},t.ctorParameters=function(){return[{type:r.v},{type:a.a},{type:a.e},{type:o.a}]},t}()},cyeq:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"f",function(){return s}),e.d(n,"g",function(){return a});var r="[READER] Toggle RSV",i="[READER] Play",o="[READER] WPM",l="[READER] Phrase Length",u=function(){function t(){this.type=r}return t}(),s=function(){function t(){this.type=i}return t}(),a=function(){function t(t){this.payload=t,this.type=o}return t}();!function(){function t(t){this.payload=t,this.type=l}}()},"ea/y":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},"fwo/":function(t,n,e){"use strict";var r=(e("OfQ8"),e("lk+P"));e.d(n,"a",function(){return r.b});var i=e("6W3o");e.d(n,"c",function(){return i.b}),e.d(n,"d",function(){return i.c}),e.d(n,"e",function(){return i.a}),e.d(n,"f",function(){return i.d});var o=e("BeuU");e.d(n,"b",function(){return o.b})},"g+Y6":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return Object.defineProperty(t.prototype,"focused",{get:function(){return null!=this.bookPosition&&null!=this.paragraph&&this.id===this.bookPosition.paragraphIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.paragraph.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.paragraph.textString},enumerable:!0,configurable:!0}),t}()},gCpG:function(t,n,e){"use strict";function r(t){return a._24(0,[(t()(),a._25(0,null,null,1,"span",[["class","b-ns"]],null,null,null,null,null)),(t()(),a._27(null,["\n\t\t\t","\n\t\t"]))],null,function(t,n){var e=n.component;t(n,1,0,null!=e.book?e.book.title:"no book")})}function i(t){return a._24(0,[(t()(),a._25(0,null,null,1,"div",[["appInteractedClass","icon-button--interacted"],["class","icon-button f4 f3-ns pl1 icon-cancel"]],null,[[null,"click"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var r=!0,i=t.component;if("mousedown"===n){r=!1!==a._29(t,1).onInteract()&&r}if("touchstart"===n){r=!1!==a._29(t,1).onInteract()&&r}if("click"===n){r=!1!==i.toggleRsv.emit()&&r}return r},null,null)),a._26(8192,null,0,c.a,[a._36,a.Y],{appInteractedClass:[0,"appInteractedClass"]},null)],function(t,n){t(n,1,0,"icon-button--interacted")},null)}function o(t){return a._24(0,[(t()(),a._25(0,null,null,1,"div",[["appInteractedClass","icon-button--interacted"],["class","icon-button f2 f1-ns pl1 icon-play-circled2"]],null,[[null,"click"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var r=!0,i=t.component;if("mousedown"===n){r=!1!==a._29(t,1).onInteract()&&r}if("touchstart"===n){r=!1!==a._29(t,1).onInteract()&&r}if("click"===n){r=!1!==i.togglePlay.emit()&&r}return r},null,null)),a._26(8192,null,0,c.a,[a._36,a.Y],{appInteractedClass:[0,"appInteractedClass"]},null)],function(t,n){t(n,1,0,"icon-button--interacted")},null)}function l(t){return a._24(0,[(t()(),a._25(0,null,null,1,"div",[["appInteractedClass","icon-button--interacted"],["class","icon-button f2 f1-ns pl1 icon-pause-circle-o"]],null,[[null,"click"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var r=!0,i=t.component;if("mousedown"===n){r=!1!==a._29(t,1).onInteract()&&r}if("touchstart"===n){r=!1!==a._29(t,1).onInteract()&&r}if("click"===n){r=!1!==i.togglePlay.emit()&&r}return r},null,null)),a._26(8192,null,0,c.a,[a._36,a.Y],{appInteractedClass:[0,"appInteractedClass"]},null)],function(t,n){t(n,1,0,"icon-button--interacted")},null)}function u(t){return a._24(0,[a._35(201326592,1,{wpmInput:0}),(t()(),a._25(0,null,null,30,"div",[["class","w-100 flex items-center justify-between"]],null,null,null,null,null)),(t()(),a._27(null,["\n\t"])),(t()(),a._25(0,null,null,4,"div",[["class","flex items-center"]],null,null,null,null,null)),(t()(),a._27(null,["\n\t\t"])),(t()(),a._32(8388608,null,null,1,null,r)),a._26(8192,null,0,_.m,[a._3,a._4],{ngIf:[0,"ngIf"]},null),(t()(),a._27(null,["\n\t"])),(t()(),a._27(null,["\n\t"])),(t()(),a._25(0,null,null,21,"div",[["class","flex items-center"]],null,null,null,null,null)),(t()(),a._27(null,["\n\t\t"])),(t()(),a._27(null,["\n\t\t"])),(t()(),a._32(8388608,null,null,1,null,i)),a._26(8192,null,0,_.m,[a._3,a._4],{ngIf:[0,"ngIf"]},null),(t()(),a._27(null,["\n\n\t\t"])),(t()(),a._27(null,["\n\t\t"])),(t()(),a._25(0,null,null,1,"div",[["appInteractedClass","icon-button--interacted"],["class","icon-button f4 f3-ns pl1 icon-fast-bw"]],null,[[null,"click"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var r=!0,i=t.component;if("mousedown"===n){r=!1!==a._29(t,17).onInteract()&&r}if("touchstart"===n){r=!1!==a._29(t,17).onInteract()&&r}if("click"===n){r=!1!==i.forceStep.emit(-20)&&r}return r},null,null)),a._26(8192,null,0,c.a,[a._36,a.Y],{appInteractedClass:[0,"appInteractedClass"]},null),(t()(),a._27(null,["\n\n\t\t"])),(t()(),a._27(null,["\n\t\t"])),(t()(),a._32(8388608,null,null,1,null,o)),a._26(8192,null,0,_.m,[a._3,a._4],{ngIf:[0,"ngIf"]},null),(t()(),a._27(null,["\n\n\t\t"])),(t()(),a._27(null,["\n\t\t"])),(t()(),a._32(8388608,null,null,1,null,l)),a._26(8192,null,0,_.m,[a._3,a._4],{ngIf:[0,"ngIf"]},null),(t()(),a._27(null,["\n\n\t\t"])),(t()(),a._27(null,["\n\t\t"])),(t()(),a._25(0,null,null,1,"div",[["appInteractedClass","icon-button--interacted"],["class","icon-button f4 f3-ns pl1 icon-fast-fw"]],null,[[null,"click"],[null,"mousedown"],[null,"touchstart"]],function(t,n,e){var r=!0,i=t.component;if("mousedown"===n){r=!1!==a._29(t,29).onInteract()&&r}if("touchstart"===n){r=!1!==a._29(t,29).onInteract()&&r}if("click"===n){r=!1!==i.forceStep.emit(20)&&r}return r},null,null)),a._26(8192,null,0,c.a,[a._36,a.Y],{appInteractedClass:[0,"appInteractedClass"]},null),(t()(),a._27(null,["\n\n\t"])),(t()(),a._27(null,["\n"])),(t()(),a._27(null,["\n"]))],function(t,n){var e=n.component;t(n,6,0,null!=e.book),t(n,13,0,e.rsvEnabled),t(n,17,0,"icon-button--interacted"),t(n,21,0,!e.play),t(n,25,0,e.play),t(n,29,0,"icon-button--interacted")},null)}function s(t){return a._24(0,[(t()(),a._25(0,null,null,1,"app-rsv-controls",[],null,null,null,u,f)),a._26(2121728,null,0,p.a,[],null,null)],null,null)}var a=e("3j3K"),c=e("xOko"),_=e("2Je8"),p=e("mK3m");e.d(n,"b",function(){return f}),n.a=u;var h=[],f=a._23({encapsulation:2,styles:h,data:{}});a._28("app-rsv-controls",p.a,s,{book:"book",play:"play",rsvEnabled:"rsvEnabled",wpm:"wpm"},{toggleRsv:"toggleRsv",togglePlay:"togglePlay",forceStep:"forceStep",wpmChange:"wpmChange"},[])},gMB0:function(t,n,e){"use strict";function r(t){return u._24(0,[(t()(),u._25(0,null,null,3,"span",[],null,null,null,null,null)),u._26(139264,null,0,s.o,[u.w,u.x,u.Y,u.Z],{ngClass:[0,"ngClass"]},null),u._37(["pr1"]),(t()(),u._27(null,["\n\t\t\t","\n\t\t"]))],function(t,n){var e=n.component;t(n,1,0,t(n,2,0,0===n.context.index&&e.phrase.length>1&&!1))},function(t,n){t(n,3,0,n.context.$implicit)})}function i(t){return u._24(0,[(t()(),u._25(0,null,null,4,"div",[["class","f7 tc code light-silver"]],null,null,null,null,null)),(t()(),u._27(null,["\n\t\t","k / ","k words (","%)\n\t"])),u._38(2),u._38(2),u._38(2)],null,function(t,n){var e=n.component;t(n,1,0,u._34(n,1,0,t(n,2,0,u._29(n.parent,0),e.currentWordIdx/1e3,"1.1-1")),u._34(n,1,1,t(n,3,0,u._29(n.parent,0),e.book.length/1e3,"1.1-1")),u._34(n,1,2,t(n,4,0,u._29(n.parent,0),e.currentWordIdx/e.book.length*100,"1.0-0")))})}function o(t){return u._24(0,[u._33(0,s.p,[u.u]),(t()(),u._25(0,null,null,10,"div",[["class","flex flex-column flex-column-reverse-ns justify-between items-center h4 pb4"]],null,null,null,null,null)),(t()(),u._27(null,["\n\t"])),(t()(),u._25(0,null,null,4,"div",[["class","f4 f3-ns fw6 tc"]],null,null,null,null,null)),(t()(),u._27(null,["\n\t\t"])),(t()(),u._32(8388608,null,null,1,null,r)),u._26(401408,null,0,s.l,[u._3,u._4,u.w],{ngForOf:[0,"ngForOf"]},null),(t()(),u._27(null,["\n\t"])),(t()(),u._27(null,["\n\t"])),(t()(),u._32(8388608,null,null,1,null,i)),u._26(8192,null,0,s.m,[u._3,u._4],{ngIf:[0,"ngIf"]},null),(t()(),u._27(null,["\n"])),(t()(),u._27(null,["\n\n"]))],function(t,n){var e=n.component;t(n,6,0,e.phrase),t(n,10,0,null!=e.book)},null)}function l(t){return u._24(0,[(t()(),u._25(0,null,null,1,"app-rsv-view",[],null,null,null,o,h)),u._26(122880,null,0,a.a,[c.a,_.a],null,null)],function(t,n){t(n,1,0)},null)}var u=e("3j3K"),s=e("2Je8"),a=e("OQwA"),c=e("GjlP"),_=e("Zcpd");e.d(n,"b",function(){return h}),n.a=o;var p=[],h=u._23({encapsulation:2,styles:p,data:{}});u._28("app-rsv-view",a.a,l,{word:"word",book:"book"},{},[])},"i2b/":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},juMz:function(t,n,e){"use strict";function r(t,n){return l.a.production?g(t,n):d(t,n)}var i=e("bndy"),o=(e.n(i),e("WWmu")),l=e("kZql"),u=e("owqQ"),s=(e.n(u),e("KhQu")),a=(e.n(s),e("ZxdZ")),c=e("zeFx"),_=e("uqwp"),p=e("Y7Pa"),h=e("1mcY");n.a=r,e.d(n,"d",function(){return b}),e.d(n,"h",function(){return y}),e.d(n,"e",function(){return m}),e.d(n,"f",function(){return S}),e.d(n,"b",function(){return P}),e.d(n,"c",function(){return w}),e.d(n,"g",function(){return C}),e.d(n,"i",function(){return E});var f={reader:p.a,books:c.a,bookPosition:a.a,paragraphMap:_.a,userDetails:h.a},d=e.i(u.compose)(s.storeFreeze,o.b)(f),g=e.i(o.b)(f),v=function(t){return t.reader},b=e.i(i.createSelector)(v,p.b),y=e.i(i.createSelector)(v,p.c),m=e.i(i.createSelector)(v,p.d),S=e.i(i.createSelector)(v,p.e),I=function(t){return t.books},P=e.i(i.createSelector)(I,c.b),k=function(t){return t.bookPosition},w=e.i(i.createSelector)(k,a.b),O=function(t){return t.paragraphMap},C=e.i(i.createSelector)(O,_.b),A=function(t){return t.userDetails},E=e.i(i.createSelector)(A,h.b);e.i(i.createSelector)(A,h.c),e.i(i.createSelector)(A,h.d),e.i(i.createSelector)(A,h.e)},"k4+s":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},kUXO:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o});var r="[POSITION_DATA] Set",i="[POSITION_DATA] Unset",o=function(){function t(t){this.payload=t,this.type=r}return t}();!function(){function t(){this.type=i}}()},kZql:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r={production:!0}},kke6:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Iksp"),o=e("5oXY"),l=e("2Je8"),u=e("Cd9f"),s=e("Qbdm"),a=e("FUK6"),c=e("YrpA"),_=e("NVOs"),p=e("7grU"),h=e("Fzro"),f=e("AK3k"),d=e("BlzQ"),g=e("4Xti"),v=e("ea/y"),b=e("k4+s"),y=e("i2b/"),m=e("OfQ8"),S=e("cPow"),I=e("osFu"),P=e("4h9u"),k=e("2zeU"),w=e("Jlqr"),O=e("ELit"),C=e("CLgq"),A=e("Vd6R"),E=e("qsEO"),R=e("yw3Q"),x=e("9pxV"),T=e("9Tle"),j=e("37y8"),B=e("3imX"),M=e("tvlE"),D=e("njfE"),L=e("MF+P"),N=e("68+W"),U=e("xaf1"),F=e("GQfQ"),G=e("GjlP"),H=e("709r"),$=e("lWlE"),K=e("9EeC"),Y=e("GuZw"),q=e("1A80"),z=e("SyMH"),W=e("+Do2"),X=e("am1z"),Z=e("HKeY"),Q=e("CI7P"),V=e("juMz"),J=e("oi6x"),tt=e("NPiC"),nt=e("Zcpd"),et=e("PZt1");e.d(n,"a",function(){return ot});var rt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),it=function(t){function n(n){return t.call(this,n,[H.a,$.a,K.a,Y.a,q.a],[q.a])||this}return rt(n,t),Object.defineProperty(n.prototype,"_ActivatedRoute_69",{get:function(){return null==this.__ActivatedRoute_69&&(this.__ActivatedRoute_69=o.a(this._Router_16)),this.__ActivatedRoute_69},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NoPreloading_70",{get:function(){return null==this.__NoPreloading_70&&(this.__NoPreloading_70=new o.b),this.__NoPreloading_70},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadingStrategy_71",{get:function(){return null==this.__PreloadingStrategy_71&&(this.__PreloadingStrategy_71=this._NoPreloading_70),this.__PreloadingStrategy_71},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RouterPreloader_72",{get:function(){return null==this.__RouterPreloader_72&&(this.__RouterPreloader_72=new o.c(this._Router_16,this._NgModuleFactoryLoader_14,this._Compiler_13,this,this._PreloadingStrategy_71)),this.__RouterPreloader_72},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadAllModules_73",{get:function(){return null==this.__PreloadAllModules_73&&(this.__PreloadAllModules_73=new o.d),this.__PreloadAllModules_73},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ROUTER_INITIALIZER_74",{get:function(){return null==this.__ROUTER_INITIALIZER_74&&(this.__ROUTER_INITIALIZER_74=o.e(this._g_2)),this.__ROUTER_INITIALIZER_74},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_BOOTSTRAP_LISTENER_75",{get:function(){return null==this.__APP_BOOTSTRAP_LISTENER_75&&(this.__APP_BOOTSTRAP_LISTENER_75=[this._ROUTER_INITIALIZER_74,z.a(this,this._EffectsSubscription_66)]),this.__APP_BOOTSTRAP_LISTENER_75},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_LOCALE_ID_76",{get:function(){return null==this.__LOCALE_ID_76&&(this.__LOCALE_ID_76="en-US"),this.__LOCALE_ID_76},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NgLocalization_77",{get:function(){return null==this.__NgLocalization_77&&(this.__NgLocalization_77=new l.a(this._LOCALE_ID_76)),this.__NgLocalization_77},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_ID_78",{get:function(){return null==this.__APP_ID_78&&(this.__APP_ID_78=r.b()),this.__APP_ID_78},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IterableDiffers_79",{get:function(){return null==this.__IterableDiffers_79&&(this.__IterableDiffers_79=r.c()),this.__IterableDiffers_79},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_KeyValueDiffers_80",{get:function(){return null==this.__KeyValueDiffers_80&&(this.__KeyValueDiffers_80=r.d()),this.__KeyValueDiffers_80},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSanitizer_81",{get:function(){return null==this.__DomSanitizer_81&&(this.__DomSanitizer_81=new s.b(this.parent.get(s.c))),this.__DomSanitizer_81},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Sanitizer_82",{get:function(){return null==this.__Sanitizer_82&&(this.__Sanitizer_82=this._DomSanitizer_81),this.__Sanitizer_82},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_HAMMER_GESTURE_CONFIG_83",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_83&&(this.__HAMMER_GESTURE_CONFIG_83=new s.d),this.__HAMMER_GESTURE_CONFIG_83},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EVENT_MANAGER_PLUGINS_84",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_84&&(this.__EVENT_MANAGER_PLUGINS_84=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_83)]),this.__EVENT_MANAGER_PLUGINS_84},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EventManager_85",{get:function(){return null==this.__EventManager_85&&(this.__EventManager_85=new s.h(this._EVENT_MANAGER_PLUGINS_84,this.parent.get(r.e))),this.__EventManager_85},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSharedStylesHost_86",{get:function(){return null==this.__DomSharedStylesHost_86&&(this.__DomSharedStylesHost_86=new s.i(this.parent.get(s.c))),this.__DomSharedStylesHost_86},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomRendererFactory2_87",{get:function(){return null==this.__DomRendererFactory2_87&&(this.__DomRendererFactory2_87=new s.j(this._EventManager_85,this._DomSharedStylesHost_86)),this.__DomRendererFactory2_87},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RendererFactory2_88",{get:function(){return null==this.__RendererFactory2_88&&(this.__RendererFactory2_88=this._DomRendererFactory2_87),this.__RendererFactory2_88},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_SharedStylesHost_89",{get:function(){return null==this.__SharedStylesHost_89&&(this.__SharedStylesHost_89=this._DomSharedStylesHost_86),this.__SharedStylesHost_89},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Testability_90",{get:function(){return null==this.__Testability_90&&(this.__Testability_90=new r.f(this.parent.get(r.e))),this.__Testability_90},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Meta_91",{get:function(){return null==this.__Meta_91&&(this.__Meta_91=new s.k(this.parent.get(s.c))),this.__Meta_91},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Title_92",{get:function(){return null==this.__Title_92&&(this.__Title_92=new s.l(this.parent.get(s.c))),this.__Title_92},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_i_93",{get:function(){return null==this.__i_93&&(this.__i_93=new _.a),this.__i_93},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_AuthGuard_94",{get:function(){return null==this.__AuthGuard_94&&(this.__AuthGuard_94=new U.a(this._AuthService_57,this._Router_16,this._Store_43)),this.__AuthGuard_94},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_InfiniteScrollService_95",{get:function(){return null==this.__InfiniteScrollService_95&&(this.__InfiniteScrollService_95=new F.a),this.__InfiniteScrollService_95},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IntervalService_96",{get:function(){return null==this.__IntervalService_96&&(this.__IntervalService_96=new G.a),this.__IntervalService_96},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._a_0=o.f(this.parent.get(o.g,null)),this._ErrorHandler_1=s.m(),this._g_2=new o.h(this),this._NgProbeToken_3=[o.i()],this._APP_INITIALIZER_4=[o.j(this._g_2),r.g,s.n(this.parent.get(s.o,null),this._NgProbeToken_3)],this._ApplicationInitStatus_5=new r.h(this._APP_INITIALIZER_4),this._f_6=new r.i(this.parent.get(r.e),this.parent.get(r.j),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_5),this._ApplicationRef_7=this._f_6,this._UrlSerializer_8=new o.k,this._RouterOutletMap_9=new o.l,this._ROUTER_CONFIGURATION_10={useHash:!0,enableTracing:!1},this._LocationStrategy_11=o.m(this.parent.get(l.b),this.parent.get(l.c,null),this._ROUTER_CONFIGURATION_10),this._Location_12=new l.d(this._LocationStrategy_11),this._Compiler_13=new r.k,this._NgModuleFactoryLoader_14=new r.l(this._Compiler_13,this.parent.get(r.m,null)),this._ROUTES_15=[[{path:"books",children:[{path:"new",component:W.a},{path:":id",component:X.a},{path:"",pathMatch:"full",component:Z.a}],canActivate:[U.a],canActivateChild:[U.a]},{path:"login",component:Q.a},{path:"**",redirectTo:"/books"}]],this._Router_16=o.n(this._ApplicationRef_7,this._UrlSerializer_8,this._RouterOutletMap_9,this._Location_12,this,this._NgModuleFactoryLoader_14,this._Compiler_13,this._ROUTES_15,this._ROUTER_CONFIGURATION_10,this.parent.get(o.o,null),this.parent.get(o.p,null)),this._RouterModule_17=new o.q(this._a_0,this._Router_16),this._AppRoutingModule_18=new u.a,this._CommonModule_19=new l.e,this._ApplicationModule_20=new r.n(this._ApplicationRef_7),this._BrowserModule_21=new s.p(this.parent.get(s.p,null)),this._InteractionDirectivesModule_22=new a.a,this._ComponentsModule_23=new c.a,this._ba_24=new _.b,this._FormsModule_25=new _.c,this._ContainersModule_26=new p.a,this._HttpModule_27=new h.a,this._BrowserUtilsModule_28=new f.a,this._AuthApiModule_29=new d.a,this._AuthModule_30=new g.a,this._SpecializedApiModule_31=new v.a,this._ApiModule_32=new b.a,this._UtilsServicesModule_33=new y.a,this._ServicesModule_34=new m.a,this._StoreModule_35=new S.a,this._Dispatcher_36=new I.a,this.__INITIAL_REDUCER_37=V.a,this._INITIAL_REDUCER_38=S.b(this.__INITIAL_REDUCER_37),this._Reducer_39=S.c(this._Dispatcher_36,this._INITIAL_REDUCER_38),this.__INITIAL_STATE_40=void 0,this._INITIAL_STATE_41=S.d(this.__INITIAL_STATE_40,this._INITIAL_REDUCER_38),this._State_42=S.e(this._INITIAL_STATE_41,this._Dispatcher_36,this._Reducer_39),this._Store_43=S.f(this._Dispatcher_36,this._Reducer_39,this._State_42),this._Actions_44=new P.a(this._Dispatcher_36),this._ParagraphParserService_45=new k.a,this._RestHttpConfig_46={baseUrl:"http://bounds-api.herokuapp.com"},this._BrowserXhr_47=new h.b,this._ResponseOptions_48=new h.c,this._XSRFStrategy_49=h.d(),this._XHRBackend_50=new h.e(this._BrowserXhr_47,this._ResponseOptions_48,this._XSRFStrategy_49),this._RequestOptions_51=new h.f,this._Http_52=h.g(this._XHRBackend_50,this._RequestOptions_51),this._RestHttp_53=new w.a(this._RestHttpConfig_46,this._Http_52),this._LocalStorageService_54=new O.a(this.parent.get(s.c)),this._AuthTokenService_55=new C.a(this._LocalStorageService_54),this._AuthTokenApi_56=new A.a(this._Http_52,this._RestHttpConfig_46,this._AuthTokenService_55),this._AuthService_57=new E.a(this._AuthTokenApi_56,this._AuthTokenService_55,this._Store_43),this._BooksApi_58=new R.a(this._ParagraphParserService_45,this._Store_43,this._RestHttp_53,this._AuthService_57,this._AuthTokenService_55),this._BookStorageService_59=new x.a(this._LocalStorageService_54),this._BookEffects_60=new T.a(this._Actions_44,this._BooksApi_58,this._BookStorageService_59,this._ParagraphParserService_45),this._BookmarksApi_61=new j.a(this._RestHttp_53,this._AuthService_57,this._AuthTokenService_55),this._BookPositionService_62=new B.a,this._BookPositionEffects_63=new M.a(this._Actions_44,this._BookmarksApi_61,this._BookPositionService_62,this._Store_43),this._UserEffects_64=new D.a(this._Actions_44,this._AuthService_57,this._Router_16),this._effects_65=[this._BookEffects_60,this._BookPositionEffects_63,this._UserEffects_64],this._EffectsSubscription_66=new L.a(this._Store_43,this.parent.get(L.a,null),this._effects_65),this._EffectsModule_67=new N.a(this._EffectsSubscription_66),this._AppModule_68=new i.a,this._AppModule_68},n.prototype.getInternal=function(t,n){return t===o.r?this._a_0:t===r.o?this._ErrorHandler_1:t===o.h?this._g_2:t===r.p?this._NgProbeToken_3:t===r.q?this._APP_INITIALIZER_4:t===r.h?this._ApplicationInitStatus_5:t===r.i?this._f_6:t===r.r?this._ApplicationRef_7:t===o.s?this._UrlSerializer_8:t===o.l?this._RouterOutletMap_9:t===o.t?this._ROUTER_CONFIGURATION_10:t===l.f?this._LocationStrategy_11:t===l.d?this._Location_12:t===r.k?this._Compiler_13:t===r.s?this._NgModuleFactoryLoader_14:t===o.u?this._ROUTES_15:t===o.g?this._Router_16:t===o.q?this._RouterModule_17:t===u.a?this._AppRoutingModule_18:t===l.e?this._CommonModule_19:t===r.n?this._ApplicationModule_20:t===s.p?this._BrowserModule_21:t===a.a?this._InteractionDirectivesModule_22:t===c.a?this._ComponentsModule_23:t===_.b?this._ba_24:t===_.c?this._FormsModule_25:t===p.a?this._ContainersModule_26:t===h.a?this._HttpModule_27:t===f.a?this._BrowserUtilsModule_28:t===d.a?this._AuthApiModule_29:t===g.a?this._AuthModule_30:t===v.a?this._SpecializedApiModule_31:t===b.a?this._ApiModule_32:t===y.a?this._UtilsServicesModule_33:t===m.a?this._ServicesModule_34:t===S.a?this._StoreModule_35:t===I.a?this._Dispatcher_36:t===S.g?this.__INITIAL_REDUCER_37:t===S.h?this._INITIAL_REDUCER_38:t===J.a?this._Reducer_39:t===S.i?this.__INITIAL_STATE_40:t===S.j?this._INITIAL_STATE_41:t===tt.a?this._State_42:t===nt.a?this._Store_43:t===P.a?this._Actions_44:t===k.a?this._ParagraphParserService_45:t===et.a?this._RestHttpConfig_46:t===h.b?this._BrowserXhr_47:t===h.h?this._ResponseOptions_48:t===h.i?this._XSRFStrategy_49:t===h.e?this._XHRBackend_50:t===h.j?this._RequestOptions_51:t===h.k?this._Http_52:t===w.a?this._RestHttp_53:t===O.a?this._LocalStorageService_54:t===C.a?this._AuthTokenService_55:t===A.a?this._AuthTokenApi_56:t===E.a?this._AuthService_57:t===R.a?this._BooksApi_58:t===x.a?this._BookStorageService_59:t===T.a?this._BookEffects_60:t===j.a?this._BookmarksApi_61:t===B.a?this._BookPositionService_62:t===M.a?this._BookPositionEffects_63:t===D.a?this._UserEffects_64:t===L.b?this._effects_65:t===L.a?this._EffectsSubscription_66:t===N.a?this._EffectsModule_67:t===i.a?this._AppModule_68:t===o.v?this._ActivatedRoute_69:t===o.b?this._NoPreloading_70:t===o.w?this._PreloadingStrategy_71:t===o.c?this._RouterPreloader_72:t===o.d?this._PreloadAllModules_73:t===o.x?this._ROUTER_INITIALIZER_74:t===r.t?this._APP_BOOTSTRAP_LISTENER_75:t===r.u?this._LOCALE_ID_76:t===l.g?this._NgLocalization_77:t===r.v?this._APP_ID_78:t===r.w?this._IterableDiffers_79:t===r.x?this._KeyValueDiffers_80:t===s.q?this._DomSanitizer_81:t===r.y?this._Sanitizer_82:t===s.r?this._HAMMER_GESTURE_CONFIG_83:t===s.s?this._EVENT_MANAGER_PLUGINS_84:t===s.h?this._EventManager_85:t===s.i?this._DomSharedStylesHost_86:t===s.j?this._DomRendererFactory2_87:t===r.z?this._RendererFactory2_88:t===s.t?this._SharedStylesHost_89:t===r.f?this._Testability_90:t===s.k?this._Meta_91:t===s.l?this._Title_92:t===_.a?this._i_93:t===U.a?this._AuthGuard_94:t===F.a?this._InfiniteScrollService_95:t===G.a?this._IntervalService_96:n},n.prototype.destroyInternal=function(){this._f_6.ngOnDestroy(),this._EffectsSubscription_66.ngOnDestroy(),this.__RouterPreloader_72&&this._RouterPreloader_72.ngOnDestroy(),this.__DomSharedStylesHost_86&&this._DomSharedStylesHost_86.ngOnDestroy()},n}(r.A),ot=new r.B(it,i.a)},lWlE:function(t,n,e){"use strict";function r(t){return s._24(0,[(t()(),s._25(0,null,null,2,"app-rsv-view",[["class","rsv-view"]],null,null,null,a.a,a.b)),s._26(122880,null,0,c.a,[_.a,p.a],{word:[0,"word"],book:[1,"book"]},null),s._33(65536,h.n,[s._11])],function(t,n){var e=n.component;t(n,1,0,e.currentPhrase,s._34(n,1,1,s._29(n,2).transform(e.book$)))},null)}function i(t){return s._24(0,[(t()(),s._25(0,null,null,2,"app-paragraph",[],null,null,null,f.a,f.b)),s._26(24576,[[1,4]],0,d.a,[],{paragraph:[0,"paragraph"],bookPosition:[1,"bookPosition"]},null),s._33(65536,h.n,[s._11])],function(t,n){var e=n.component;t(n,1,0,n.context.$implicit,s._34(n,1,1,s._29(n,2).transform(e.bookPosition$)))},null)}function o(t){return s._24(0,[(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,9,"app-full-text-view",[["class","full-text-wrapper relative flex flex-column items-center overflow-container momentum-scroll ph3 mt5 mb5-ns mt0-ns"]],null,[[null,"scroll"]],function(t,n,e){var r=!0;if("scroll"===n){r=!1!==s._29(t,2).onScroll(e)&&r}return r},g.a,g.b)),s._26(2187264,null,1,v.a,[b.a,y.a,s.e,s.Y,p.a,m.c],{book:[0,"book"],bookPosition:[1,"bookPosition"]},null),s._35(301989888,1,{paragraphs:1}),s._33(65536,h.n,[s._11]),s._33(65536,h.n,[s._11]),(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(8388608,null,null,2,null,i)),s._26(401408,null,0,h.l,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),s._33(65536,h.n,[s._11]),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n"]))],function(t,n){var e=n.component;t(n,2,0,s._34(n,2,0,s._29(n,4).transform(e.book$)),s._34(n,2,1,s._29(n,5).transform(e.bookPosition$)));var r=null;t(n,8,0,null==(r=s._34(n,8,0,s._29(n,9).transform(e.book$)))?null:r.content)},null)}function l(t){return s._24(0,[(t()(),s._25(0,null,null,14,"div",[["class","flex flex-column flex-column-reverse-ns vh-100 overflow-hidden"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,5,"app-rsv-controls",[["class","header h3 shadow-1 fixed left-0 right-0 bottom-0-ns"]],null,[[null,"forceStep"],[null,"toggleRsv"],[null,"togglePlay"],[null,"wpmChange"]],function(t,n,e){var r=!0,i=t.component;if("forceStep"===n){r=!1!==i.forceStep(e)&&r}if("toggleRsv"===n){r=!1!==i.toggleRsv()&&r}if("togglePlay"===n){r=!1!==i.togglePlay()&&r}if("wpmChange"===n){r=!1!==i.setWpm(e)&&r}return r},I.a,I.b)),s._26(2121728,null,0,P.a,[],{book:[0,"book"],play:[1,"play"],rsvEnabled:[2,"rsvEnabled"],wpm:[3,"wpm"]},{toggleRsv:"toggleRsv",togglePlay:"togglePlay",forceStep:"forceStep",wpmChange:"wpmChange"}),s._33(65536,h.n,[s._11]),s._33(65536,h.n,[s._11]),s._33(65536,h.n,[s._11]),s._33(65536,h.n,[s._11]),(t()(),s._27(null,["\n\n\t"])),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,2,null,r)),s._26(8192,null,0,h.m,[s._3,s._4],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),s._33(65536,h.n,[s._11]),(t()(),s._27(null,["\n"])),(t()(),s._27(null,["\n\n"])),(t()(),s._27(null,["\n"])),(t()(),s._32(0,[["elseBlock",2]],null,0,null,o)),(t()(),s._27(null,["\n"]))],function(t,n){var e=n.component;t(n,4,0,s._34(n,4,0,s._29(n,5).transform(e.book$)),s._34(n,4,1,s._29(n,6).transform(e.play$)),s._34(n,4,2,s._29(n,7).transform(e.rsvEnabled$)),s._34(n,4,3,s._29(n,8).transform(e.wpm$))),t(n,12,0,s._34(n,12,0,s._29(n,13).transform(e.rsvEnabled$)),s._29(n,17))},null)}function u(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-book-detail",[],null,null,null,l,C)),s._26(122880,null,0,S.a,[k.v,w.a,b.a,p.a],null,null)],function(t,n){t(n,1,0)},null)}var s=e("3j3K"),a=e("gMB0"),c=e("OQwA"),_=e("GjlP"),p=e("Zcpd"),h=e("2Je8"),f=e("Tl7P"),d=e("g+Y6"),g=e("OSGG"),v=e("SjTA"),b=e("3imX"),y=e("GQfQ"),m=e("Qbdm"),S=e("am1z"),I=e("gCpG"),P=e("mK3m"),k=e("5oXY"),w=e("yw3Q");e.d(n,"a",function(){return A});var O=[],C=s._23({encapsulation:2,styles:O,data:{}}),A=s._28("app-book-detail",S.a,u,{},{},[])},"lk+P":function(t,n,e){"use strict";var r=(e("k4+s"),e("/Ukj"),e("9sFL"));e.d(n,"a",function(){return r.a}),e.d(n,"b",function(){return r.b})},mK3m:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Gvdl");e.n(i);e.d(n,"a",function(){return o});var o=function(){function t(){this.toggleRsv=new r.U,this.togglePlay=new r.U,this.forceStep=new r.U,this.wpmChange=new r.U}return t.prototype.ngAfterViewInit=function(){},t.prototype.initWpmInputSubscription=function(){var t=this,n=this.wpmInput.nativeElement;i.Observable.fromEvent(n,"input").debounceTime(300).subscribe(function(){t.wpmChange.emit(Number(n.value))})},t}()},mYXE:function(t,n,e){"use strict";var r=(e("BlzQ"),e("Vd6R"));e.d(n,"AuthTokenApi",function(){return r.a});var i=e("NVNu");e.n(i)},nZlM:function(t,n){},njfE:function(t,n,e){"use strict";var r=e("5oXY"),i=e("98po"),o=e("Gvdl"),l=(e.n(o),e("McXY")),u=e("2pSd");e.d(n,"a",function(){return c});var s=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},a=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t,n,e){var r=this;this.actions$=t,this.authService=n,this.router=e,this.login$=this.actions$.ofType(u.a).switchMap(function(){return r.authService.verify().do(function(t){t.loggedIn&&r.router.navigateByUrl("books")}).map(function(t){return new u.b(t)})})}return t.ctorParameters=function(){return[{type:i.a},{type:l.a},{type:r.g}]},t}();s([e.i(i.b)(),a("design:type","function"==typeof(_=void 0!==o.Observable&&o.Observable)&&_||Object)],c.prototype,"login$",void 0);var _},nyuy:function(t,n,e){"use strict";var r=e("6koo");e.d(n,"a",function(){return i});var i=function(){function t(t,n,e){this.rest=t,this.authService=n,this.tokenService=e}return Object.defineProperty(t.prototype,"options",{get:function(){return this.tokenService.getOptions()},enumerable:!0,configurable:!0}),t.prototype.getById=function(t){var n=this;return this.rest.get([this.modelPath,t],void 0,this.options).map(function(t){return n.unwrapSingle(t)})},t.prototype.getByFilter=function(t){return this.rest.get(this.modelPath,t,this.options).map(function(t){return e.i(r.a)(t.data,t.totalRecords)})},t.prototype.unwrapSingle=function(t){if(null!=t)return Array.isArray(t.data)?t.data.length>0?t.data[0]:void 0:t},t}()},pXib:function(t,n,e){"use strict";var r=e("mK3m");e.d(n,"a",function(){return r.a})},pshA:function(t,n,e){"use strict";var r=e("SjTA");e.d(n,"a",function(){return r.a})},qsEO:function(t,n,e){"use strict";var r=e("WWmu"),i=e("2pSd"),o=e("mYXE"),l=e("BeuU");e.d(n,"a",function(){return u});var u=function(){function t(t,n,e){this.api=t,this.tokenService=n,this.store=e,this.initted=!1}return t.prototype.verify=function(){var t=this;return this.api.verify().do(function(n){t.store.dispatch(new i.b(n)),t.initted=!0})},t.prototype.login=function(t,n){var e=this;return this.api.get(t,n).map(function(t){return null==t||null==t.jwt?(e.logout(),!1):(e.tokenService.set(t.jwt),e.store.dispatch(new i.d),!0)})},t.prototype.logout=function(){this.tokenService.delete(),this.store.dispatch(new i.e)},t.ctorParameters=function(){return[{type:o.AuthTokenApi},{type:l.a},{type:r.a}]},t}()},rGEv:function(t,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"a",function(){return o}),e.d(n,"g",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"e",function(){return s}),e.d(n,"i",function(){return a}),e.d(n,"d",function(){return c}),e.d(n,"h",function(){return _}),e.d(n,"j",function(){return p}),e.d(n,"f",function(){return h});var r="[BOOK] Get All",i="[BOOK] Get By Id",o="[BOOK] Load",l="[BOOK] Store Locally",u="[BOOK] Unload",s="[BOOK] Write",a=(function(){function t(){this.type=r}}(),function(){function t(t){this.payload=t,this.type=i}return t}()),c=function(){function t(t){this.payload=t,this.type=o}return t}(),_=function(){function t(t){this.payload=t,this.type=l}return t}(),p=function(){function t(){this.type=u}return t}(),h=(function(){function t(t){this.payload=t,this.type=s}}(),function(){function t(){this.type=s}return t}())},tvlE:function(t,n,e){"use strict";var r=e("98po"),i=e("WWmu"),o=e("Gvdl"),l=(e.n(o),e("3pbj")),u=e("+jHA"),s=e("6W3o"),a=e("lk+P"),c=e("UGCa");e.d(n,"a",function(){return h});var _=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},p=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},h=function(){function t(t,n,e,i){var u=this;this.actions$=t,this.bookmarksApi=n,this.bookPositionService=e,this.store=i,this.loadSavedPosition=this.actions$.ofType(c.LOAD_SAVED).map(r.c).switchMap(function(t){if(null==t)return o.Observable.empty();var n=u.actions$.ofType(c.LOAD_SAVED).skip(1);return u.bookmarksApi.getById(t).takeUntil(n).map(function(t){return new c.SetAction({paragraphIdx:t.paragraphIdx,wordIdx:t.wordIdx})})}),this.book$=this.store.select(l.a),this.bookPosition$=this.store.select(l.b),this.step=this.getStepEffect(),this.save=this.getSaveEffect()}return t.prototype.getSaveEffect=function(){var t=this;return this.actions$.ofType(c.SET).map(r.c).distinct(function(t){return t.paragraphIdx}).withLatestFrom(this.book$).flatMap(function(n){var e=n[0],r=n[1];return null==r||null==e.paragraphIdx||null==e.wordIdx?o.Observable.empty():t.bookmarksApi.create(new u.Bookmark(e.paragraphIdx,0,r.id))})},t.prototype.getStepEffect=function(){var t=this;return this.actions$.ofType(c.STEP).map(r.c).withLatestFrom(this.book$,this.bookPosition$).flatMap(function(n){var e=n[0],r=n[1],i=n[2];if(null==e||null==i||null==r)return o.Observable.empty();var l=t.bookPositionService.stepPosition(r,i,e);return o.Observable.of(new c.SetAction(l))})},t.ctorParameters=function(){return[{type:r.a},{type:a.a},{type:s.a},{type:i.a}]},t}();_([e.i(r.b)(),p("design:type","function"==typeof(f=void 0!==o.Observable&&o.Observable)&&f||Object)],h.prototype,"save",void 0),_([e.i(r.b)(),p("design:type","function"==typeof(d=void 0!==o.Observable&&o.Observable)&&d||Object)],h.prototype,"step",void 0),_([e.i(r.b)(),p("design:type","function"==typeof(g=void 0!==o.Observable&&o.Observable)&&g||Object)],h.prototype,"loadSavedPosition",void 0);var f,d,g},uqwp:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:return Object.assign({},t,{positionData:n.payload});case i.b:return Object.assign({},t,{positionData:void 0});default:return t}}var i=e("kUXO");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.positionData}},x35b:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("3j3K"),i=e("kZql"),o=e("Qbdm"),l=e("kke6");i.a.production&&e.i(r.a)(),e.i(o.a)().bootstrapModuleFactory(l.a)},xOko:function(t,n,e){"use strict";var r=e("3j3K");e.d(n,"a",function(){return o});var i=150,o=function(){function t(t,n){this.renderer=t,this.elementRef=n,this.classTimeout=i}return t.prototype.onInteract=function(){this.setInteractedClass()},t.prototype.setInteractedClass=function(){var t=this;null!=this.appInteractedClass&&(this.renderer.addClass(this.elementRef.nativeElement,this.appInteractedClass),setTimeout(function(){return t.removeInteractedClass()},this.classTimeout))},t.prototype.removeInteractedClass=function(){this.renderer.removeClass(this.elementRef.nativeElement,this.appInteractedClass)},t.ctorParameters=function(){return[{type:r._36},{type:r.Y}]},t}()},xaf1:function(t,n,e){"use strict";var r=e("5oXY"),i=e("WWmu"),o=e("3pbj"),l=e("qsEO");e.d(n,"a",function(){return u});var u=function(){function t(t,n,e){this.authService=t,this.router=n,this.store=e}return t.prototype.canActivate=function(){var t=this,n=function(n){n||t.router.navigateByUrl("/login")};return this.authService.initted?this.store.select(o.h).do(n):this.authService.verify().take(1).flatMap(function(){return t.store.select(o.h)}).do(n)},t.prototype.canActivateChild=function(){return this.canActivate()},t.ctorParameters=function(){return[{type:l.a},{type:r.g},{type:i.a}]},t}()},yw3Q:function(t,n,e){"use strict";var r=e("McXY"),i=e("BeuU"),o=e("7UBP"),l=e("Jlqr"),u=e("6W3o"),s=e("rGEv"),a=e("WWmu");e.d(n,"a",function(){return _});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_=function(t){function n(n,e,r,i,o){var l=t.call(this,r,i,o)||this;return l.paragraphParserService=n,l.store=e,l.modelPath="books",l}return c(n,t),n.prototype.getById=function(n){var e=this;return t.prototype.getById.call(this,n).do(function(t){e.store.dispatch(new s.h({id:n,json:t}))}).map(function(t){return e.fromJson(t,n)})},n.prototype.createFromJsonBook=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.fromJson=function(t,n){var e=this.paragraphParserService.parse(t.body?t.body:t),r=e.reduce(function(t,n){return t+=n.length},0);return{id:n,title:t.title,author:t.author,content:e,length:r}},n.ctorParameters=function(){return[{type:u.b},{type:a.a},{type:l.a},{type:r.a},{type:i.a}]},n}(o.a)},zeFx:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:return Object.assign({},t,{book:n.payload});case i.b:return Object.assign({},t,{book:void 0});default:return t}}var i=e("rGEv");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.book}}},[2]);