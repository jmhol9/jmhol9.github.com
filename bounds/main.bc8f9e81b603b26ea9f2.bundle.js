webpackJsonp([1,4],{"+Do2":function(t,n,e){"use strict";var i=e("lk+P");e.d(n,"a",function(){return r});var r=function(){function t(t){this.api=t,this.book={title:"",author:"",body:""}}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.submit=function(){this.api.createFromJsonBook(this.book).subscribe(function(t){t||console.log("login failed")},function(){console.log("login failed")})},t.ctorParameters=function(){return[{type:i.b}]},t}()},"+jHA":function(t,n,e){"use strict";var i=e("nZlM");e.n(i);e.o(i,"Bookmark")&&e.d(n,"Bookmark",function(){return i.Bookmark}),e.o(i,"Paragraph")&&e.d(n,"Paragraph",function(){return i.Paragraph});var r=e("RYfX");e.d(n,"Bookmark",function(){return r.a});var o=e("aEq8");e.n(o);e.o(o,"Paragraph")&&e.d(n,"Paragraph",function(){return o.Paragraph});var u=e("8kw/");e.d(n,"Paragraph",function(){return u.a});var l=e("Pm2l");e.n(l)},"/Ukj":function(t,n,e){"use strict";e("nyuy"),e("6koo"),e("PZt1"),e("Jlqr"),e("7UBP")},"/fcW":function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="/fcW"},"1A80":function(t,n,e){"use strict";function i(t){return o._24(0,[(t()(),o._25(8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),o._26(73728,null,0,u.y,[u.l,o._3,o._2,[8,null]],null,null),(t()(),o._27(null,["\n"]))],null,null)}function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-root",[],null,null,null,i,a)),o._26(24576,null,0,l.a,[],null,null)],null,null)}var o=e("3j3K"),u=e("5oXY"),l=e("YWx4");e.d(n,"a",function(){return c});var s=[],a=o._23({encapsulation:2,styles:s,data:{}}),c=o._28("app-root",l.a,r,{},{},[])},"1mcY":function(t,n,e){"use strict";function i(t,n){switch(void 0===t&&(t=u),n.type){case r.c:return Object.assign({},t,o({},n.payload));default:return t}}var r=e("2pSd");n.a=i,e.d(n,"b",function(){return l}),e.d(n,"c",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"e",function(){return c});var o=this&&this.__assign||Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u={loggedIn:!1},l=function(t){return t.loggedIn},s=function(t){return t.id},a=function(t){return t.email},c=function(t){return t.name}},2:function(t,n,e){t.exports=e("x35b")},"2pSd":function(t,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return u}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return s});var i="[USER] Set",r="[USER] Login",o="[USER] Logout",u=function(){function t(t){this.payload=t,this.type=i}return t}(),l=function(){function t(){this.type=r}return t}(),s=function(){function t(){this.type=o}return t}()},"2zeU":function(t,n,e){"use strict";var i=e("+jHA");e.d(n,"a",function(){return r});var r=function(){function t(){}return t.prototype.parse=function(t){var n=this,e=0;return this.splitRawParagaphs(t).map(function(t,i){var r=n.parseSingleParagraph(t,e,i);return e+=r.length,r})},t.prototype.splitRawParagaphs=function(t){return t.split(/\n{2,}|\r\n\r{1,}|\n\r\n{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)})},t.prototype.parseSingleParagraph=function(t,n,e){return new i.Paragraph(t,n,e)},t}()},"37y8":function(t,n,e){"use strict";var i=e("+jHA"),r=e("McXY"),o=e("BeuU"),u=e("Jlqr"),l=e("7UBP");e.d(n,"a",function(){return a});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),a=function(t){function n(n,e,i){var r=t.call(this,n,e,i)||this;return r.modelPath="bookmarks",r}return s(n,t),n.prototype.getById=function(n){return t.prototype.getById.call(this,n).map(function(t){return null==t?new i.Bookmark(0,0):new i.Bookmark(t.paragraphIdx,t.wordIdx,t.id)})},n.ctorParameters=function(){return[{type:u.a},{type:r.a},{type:o.a}]},n}(l.a)},"3J2k":function(t,n,e){"use strict";var i=e("uv4r");e.d(n,"a",function(){return i.a})},"3Nm8":function(t,n,e){"use strict";var i=e("g+Y6");e.d(n,"a",function(){return i.a})},"3imX":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t.prototype.stepPosition=function(t,n,e){void 0===e&&(e=1);var i=t.content[n.paragraphIdx],r=i.firstIndex+n.wordIdx,o=r+e;if(!this.isValidIncrement(t,o))throw new Error("Bad Increment: Outside book bounds!");if(this.idxWithinParagraph(i,o))return this.getPosition(n.paragraphIdx,n.wordIdx+e);var u,l,s;return o>i.lastIndex?(u=t.content.slice(n.paragraphIdx+1),l=this.findParagraphIdxByInnerIdx(o,u),s=n.paragraphIdx+l+1):(u=t.content.slice(0,n.paragraphIdx),l=u.length-this.findParagraphIdxByInnerIdx(o,u)-1,s=n.paragraphIdx-l-1),this.getPosition(s,o-t.content[s].firstIndex)},t.prototype.getCurrentPhrase=function(t,n,e){void 0===e&&(e=1);var i=t.content[n.paragraphIdx];if(null==i)return t.content[0].text.slice(0,e).join(" ");var r=i.text.slice(n.wordIdx,n.wordIdx+e);return r.length>=e?r.join(" "):r.concat(t.content[n.paragraphIdx+1].text.slice(0,e-r.length)).join(" ")},t.prototype.getNewPosition=function(){return this.getPosition(0,0)},t.prototype.getPosition=function(t,n){return{paragraphIdx:t,wordIdx:n}},t.prototype.getPartialText=function(t,n){if(null==t||null==n)return[];var e=n.paragraphIdx-10>=0?n.paragraphIdx-10:0;return t.content.slice(e,e+50)},t.prototype.isValidIncrement=function(t,n){return n>=0&&n<=t.content[t.content.length-1].lastIndex},t.prototype.findParagraphIdxByInnerIdx=function(t,n){var e=this,i=n.findIndex(function(n){return e.idxWithinParagraph(n,t)});if(null==i)throw new Error("no paragraph contains that index");return i},t.prototype.binarySearchParagraph=function(t,n){if(null==n||0===n.length)throw new Error("Bad Paragraph Search: bad paragraph range given");var e=n.length/2,i=n[e],r=this.idxWithinParagraph(i,t);if(!r&&1===n.length)throw new Error("Bad Search: target not in range");return r?i:t>i.lastIndex?this.binarySearchParagraph(t,n.slice(e+1)):t<i.lastIndex?this.binarySearchParagraph(t,n.slice(0,e)):void 0},t.prototype.idxWithinParagraph=function(t,n){return n>=t.firstIndex&&n<=t.lastIndex},t}()},"3pbj":function(t,n,e){"use strict";var i=e("juMz");e.d(n,"a",function(){return i.b}),e.d(n,"b",function(){return i.c}),e.d(n,"c",function(){return i.d}),e.d(n,"d",function(){return i.e}),e.d(n,"e",function(){return i.f}),e.d(n,"f",function(){return i.g}),e.d(n,"g",function(){return i.h}),e.d(n,"h",function(){return i.i})},"4Xti":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},"6W3o":function(t,n,e){"use strict";var i=e("3imX");e.d(n,"a",function(){return i.a});var r=e("GQfQ");e.d(n,"d",function(){return r.a});var o=e("GjlP");e.d(n,"c",function(){return o.a});var u=e("2zeU");e.d(n,"b",function(){return u.a});e("i2b/")},"6koo":function(t,n,e){"use strict";function i(t,n){return void 0===n&&(n=t.length),Object.assign(t,{totalRecords:n})}n.a=i},"709r":function(t,n,e){"use strict";function i(t){return o._24(0,[(t()(),o._25(0,null,null,40,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),o._27(null,["New Book"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;if("input"===n){i=!1!==o._29(t,8)._handleInput(e.target.value)&&i}if("blur"===n){i=!1!==o._29(t,8).onTouched()&&i}if("compositionstart"===n){i=!1!==o._29(t,8)._compositionStart()&&i}if("compositionend"===n){i=!1!==o._29(t,8)._compositionEnd(e.target.value)&&i}if("ngModelChange"===n){i=!1!==(r.book.title=e)&&i}return i},null,null)),o._26(8192,null,0,l.d,[o.Z,o.Y,[2,l.e]],null,null),o._30(512,null,l.f,function(t){return[t]},[l.d]),o._26(335872,null,0,l.g,[[8,null],[8,null],[8,null],[2,l.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,l.h,null,[l.g]),o._26(8192,null,0,l.i,[l.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;if("input"===n){i=!1!==o._29(t,18)._handleInput(e.target.value)&&i}if("blur"===n){i=!1!==o._29(t,18).onTouched()&&i}if("compositionstart"===n){i=!1!==o._29(t,18)._compositionStart()&&i}if("compositionend"===n){i=!1!==o._29(t,18)._compositionEnd(e.target.value)&&i}if("ngModelChange"===n){i=!1!==(r.book.author=e)&&i}return i},null,null)),o._26(8192,null,0,l.d,[o.Z,o.Y,[2,l.e]],null,null),o._30(512,null,l.f,function(t){return[t]},[l.d]),o._26(335872,null,0,l.g,[[8,null],[8,null],[8,null],[2,l.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,l.h,null,[l.g]),o._26(8192,null,0,l.i,[l.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;if("input"===n){i=!1!==o._29(t,28)._handleInput(e.target.value)&&i}if("blur"===n){i=!1!==o._29(t,28).onTouched()&&i}if("compositionstart"===n){i=!1!==o._29(t,28)._compositionStart()&&i}if("compositionend"===n){i=!1!==o._29(t,28)._compositionEnd(e.target.value)&&i}if("ngModelChange"===n){i=!1!==(r.book.body=e)&&i}return i},null,null)),o._26(8192,null,0,l.d,[o.Z,o.Y,[2,l.e]],null,null),o._30(512,null,l.f,function(t){return[t]},[l.d]),o._26(335872,null,0,l.g,[[8,null],[8,null],[8,null],[2,l.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,l.h,null,[l.g]),o._26(8192,null,0,l.i,[l.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,1,"button",[],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.submit()&&i}return i},null,null)),(t()(),o._27(null,["Create!"])),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n"])),(t()(),o._27(null,["\n"]))],function(t,n){var e=n.component;t(n,10,0,e.book.title),t(n,20,0,e.book.author),t(n,30,0,e.book.body)},function(t,n){t(n,7,0,o._29(n,12).ngClassUntouched,o._29(n,12).ngClassTouched,o._29(n,12).ngClassPristine,o._29(n,12).ngClassDirty,o._29(n,12).ngClassValid,o._29(n,12).ngClassInvalid,o._29(n,12).ngClassPending),t(n,17,0,o._29(n,22).ngClassUntouched,o._29(n,22).ngClassTouched,o._29(n,22).ngClassPristine,o._29(n,22).ngClassDirty,o._29(n,22).ngClassValid,o._29(n,22).ngClassInvalid,o._29(n,22).ngClassPending),t(n,27,0,o._29(n,32).ngClassUntouched,o._29(n,32).ngClassTouched,o._29(n,32).ngClassPristine,o._29(n,32).ngClassDirty,o._29(n,32).ngClassValid,o._29(n,32).ngClassInvalid,o._29(n,32).ngClassPending)})}function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"ng-component",[],null,[["document","keydown"]],function(t,n,e){var i=!0;if("document:keydown"===n){i=!1!==o._29(t,1).handleEnter(e)&&i}return i},i,c)),o._26(24576,null,0,u.a,[s.a],null,null)],null,null)}var o=e("3j3K"),u=e("+Do2"),l=e("NVOs"),s=e("yw3Q");e.d(n,"a",function(){return p});var a=[],c=o._23({encapsulation:2,styles:a,data:{}}),p=o._28("ng-component",u.a,r,{},{},[])},"7UBP":function(t,n,e){"use strict";var i=e("nyuy");e.d(n,"a",function(){return o});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),o=function(t){function n(n,e,i){var r=t.call(this,n,e,i)||this;return r.rest=n,r}return r(n,t),n.prototype.create=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.update=function(t){if(null==t.id)throw new Error("Missing id on model, cannot make an update request");return this.rest.put([this.modelPath,t.id],t,void 0,this.options).map(function(t){return t})},n}(i.a)},"7grU":function(t,n,e){"use strict";var i=e("RkH2"),r=e("NqZ3"),o=e("3J2k"),u=e("pshA"),l=e("CXAF"),s=e("Md7J"),a=e("UvOO");e.d(n,"a",function(){return c});var c=(i.a,r.a,o.a,u.a,l.a,s.a,a.a,function(){function t(){}return t}())},"8kw/":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(t,n,e){this.firstIndex=n,this.text=t.split(/\s{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)}),this.lastIndex=this.firstIndex+this.text.length-1,this.id=null!=e?e:void 0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textString",{get:function(){return this.text.join(" ")},enumerable:!0,configurable:!0}),t}()},"9EeC":function(t,n,e){"use strict";function i(t){return s._24(0,[(t()(),s._25(0,null,null,1,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\tno books smh\n\t"]))],null,null)}function r(t){return s._24(0,[(t()(),s._25(0,null,null,14,"p",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,3,"a",[["class","b"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var i=!0;if("click"===n){i=!1!==s._29(t,3).onClick(e.button,e.ctrlKey,e.metaKey)&&i}return i},null,null)),s._26(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),s._31(2),(t()(),s._27(null,["\n\t\t\t\t","\n\t\t\t"])),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t\t\tby ","\n \t\t\t"])),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var i=!0;if("click"===n){i=!1!==s._29(t,11).onClick(e.button,e.ctrlKey,e.metaKey)&&i}return i},null,null)),s._26(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),s._31(2),(t()(),s._27(null,["\n\t\t\t\t","\n \t\t\t"])),(t()(),s._27(null,["\n\t\t"]))],function(t,n){t(n,3,0,t(n,4,0,"/books",n.context.$implicit.id)),t(n,11,0,t(n,12,0,"/scanner",n.context.$implicit.id))},function(t,n){t(n,2,0,s._29(n,3).target,s._29(n,3).href),t(n,5,0,n.context.$implicit.title),t(n,8,0,n.context.$implicit.author),t(n,10,0,s._29(n,11).target,s._29(n,11).href),t(n,13,0," (scanner)")})}function o(t){return s._24(0,[(t()(),s._25(0,null,null,4,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(8388608,null,null,1,null,r)),s._26(401408,null,0,c.l,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),(t()(),s._27(null,["\n\t"]))],function(t,n){t(n,3,0,n.component.books)},null)}function u(t){return s._24(0,[(t()(),s._25(0,null,null,62,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\tYour Books\n\t"])),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,1,null,i)),s._26(8192,null,0,c.m,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._27(null,["\n\t"])),(t()(),s._32(8388608,null,null,1,null,o)),s._26(8192,null,0,c.m,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,5,"div",[],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,2,"a",[["routerLink","/books/new"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var i=!0;if("click"===n){i=!1!==s._29(t,14).onClick(e.button,e.ctrlKey,e.metaKey)&&i}return i},null,null)),s._26(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),(t()(),s._27(null,["Add a book."])),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n\t"])),(t()(),s._25(0,null,null,43,"div",[["class","flex pt1 pb1"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bl bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(250)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t250 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(270)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t270 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(290)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t290 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(310)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t310 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(330)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t330 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(350)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t350 wpm"])),(t()(),s._27(null,["\n\t\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pl1 pr1 pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.setWpm(370)&&i}return i},null,null)),s._26(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._27(null,["\n\t\t\t370 wpm"])),(t()(),s._27(null,["\n\t"])),(t()(),s._27(null,["\n"])),(t()(),s._27(null,["\n\n"]))],function(t,n){var e=n.component;t(n,6,0,e.noBooks),t(n,9,0,!e.noBooks),t(n,14,0,"/books/new"),t(n,21,0,"pl1 pr1 pt2 pb2 bt br bl bb",t(n,23,0,250===s._35(n,21,1,s._29(n,22).transform(e.wpm$)))),t(n,27,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,29,0,270===s._35(n,27,1,s._29(n,28).transform(e.wpm$)))),t(n,33,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,35,0,290===s._35(n,33,1,s._29(n,34).transform(e.wpm$)))),t(n,39,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,41,0,310===s._35(n,39,1,s._29(n,40).transform(e.wpm$)))),t(n,45,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,47,0,330===s._35(n,45,1,s._29(n,46).transform(e.wpm$)))),t(n,51,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,53,0,350===s._35(n,51,1,s._29(n,52).transform(e.wpm$)))),t(n,57,0,"pl1 pr1 pt2 pb2 bt br bb",t(n,59,0,370===s._35(n,57,1,s._29(n,58).transform(e.wpm$))))},function(t,n){t(n,13,0,s._29(n,14).target,s._29(n,14).href)})}function l(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-book-list",[],null,null,null,u,d)),s._26(122880,null,0,p.a,[h.a,_.a],null,null)],function(t,n){t(n,1,0)},null)}var s=e("3j3K"),a=e("5oXY"),c=e("2Je8"),p=e("HKeY"),h=e("yw3Q"),_=e("Zcpd");e.d(n,"a",function(){return g});var f=[],d=s._23({encapsulation:2,styles:f,data:{}}),g=s._28("app-book-list",p.a,l,{},{},[])},"9Tle":function(t,n,e){"use strict";var i=e("98po"),r=e("Gvdl"),o=(e.n(r),e("fwo/")),u=e("rGEv");e.d(n,"a",function(){return a});var l=this&&this.__decorate||function(t,n,e,i){var r,o=arguments.length,u=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,e,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(u=(o<3?r(u):o>3?r(n,e,u):r(n,e))||u);return o>3&&u&&Object.defineProperty(n,e,u),u},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},a=function(){function t(t,n,e,o){var l=this;this.actions$=t,this.booksApi=n,this.bookStorage=e,this.paragraphParserService=o,this.getById$=this.actions$.ofType(u.c).map(i.c).switchMap(function(t){if(null==t)return r.Observable.empty();if(l.bookStorage.isStored(t)){var n=l.bookStorage.getById(t);return r.Observable.of(new u.d(l.fromJson(n)))}var e=l.actions$.ofType(u.c).skip(1);return l.booksApi.getById(t).takeUntil(e).map(function(t){return new u.d(t)})}),this.write$=this.actions$.ofType(u.e).map(i.c).switchMap(function(t){if(null==t)return r.Observable.empty();var n=l.actions$.ofType(u.e).skip(1);return l.booksApi.createFromJsonBook(t).takeUntil(n).map(function(){return new u.f})}),this.storeLocally$=this.actions$.ofType(u.g).map(i.c).do(function(t){return l.bookStorage.set(t.json),r.Observable.empty()})}return t.prototype.fromJson=function(t){var n=this.paragraphParserService.parse(t.body),e=n.reduce(function(t,n){return t+=n.length},0);return{id:t.id,title:t.title,author:t.author,content:n,length:e}},t.ctorParameters=function(){return[{type:i.a},{type:o.a},{type:o.b},{type:o.c}]},t}();l([e.i(i.b)(),s("design:type","function"==typeof(c=void 0!==r.Observable&&r.Observable)&&c||Object)],a.prototype,"getById$",void 0),l([e.i(i.b)(),s("design:type","function"==typeof(p=void 0!==r.Observable&&r.Observable)&&p||Object)],a.prototype,"write$",void 0),l([e.i(i.b)(),s("design:type","function"==typeof(h=void 0!==r.Observable&&r.Observable)&&h||Object)],a.prototype,"storeLocally$",void 0);var c,p,h},"9pxV":function(t,n,e){"use strict";var i=e("ELit");e.d(n,"a",function(){return u});var r="book-id-",o="stored-book-ids",u=function(){function t(t){this.localStorage=t}return t.prototype.getById=function(t){var n=this.localStorage.get(""+(r+String(t)));if(null!=n)return JSON.parse(n)},t.prototype.isStored=function(t){return this.getStoredIds().includes(Number(t))},t.prototype.set=function(t){null==this.getById(t.id)&&(this.localStorage.set(""+(r+String(t.id)),JSON.stringify(t)),this.addStoredId(t.id))},t.prototype.clear=function(){this.localStorage.clear()},t.prototype.getStoredIds=function(){var t=this.localStorage.get(o);return null==t?(this.localStorage.set(o,JSON.stringify([])),[]):JSON.parse(t).map(Number)},t.prototype.addStoredId=function(t){t=Number(t);var n=this.getStoredIds();n.includes(t)||(n.push(t),this.localStorage.set(o,JSON.stringify(n)))},t.ctorParameters=function(){return[{type:i.a}]},t}()},"9sFL":function(t,n,e){"use strict";var i=e("37y8");e.d(n,"a",function(){return i.a});var r=e("yw3Q");e.d(n,"b",function(){return r.a});e("ea/y")},AK3k:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},BeuU:function(t,n,e){"use strict";var i=(e("AK3k"),e("ELit"),e("CLgq"));e.d(n,"a",function(){return i.a});var r=e("9pxV");e.d(n,"b",function(){return r.a})},BlzQ:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},CI7P:function(t,n,e){"use strict";var i=e("McXY");e.d(n,"a",function(){return r});var r=function(){function t(t){this.authService=t,this.email="",this.password=""}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.submit=function(){this.authService.login(this.email,this.password).subscribe(function(t){t||console.log("login failed")},function(){console.log("login failed")})},t.ctorParameters=function(){return[{type:i.a}]},t}()},CLgq:function(t,n,e){"use strict";var i=e("Fzro"),r=e("ELit");e.d(n,"a",function(){return u});var o="authToken",u=function(){function t(t){this.localStorage=t}return t.prototype.set=function(t){this.localStorage.set(o,t)},t.prototype.delete=function(){this.localStorage.remove(o)},t.prototype.get=function(){return this.localStorage.get(o)},t.prototype.getOptions=function(){var t=new i.l;return t.append("Authorization",this.getHeaderString()),{headers:t}},t.prototype.getHeaderString=function(){return"Bearer "+this.get()},t.ctorParameters=function(){return[{type:r.a}]},t}()},CXAF:function(t,n,e){"use strict";var i=e("CI7P");e.d(n,"a",function(){return i.a})},Cd9f:function(t,n,e){"use strict";var i=e("McXY"),r=e("agbq");e.d(n,"a",function(){return o});var o=(r.a,r.b,r.c,i.b,i.b,r.b,r.d,function(){function t(){}return t}())},ChBP:function(t,n,e){"use strict";var i=e("3j3K"),r=e("3pbj"),o=e("WWmu"),u=e("cyeq");e.d(n,"a",function(){return l});var l=function(){function t(t,n){var e=this;this.elementRef=t,this.store=n,this.hostClass=!0,this.hasScrolled=!1,this.store.select(r.c).subscribe(function(t){return e.playing=t})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){t!==this._selected&&(t&&(this.hasScrolled=!1,this.scrollIntoView()),this._selected=t)},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(){var t=this.elementRef.nativeElement,n=t.offsetTop+t.getBoundingClientRect().height-(t.offsetParent.scrollTop+window.innerHeight),e=t.offsetParent.scrollTop-t.offsetTop,i=this.playing;if(n>0||e>0)return this.store.dispatch(new u.j),void this.smoothScroll(e,i)},t.prototype.smoothScroll=function(t,n){var e=this;if(!this.hasScrolled){if(this.elementRef.nativeElement.offsetParent.scrollTop-=.1*t,Math.abs(t)<5)return this.hasScrolled=!0,n?this.store.dispatch(new u.k):void 0;requestAnimationFrame(function(){return e.smoothScroll(.9*t,n)})}},t.ctorParameters=function(){return[{type:i.Y},{type:o.a}]},t}()},Ckyl:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t.ctorParameters=function(){return[]},t}()},ELit:function(t,n,e){"use strict";var i=e("3j3K"),r=e("Qbdm");e.d(n,"a",function(){return o});var o=function(){function t(t){this.localStorage=t.defaultView.localStorage}return t.prototype.get=function(t){return this.localStorage.getItem(t)},t.prototype.set=function(t,n){this.localStorage.setItem(t,n)},t.prototype.remove=function(t){this.localStorage.removeItem(t)},t.prototype.clear=function(){this.localStorage.clear()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.F,args:[r.c]}]}]},t}()},EPgz:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){this.hostClass=!0,this.selected=!1}return t}()},FUK6:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},GQfQ:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var i=5e3,r=5,o=function(t,n){return Math.abs(t-n)<=r},u=function(){function t(){}return t.prototype.getChildPositionData=function(t){var n=window.document.createElement("div");window.document.body.appendChild(n);var e=0,i=Object.keys(t).reduce(function(i,r){var o=t[r];n.appendChild(o);var u=o.scrollHeight;return e+=u,i[r]={element:o,height:u,previousSiblingsHeight:e},i},{});return n.remove(),i},t.prototype.updatePreviouSiblingHeights=function(t){var n=0;return Object.keys(t).sort(function(t,n){return Number(t)-Number(n)}).reduce(function(e,i){return e[i]=Object.assign({},t[i],{previousSiblingsHeight:n}),n+=t[i].height,e},{})},t.prototype.fillContainer=function(t,n,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this.emptyContainer(t);var o=this.getChildByIdx(e,i);t.appendChild(o);for(var u=i;null!=e[u-1]&&u>=i-10;)u--,t.insertBefore(this.getChildByIdx(e,u),this.getChildByIdx(e,u+1));for(var l=i;null!=e[l+1]&&l<=i+10;)l++,t.appendChild(this.getChildByIdx(e,l));var s=window.document.createElement("div");s.style.height=e[u].previousSiblingsHeight+"px",s.id="topPaddingDiv",t.insertBefore(s,this.getChildByIdx(e,u));var a=window.document.createElement("div"),c=this.getPaddingAfterChild(e,l);return a.id="bottomPaddingDiv",a.style.height=c+"px",t.appendChild(a),n.scrollTop=o.offsetTop-r,{firstChildIdx:u,lastChildIdx:l}},t.prototype.updateContainerBuffers=function(t,n,e,r,u){void 0===r&&(r=0);for(var l=n.getBoundingClientRect(),s=l.top,a=l.bottom,c=this.updateBounds(u,0,0);o(u.firstChildIdx,c.firstChildIdx)&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().bottom<-1*i;)console.log("trimming top"),c=this.removeFirstChild(e,c),this.updatePaddingDivs(e,c);for(;o(u.lastChildIdx,c.lastChildIdx)&&t.lastElementChild.getBoundingClientRect().top>a+i;)console.log("trimming bottom"),c=this.removeLastChild(e,c),this.updatePaddingDivs(e,c);for(;null!=e[c.firstChildIdx-1]&&c.firstChildIdx>0&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().top>s-i;)console.log("padding top"),t.insertBefore(this.getChildByIdx(e,c.firstChildIdx-1),this.getChildByIdx(e,c.firstChildIdx)),c=this.updateBounds(c,-1,0),this.updatePaddingDivs(e,c);for(;null!=e[c.lastChildIdx+1]&&c.lastChildIdx<Object.keys(e).length-1&&this.getChildByIdx(e,c.lastChildIdx).getBoundingClientRect().bottom<a+i;)console.log("padding bottom"),t.insertBefore(this.getChildByIdx(e,[c.lastChildIdx+1]),window.document.querySelector("#bottomPaddingDiv")),c=this.updateBounds(c,0,1),this.updatePaddingDivs(e,c);return c},t.prototype.updatePaddingDivs=function(t,n){var e=window.document.querySelector("#topPaddingDiv"),i=window.document.querySelector("#bottomPaddingDiv");e.style.height=t[n.firstChildIdx].previousSiblingsHeight+"px",i.style.height=this.getPaddingAfterChild(t,n.lastChildIdx)},t.prototype.emptyContainer=function(t){for(;t.children.length;)t.firstElementChild.remove()},t.prototype.removeFirstChild=function(t,n){return this.getChildByIdx(t,n.firstChildIdx).remove(),this.updateBounds(n,1,0)},t.prototype.removeLastChild=function(t,n){return this.getChildByIdx(t,n.lastChildIdx).remove(),this.updateBounds(n,0,-1)},t.prototype.getPaddingAfterChild=function(t,n){var e=t[n];this.getLastChild(t);return this.getTotalChildrenHeight(t)-this.getBottomHeight(e)+"px"},t.prototype.getChildByIdx=function(t,n){return t[n].element},t.prototype.updateBounds=function(t,n,e){return{firstChildIdx:t.firstChildIdx+n,lastChildIdx:t.lastChildIdx+e}},t.prototype.getTotalChildrenHeight=function(t){var n=this.getLastChild(t);return n.height+n.previousSiblingsHeight},t.prototype.getLastChild=function(t){return t[Math.max.apply(Math,Object.keys(t).map(Number))]},t.prototype.getBottomHeight=function(t){return t.height+t.previousSiblingsHeight},t}()},GjlP:function(t,n,e){"use strict";var i=e("Gvdl");e.n(i);e.d(n,"a",function(){return r});var r=function(){function t(){}return t.prototype.getInterval=function(t){return i.Observable.interval(t)},t.prototype.getIntervalFromWpm=function(t,n){return void 0===n&&(n=1),i.Observable.interval(6e4/t*n)},t}()},GuZw:function(t,n,e){"use strict";function i(t){return o._24(0,[(t()(),o._25(0,null,null,30,"div",[["class","fl w-100 pv2 ph4"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),o._27(null,["LOGIN PAGE"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;if("input"===n){i=!1!==o._29(t,8)._handleInput(e.target.value)&&i}if("blur"===n){i=!1!==o._29(t,8).onTouched()&&i}if("compositionstart"===n){i=!1!==o._29(t,8)._compositionStart()&&i}if("compositionend"===n){i=!1!==o._29(t,8)._compositionEnd(e.target.value)&&i}if("ngModelChange"===n){i=!1!==(r.email=e)&&i}return i},null,null)),o._26(8192,null,0,l.d,[o.Z,o.Y,[2,l.e]],null,null),o._30(512,null,l.f,function(t){return[t]},[l.d]),o._26(335872,null,0,l.g,[[8,null],[8,null],[8,null],[2,l.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,l.h,null,[l.g]),o._26(8192,null,0,l.i,[l.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;if("input"===n){i=!1!==o._29(t,18)._handleInput(e.target.value)&&i}if("blur"===n){i=!1!==o._29(t,18).onTouched()&&i}if("compositionstart"===n){i=!1!==o._29(t,18)._compositionStart()&&i}if("compositionend"===n){i=!1!==o._29(t,18)._compositionEnd(e.target.value)&&i}if("ngModelChange"===n){i=!1!==(r.password=e)&&i}return i},null,null)),o._26(8192,null,0,l.d,[o.Z,o.Y,[2,l.e]],null,null),o._30(512,null,l.f,function(t){return[t]},[l.d]),o._26(335872,null,0,l.g,[[8,null],[8,null],[8,null],[2,l.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._30(1024,null,l.h,null,[l.g]),o._26(8192,null,0,l.i,[l.h],null,null),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n\t"])),(t()(),o._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._27(null,["\n\t\t"])),(t()(),o._25(0,null,null,1,"button",[],null,[[null,"click"]],function(t,n,e){var i=!0,r=t.component;if("click"===n){i=!1!==r.submit()&&i}return i},null,null)),(t()(),o._27(null,["Log In!"])),(t()(),o._27(null,["\n\t"])),(t()(),o._27(null,["\n"])),(t()(),o._27(null,["\n"]))],function(t,n){var e=n.component;t(n,10,0,e.email),t(n,20,0,e.password)},function(t,n){t(n,7,0,o._29(n,12).ngClassUntouched,o._29(n,12).ngClassTouched,o._29(n,12).ngClassPristine,o._29(n,12).ngClassDirty,o._29(n,12).ngClassValid,o._29(n,12).ngClassInvalid,o._29(n,12).ngClassPending),t(n,17,0,o._29(n,22).ngClassUntouched,o._29(n,22).ngClassTouched,o._29(n,22).ngClassPristine,o._29(n,22).ngClassDirty,o._29(n,22).ngClassValid,o._29(n,22).ngClassInvalid,o._29(n,22).ngClassPending)})}function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-login-page",[],null,[["document","keydown"]],function(t,n,e){var i=!0;if("document:keydown"===n){i=!1!==o._29(t,1).handleEnter(e)&&i}return i},i,c)),o._26(24576,null,0,u.a,[s.a],null,null)],null,null)}var o=e("3j3K"),u=e("CI7P"),l=e("NVOs"),s=e("qsEO");e.d(n,"a",function(){return p});var a=[],c=o._23({encapsulation:2,styles:a,data:{}}),p=o._28("app-login-page",u.a,r,{},{},[])},HKeY:function(t,n,e){"use strict";var i=e("3pbj"),r=e("WWmu"),o=e("cyeq"),u=e("9sFL");e.d(n,"a",function(){return l});var l=function(){function t(t,n){this.booksApi=t,this.store=n,this.books=[],this.wpm$=this.store.select(i.d)}return t.prototype.ngOnInit=function(){var t=this;this.booksApiSubscription=this.booksApi.getByFilter().subscribe(function(n){return t.books=n})},t.prototype.ngOnDestroy=function(){this.cancelBooksApiSubscription()},t.prototype.setWpm=function(t){this.store.dispatch(new o.i(t))},Object.defineProperty(t.prototype,"noBooks",{get:function(){return null==this.books||0===this.books.length},enumerable:!0,configurable:!0}),t.prototype.cancelBooksApiSubscription=function(){null!=this.booksApiSubscription&&(this.booksApiSubscription.unsubscribe(),this.booksApiSubscription=null)},t.ctorParameters=function(){return[{type:u.b},{type:r.a}]},t}()},Iksp:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},Jlqr:function(t,n,e){"use strict";function i(t,n){return n=Array.isArray(n)?n.join("/"):String(n),n=n.replace(c,"$1"),t+"/"+n}function r(t,n){return null==n?t:(null==t&&(t={}),t.search=o(n),t)}function o(t){return Object.keys(t).reduce(function(n,e){var i=t[e];return Array.isArray(i)?i.forEach(function(t){return n.append(e,String(t))}):null!=i&&n.set(e,String(i)),n},new u.m)}var u=e("Fzro"),l=e("+pb+"),s=(e.n(l),e("PZt1"));e.d(n,"a",function(){return a});var a=function(){function t(t,n){this.config=t,this.http=n}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.config.baseUrl},enumerable:!0,configurable:!0}),t.prototype.request=function(t,n){return this.wrapResponse(this.http.request(this.getPath(t),n))},t.prototype.get=function(t,n,e){return this.wrapResponse(this.http.get(this.getPath(t),r(e,n)))},t.prototype.post=function(t,n,e,i){return this.wrapResponse(this.http.post(this.getPath(t),n,r(i,e)))},t.prototype.put=function(t,n,e,i){return this.wrapResponse(this.http.put(this.getPath(t),n,r(i,e)))},t.prototype.patch=function(t,n,e,i){return this.wrapResponse(this.http.patch(this.getPath(t),n,r(i,e)))},t.prototype.delete=function(t,n,e){return this.wrapResponse(this.http.delete(this.getPath(t),r(e,n)))},t.prototype.wrapResponse=function(t){return t.map(function(t){try{return t.json()}catch(n){return t.text()}})},t.prototype.getPath=function(t){return i(this.baseUrl,t)},t.ctorParameters=function(){return[{type:s.a},{type:u.k}]},t}(),c=/^\/*(.*?)\/*$/},LSKO:function(t,n,e){"use strict";var i=e("Ckyl");e.d(n,"a",function(){return i.a})},McXY:function(t,n,e){"use strict";var i=e("xaf1");e.d(n,"b",function(){return i.a});var r=(e("4Xti"),e("qsEO"));e.d(n,"a",function(){return r.a})},Md7J:function(t,n,e){"use strict";var i=e("+Do2");e.d(n,"a",function(){return i.a})},NVNu:function(t,n){},NqZ3:function(t,n,e){"use strict";var i=e("HKeY");e.d(n,"a",function(){return i.a})},OQwA:function(t,n,e){"use strict";var i=e("WWmu"),r=e("Gvdl"),o=(e.n(r),e("3pbj")),u=e("UGCa"),l=e("fwo/");e.d(n,"a",function(){return s});var s=function(){function t(t,n){this.intervalService=t,this.store=n,this.currentWordIdx=0,this.bookPosition$=this.store.select(o.b),this.play$=this.store.select(o.c),this.wpm$=this.store.select(o.d),this.phraseLength$=this.store.select(o.e)}return Object.defineProperty(t.prototype,"phrase",{get:function(){if(null==this.word)return[];if(this.phraseRequiresSplit){var t=this.word.split(" ");return t.slice(0,t.length-1)}return this.word.split(" ")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phraseRequiresSplit",{get:function(){return this.word.length>15&&this.word.split(" ").length>1},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.playSubscription=r.Observable.combineLatest(this.play$,this.wpm$,this.phraseLength$).debounceTime(100).subscribe(function(n){var e=n[0],i=n[1],r=n[2];t.cancelSubscription(t.intervalSubscription),e&&t.startRsvInterval(i,r)}),this.bookPositionSubscription=this.bookPosition$.subscribe(function(n){null!=u&&null!=t.book&&(t.currentWordIdx=t.book.content[n.paragraphIdx].firstIndex+n.wordIdx)})},t.prototype.ngOnDestroy=function(){this.cancelSubscription(this.intervalSubscription),this.cancelSubscription(this.playSubscription)},t.prototype.startRsvInterval=function(t,n){var e=this;this.cancelSubscription(this.intervalSubscription),this.intervalSubscription=this.intervalService.getIntervalFromWpm(t,n).subscribe(function(){e.phraseRequiresSplit?e.store.dispatch(new u.StepAction(n-1)):e.store.dispatch(new u.StepAction(n))})},t.prototype.cancelSubscription=function(t){null!=t&&(t.unsubscribe(),t=null)},t.ctorParameters=function(){return[{type:l.d},{type:i.a}]},t}()},OfQ8:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},PZt1:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(t){if(null==t)throw new Error("rest-http.config is invalud");this.baseUrl=t.baseUrl}return t}()},Pm2l:function(t,n){},RBKA:function(t,n,e){"use strict";function i(t){return s._24(0,[(t()(),s._25(0,null,null,2,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,a.a,a.b)),s._26(24576,null,0,c.a,[],{word:[0,"word"],selected:[1,"selected"]},null),(t()(),s._27(null,["\n\t\t\t"]))],function(t,n){var e=n.component;t(n,1,0,n.context.$implicit,e.currentPosition.wordIdx===n.context.index)},function(t,n){t(n,0,0,s._29(n,1).hostClass,s._29(n,1).selected)})}function r(t){return s._24(0,[(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 lh-copy f5"]],null,null,null,null,null)),(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._32(8388608,null,null,1,null,i)),s._26(401408,null,0,p.l,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),(t()(),s._27(null,["\n\t\t"]))],function(t,n){t(n,3,0,n.component.paragraph.text)},null)}function o(t){return s._24(0,[(t()(),s._27(null,["\n\t\t\t"])),(t()(),s._25(0,null,null,1,"div",[["class","pt2 pb2 lh-copy f5"]],null,null,null,null,null)),(t()(),s._27(null,["",""])),(t()(),s._27(null,["\n\t\t"]))],null,function(t,n){t(n,2,0,n.component.paragraph.textString)})}function u(t){return s._24(0,[(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(8388608,null,null,1,null,r)),s._26(8192,null,0,p.m,[s._3,s._4],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),s._27(null,["\n\t\t"])),(t()(),s._32(0,[["elseBlock",2]],null,0,null,o)),(t()(),s._27(null,["\n\t"]))],function(t,n){t(n,2,0,n.component.selected,s._29(n,4))},null)}function l(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,u,d)),s._26(24576,null,0,h.a,[s.Y,_.a],null,null)],null,function(t,n){t(n,0,0,s._29(n,1).hostClass)})}var s=e("3j3K"),a=e("yG2t"),c=e("EPgz"),p=e("2Je8"),h=e("ChBP"),_=e("Zcpd");e.d(n,"b",function(){return d}),n.a=u;var f=[],d=s._23({encapsulation:2,styles:f,data:{}});s._28("app-scanner-paragraph",h.a,l,{paragraph:"paragraph",currentPosition:"currentPosition",id:"id",selected:"selected"},{},[])},RYfX:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(t,n,e,i){this.paragraphIdx=t,this.wordIdx=n,this.bookId=e,this.id=i}return t}()},RkH2:function(t,n,e){"use strict";var i=e("am1z");e.d(n,"a",function(){return i.a})},SjTA:function(t,n,e){"use strict";var i=e("3j3K"),r=e("Qbdm"),o=e("Gvdl"),u=(e.n(o),e("WWmu")),l=e("3pbj"),s=e("kUXO"),a=e("fwo/");e.d(n,"a",function(){return c});var c=function(){function t(t,n,e,i,r,u){var s=this;this.bookPositionService=t,this.scrollService=n,this.ngZone=e,this.elementRef=i,this.store=r,this.paragraphElements={},this.hasScrolled=new o.Subject,this.inputsChange=new o.Subject,this.hasDestroyed=!1,this.document=u,this.store.select(l.f).subscribe(function(t){null==t&&null==s.childPositionData||(s.childPositionData=t)})}return t.prototype.onScroll=function(t){this.hasScrolled.next(t)},Object.defineProperty(t.prototype,"book",{get:function(){return this._book},set:function(t){t!==this._book&&(this._book=t,this.inputsChange.next())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bookPosition",{get:function(){return this._bookPosition},set:function(t){t!==this._bookPosition&&(this._bookPosition=t,this.inputsChange.next())},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.initContainerContent(),this.initScrollSubscription()},t.prototype.ngOnDestroy=function(){this.hasDestroyed=!0},t.prototype.subscribeToInputs=function(){var t=this;this.inputsChange.first().subscribe(function(){return t.initContainerContent()})},t.prototype.initScrollSubscription=function(){var t=this;this.hasScrolled.debounceTime(0).filter(function(){return!t.hasDestroyed}).subscribe(function(){return t.updateContainerContent()})},t.prototype.initContainerContent=function(){var t=this;if(null!=this.childPositionData&&Object.keys(this.childPositionData).length===this.paragraphs.toArray().length)return this.fillContainer(),this.updateContainerContent(),void this.updateBuffers();if(this.setParagraphElements(),!Object.keys(this.paragraphElements).length||null==this.bookPosition)return void this.subscribeToInputs();var n=Object.keys(this.paragraphElements).map(function(t){return Number(t)}).sort(function(t,n){return t-n}),e=n.reduce(function(n,e){return 0!==n.length&&e%50!=1||n.push({}),n[n.length-1][e]=t.paragraphElements[e],n},[]).sort(function(n,e){var i=t.bookPosition.paragraphIdx;return Object.keys(n).includes(String(i))?-1:Object.keys(e).includes(String(i))?1:0});this.setChildPositionDataFromQueue(e),this.fillContainer()},t.prototype.fillContainer=function(){this.contentBounds=this.scrollService.fillContainer(this.contentContainer.nativeElement,this.elementRef.nativeElement,this.childPositionData,this.bookPosition.paragraphIdx,100)},t.prototype.setChildPositionDataFromQueue=function(t){var n=this;if(0!==t.length){var e=this.childPositionData||{};e=Object.assign({},this.childPositionData,this.scrollService.getChildPositionData(t[0])),t=t.slice(1),0===t.length&&(e=this.scrollService.updatePreviouSiblingHeights(e),this.updateContainerContent(),this.updateBuffers()),this.store.dispatch(new s.c(e)),setTimeout(function(){return n.setChildPositionDataFromQueue(t)})}},t.prototype.updateContainerContent=function(){this.contentBounds=this.scrollService.updateContainerBuffers(this.contentContainer.nativeElement,this.elementRef.nativeElement,this.childPositionData,this.bookPosition.paragraphIdx,this.contentBounds)},t.prototype.updateBuffers=function(){this.scrollService.updatePaddingDivs(this.childPositionData,this.contentBounds)},t.prototype.setParagraphElements=function(){null!=this.paragraphs&&(this.paragraphElements=this.mapParagraphsById())},t.prototype.mapParagraphsById=function(){return this.paragraphs.toArray().reduce(function(t,n){return t[String(n.id)]=n.innerElementRef.nativeElement,t},{})},t.ctorParameters=function(){return[{type:a.e},{type:a.f},{type:i.e},{type:i.Y},{type:u.a},{type:void 0,decorators:[{type:i.F,args:[r.c]}]}]},t}()},UGCa:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"LOAD_SAVED",function(){return i}),e.d(n,"SET",function(){return r}),e.d(n,"SET_PARTIAL_TEXT",function(){return o}),e.d(n,"STEP",function(){return u}),e.d(n,"UNLOAD",function(){return l}),e.d(n,"LoadSavedAction",function(){return s}),e.d(n,"SetAction",function(){return a}),e.d(n,"SetPartialTextAction",function(){return c}),e.d(n,"UnloadAction",function(){return p}),e.d(n,"StepAction",function(){return h});var i="[BOOK_POSITION] Load Saved",r="[BOOK_POSITION] Set",o="[BOOK_POSITION] Set Partial Text",u="[BOOK_POSITION] Step",l="[BOOK_POSITION] Unload",s=function(){function t(t){this.payload=t,this.type=i}return t}(),a=function(){function t(t){this.payload=t,this.type=r}return t}(),c=function(){function t(){this.type=o}return t}(),p=function(){function t(){this.type=l}return t}(),h=function(){function t(t){this.payload=t,this.type=u}return t}()},UvOO:function(t,n,e){"use strict";var i=e("OQwA");e.d(n,"a",function(){return i.a})},Vd6R:function(t,n,e){"use strict";var i=e("Fzro"),r=e("Gvdl"),o=(e.n(r),e("BeuU")),u=e("PZt1");e.d(n,"a",function(){return l});var l=function(){function t(t,n,e){this.http=t,this.config=n,this.tokenService=e,this.tokenRouteExtension="/user_token",this.usersRouteExtension="/users"}return Object.defineProperty(t.prototype,"tokenRoute",{get:function(){return this.config.baseUrl+this.tokenRouteExtension},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"usersRoute",{get:function(){return this.config.baseUrl+this.usersRouteExtension},enumerable:!0,configurable:!0}),t.prototype.verify=function(){return this.http.get(this.usersRoute,this.tokenService.getOptions()).map(function(t){return t.json()})},t.prototype.get=function(t,n){return this.http.post(this.tokenRoute,{auth:{email:t,password:n}}).map(function(t){return null==t||""===t.text()?r.Observable.of(void 0):t.json()})},t.ctorParameters=function(){return[{type:i.k},{type:u.a},{type:o.a}]},t}()},Y7Pa:function(t,n,e){"use strict";function i(t,n){switch(void 0===t&&(t=o),n.type){case r.a:var e=!t.rsv;return Object.assign({},t,{rsv:e,play:!!e&&t.play});case r.b:return Object.assign({},t,{play:!0});case r.c:return Object.assign({},t,{play:!1});case r.d:var i=!t.play;return Object.assign({},t,{play:i});case r.e:return Object.assign({},t,{wpm:n.payload});case r.f:return Object.assign({},t,{phraseLength:n.payload});default:return t}}var r=e("cyeq");n.a=i,e.d(n,"c",function(){return u}),e.d(n,"b",function(){return l}),e.d(n,"d",function(){return s}),e.d(n,"e",function(){return a});var o={rsv:!1,phraseLength:2,play:!1,wpm:310},u=function(t){return t.rsv},l=function(t){return t.play},s=function(t){return t.wpm},a=function(t){return t.phraseLength}},YWx4:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},YrpA:function(t,n,e){"use strict";var i=e("LSKO"),r=e("3Nm8"),o=e("pXib"),u=e("wEKh"),l=e("megd");e.d(n,"a",function(){return s});var s=(i.a,r.a,o.a,u.a,l.a,function(){function t(){}return t}())},ZxdZ:function(t,n,e){"use strict";function i(t,n){switch(void 0===t&&(t=o),n.type){case r.SET:return Object.assign({},t,{position:n.payload});case r.UNLOAD:return Object.assign({},t,{position:o});default:return t}}var r=e("UGCa");n.a=i,e.d(n,"b",function(){return u});var o={},u=function(t){return t.position}},aEq8:function(t,n){},agbq:function(t,n,e){"use strict";var i=(e("7grU"),e("RkH2"),e("NqZ3"));e.d(n,"c",function(){return i.a});var r=e("3J2k");e.d(n,"b",function(){return r.a});var o=(e("pshA"),e("CXAF"));e.d(n,"d",function(){return o.a});var u=e("Md7J");e.d(n,"a",function(){return u.a});e("UvOO")},am1z:function(t,n,e){"use strict";var i=e("5oXY"),r=e("3pbj"),o=e("WWmu"),u=e("cyeq"),l=e("rGEv"),s=e("UGCa"),a=e("fwo/");e.d(n,"a",function(){return c});var c=function(){function t(t,n,e,i){this.route=t,this.booksApi=n,this.bookPositionService=e,this.store=i,this.rsvEnabled$=this.store.select(r.g),this.phraseLength$=this.store.select(r.e),this.book$=this.store.select(r.a),this.bookPosition$=this.store.select(r.b),this.play$=this.store.select(r.c),this.wpm$=this.store.select(r.d)}return t.prototype.ngOnInit=function(){var t=this;this.book$.filter(function(t){return null!=t}).take(1).subscribe(function(n){t.store.dispatch(new s.LoadSavedAction(n.id))}),this.getBookById(),this.initBookPositionSubscription()},t.prototype.ngOnDestroy=function(){this.resetBookState()},t.prototype.forceStep=function(t){this.store.dispatch(new s.StepAction(t))},t.prototype.toggleRsv=function(){this.store.dispatch(new u.g)},t.prototype.togglePlay=function(){this.store.dispatch(new u.h)},t.prototype.setWpm=function(t){this.store.dispatch(new u.i(t))},t.prototype.getBookById=function(){var t=this.route.snapshot.params.id;this.store.dispatch(new l.i(t))},t.prototype.initBookPositionSubscription=function(){var t=this;return this.bookPosition$.withLatestFrom(this.book$,this.phraseLength$).subscribe(function(n){var e=n[0],i=n[1],r=n[2];null!=e&&null!=i&&(t.currentPhrase=t.bookPositionService.getCurrentPhrase(i,e,r))})},t.prototype.resetBookState=function(){this.store.dispatch(new l.j),this.store.dispatch(new s.UnloadAction)},t.ctorParameters=function(){return[{type:i.v},{type:a.a},{type:a.e},{type:o.a}]},t}()},cyeq:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return u}),e.d(n,"e",function(){return l}),e.d(n,"f",function(){return s}),e.d(n,"g",function(){return a}),e.d(n,"h",function(){return c}),e.d(n,"k",function(){return p}),e.d(n,"j",function(){return h}),e.d(n,"i",function(){return _});var i="[READER] Toggle RSV",r="[READER] Toggle Play",o="[READER] Start Play",u="[READER] Stop Play",l="[READER] WPM",s="[READER] Phrase Length",a=function(){function t(){this.type=i}return t}(),c=function(){function t(){this.type=r}return t}(),p=function(){function t(){this.type=o}return t}(),h=function(){function t(){this.type=u}return t}(),_=function(){function t(t){this.payload=t,this.type=l}return t}();!function(){function t(t){this.payload=t,this.type=s}}()},"ea/y":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},"fwo/":function(t,n,e){"use strict";var i=(e("OfQ8"),e("lk+P"));e.d(n,"a",function(){return i.b});var r=e("6W3o");e.d(n,"c",function(){return r.b}),e.d(n,"d",function(){return r.c}),e.d(n,"e",function(){return r.a}),e.d(n,"f",function(){return r.d});var o=e("BeuU");e.d(n,"b",function(){return o.b})},"g+Y6":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return Object.defineProperty(t.prototype,"focused",{get:function(){return null!=this.bookPosition&&null!=this.paragraph&&this.id===this.bookPosition.paragraphIdx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.paragraph.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.paragraph.textString},enumerable:!0,configurable:!0}),t}()},gccr:function(t,n,e){"use strict";function i(t){return u._24(0,[(t()(),u._25(0,null,null,4,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,l.a,l.b)),u._26(24576,null,0,s.a,[u.Y,a.a],{paragraph:[0,"paragraph"],currentPosition:[1,"currentPosition"],id:[2,"id"],selected:[3,"selected"]},null),u._33(65536,c.o,[u._11]),u._33(65536,c.o,[u._11]),(t()(),u._27(null,["\n\t\t"]))],function(t,n){var e=n.component,i=n.context.$implicit,r=u._35(n,1,1,u._29(n,2).transform(e.bookPosition$)),o=n.context.index,l=null;t(n,1,0,i,r,o,(null==(l=u._35(n,1,3,u._29(n,3).transform(e.bookPosition$)))?null:l.paragraphIdx)===n.context.$implicit.id)},function(t,n){t(n,0,0,u._29(n,1).hostClass)})}function r(t){return u._24(0,[(t()(),u._25(0,null,null,7,"div",[["class","flex flex-column items-center"]],null,null,null,null,null)),(t()(),u._27(null,["\n\t"])),(t()(),u._25(0,null,null,4,"div",[["class","mw6"]],null,null,null,null,null)),(t()(),u._27(null,["\n\t\t"])),(t()(),u._32(8388608,null,null,1,null,i)),u._26(401408,null,0,c.l,[u._3,u._4,u.w],{ngForOf:[0,"ngForOf"]},null),(t()(),u._27(null,["\n\t"])),(t()(),u._27(null,["\n"])),(t()(),u._27(null,["\n"]))],function(t,n){t(n,5,0,n.component.content)},null)}function o(t){return u._24(0,[(t()(),u._25(0,null,null,1,"app-book-scanner",[],null,[[null,"click"]],function(t,n,e){var i=!0;if("click"===n){i=!1!==u._29(t,1).onClick()&&i}return i},r,b)),u._26(122880,null,0,p.a,[h.v,_.a,f.a,d.a,a.a],null,null)],function(t,n){t(n,1,0)},null)}var u=e("3j3K"),l=e("RBKA"),s=e("ChBP"),a=e("Zcpd"),c=e("2Je8"),p=e("uv4r"),h=e("5oXY"),_=e("yw3Q"),f=e("3imX"),d=e("GjlP");e.d(n,"a",function(){return y});var g=[],b=u._23({encapsulation:2,styles:g,data:{}}),y=u._28("app-book-scanner",p.a,o,{},{},[])},"i2b/":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},juMz:function(t,n,e){"use strict";function i(t,n){return u.a.production?g(t,n):d(t,n)}var r=e("bndy"),o=(e.n(r),e("WWmu")),u=e("kZql"),l=e("owqQ"),s=(e.n(l),e("KhQu")),a=(e.n(s),e("ZxdZ")),c=e("zeFx"),p=e("uqwp"),h=e("Y7Pa"),_=e("1mcY");n.a=i,e.d(n,"d",function(){return y}),e.d(n,"h",function(){return v}),e.d(n,"e",function(){return m}),e.d(n,"f",function(){return S}),e.d(n,"b",function(){return I}),e.d(n,"c",function(){return w}),e.d(n,"g",function(){return A}),e.d(n,"i",function(){return E});var f={reader:h.a,books:c.a,bookPosition:a.a,paragraphMap:p.a,userDetails:_.a},d=e.i(l.compose)(s.storeFreeze,o.b)(f),g=e.i(o.b)(f),b=function(t){return t.reader},y=e.i(r.createSelector)(b,h.b),v=e.i(r.createSelector)(b,h.c),m=e.i(r.createSelector)(b,h.d),S=e.i(r.createSelector)(b,h.e),P=function(t){return t.books},I=e.i(r.createSelector)(P,c.b),k=function(t){return t.bookPosition},w=e.i(r.createSelector)(k,a.b),O=function(t){return t.paragraphMap},A=e.i(r.createSelector)(O,p.b),C=function(t){return t.userDetails},E=e.i(r.createSelector)(C,_.b);e.i(r.createSelector)(C,_.c),e.i(r.createSelector)(C,_.d),e.i(r.createSelector)(C,_.e)},"k4+s":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i=function(){function t(){}return t}()},kUXO:function(t,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return r}),e.d(n,"c",function(){return o});var i="[POSITION_DATA] Set",r="[POSITION_DATA] Unset",o=function(){function t(t){this.payload=t,this.type=i}return t}();!function(){function t(){this.type=r}}()},kZql:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var i={production:!0}},kke6:function(t,n,e){"use strict";var i=e("3j3K"),r=e("Iksp"),o=e("5oXY"),u=e("2Je8"),l=e("Cd9f"),s=e("Qbdm"),a=e("FUK6"),c=e("YrpA"),p=e("NVOs"),h=e("7grU"),_=e("Fzro"),f=e("AK3k"),d=e("BlzQ"),g=e("4Xti"),b=e("ea/y"),y=e("k4+s"),v=e("i2b/"),m=e("OfQ8"),S=e("cPow"),P=e("osFu"),I=e("4h9u"),k=e("2zeU"),w=e("Jlqr"),O=e("ELit"),A=e("CLgq"),C=e("Vd6R"),E=e("qsEO"),R=e("yw3Q"),x=e("9pxV"),B=e("9Tle"),T=e("37y8"),j=e("3imX"),M=e("tvlE"),D=e("njfE"),L=e("MF+P"),N=e("68+W"),U=e("xaf1"),F=e("GQfQ"),$=e("GjlP"),G=e("709r"),H=e("gccr"),K=e("9EeC"),W=e("GuZw"),q=e("1A80"),Y=e("SyMH"),z=e("+Do2"),Z=e("uv4r"),X=e("HKeY"),V=e("CI7P"),Q=e("juMz"),J=e("oi6x"),tt=e("NPiC"),nt=e("Zcpd"),et=e("PZt1");e.d(n,"a",function(){return ot});var it=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rt=function(t){function n(n){return t.call(this,n,[G.a,H.a,K.a,W.a,q.a],[q.a])||this}return it(n,t),Object.defineProperty(n.prototype,"_ActivatedRoute_69",{get:function(){return null==this.__ActivatedRoute_69&&(this.__ActivatedRoute_69=o.a(this._Router_16)),this.__ActivatedRoute_69},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NoPreloading_70",{get:function(){return null==this.__NoPreloading_70&&(this.__NoPreloading_70=new o.b),this.__NoPreloading_70},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadingStrategy_71",{get:function(){return null==this.__PreloadingStrategy_71&&(this.__PreloadingStrategy_71=this._NoPreloading_70),this.__PreloadingStrategy_71},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RouterPreloader_72",{get:function(){return null==this.__RouterPreloader_72&&(this.__RouterPreloader_72=new o.c(this._Router_16,this._NgModuleFactoryLoader_14,this._Compiler_13,this,this._PreloadingStrategy_71)),this.__RouterPreloader_72},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadAllModules_73",{get:function(){return null==this.__PreloadAllModules_73&&(this.__PreloadAllModules_73=new o.d),this.__PreloadAllModules_73},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ROUTER_INITIALIZER_74",{get:function(){return null==this.__ROUTER_INITIALIZER_74&&(this.__ROUTER_INITIALIZER_74=o.e(this._g_2)),this.__ROUTER_INITIALIZER_74},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_BOOTSTRAP_LISTENER_75",{get:function(){return null==this.__APP_BOOTSTRAP_LISTENER_75&&(this.__APP_BOOTSTRAP_LISTENER_75=[this._ROUTER_INITIALIZER_74,Y.a(this,this._EffectsSubscription_66)]),this.__APP_BOOTSTRAP_LISTENER_75},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_LOCALE_ID_76",{get:function(){return null==this.__LOCALE_ID_76&&(this.__LOCALE_ID_76="en-US"),this.__LOCALE_ID_76},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NgLocalization_77",{get:function(){return null==this.__NgLocalization_77&&(this.__NgLocalization_77=new u.a(this._LOCALE_ID_76)),this.__NgLocalization_77},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_ID_78",{get:function(){return null==this.__APP_ID_78&&(this.__APP_ID_78=i.b()),this.__APP_ID_78},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IterableDiffers_79",{get:function(){return null==this.__IterableDiffers_79&&(this.__IterableDiffers_79=i.c()),this.__IterableDiffers_79},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_KeyValueDiffers_80",{get:function(){return null==this.__KeyValueDiffers_80&&(this.__KeyValueDiffers_80=i.d()),this.__KeyValueDiffers_80},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSanitizer_81",{get:function(){return null==this.__DomSanitizer_81&&(this.__DomSanitizer_81=new s.b(this.parent.get(s.c))),this.__DomSanitizer_81},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Sanitizer_82",{get:function(){return null==this.__Sanitizer_82&&(this.__Sanitizer_82=this._DomSanitizer_81),this.__Sanitizer_82},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_HAMMER_GESTURE_CONFIG_83",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_83&&(this.__HAMMER_GESTURE_CONFIG_83=new s.d),this.__HAMMER_GESTURE_CONFIG_83},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EVENT_MANAGER_PLUGINS_84",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_84&&(this.__EVENT_MANAGER_PLUGINS_84=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_83)]),this.__EVENT_MANAGER_PLUGINS_84},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EventManager_85",{get:function(){return null==this.__EventManager_85&&(this.__EventManager_85=new s.h(this._EVENT_MANAGER_PLUGINS_84,this.parent.get(i.e))),this.__EventManager_85},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSharedStylesHost_86",{get:function(){return null==this.__DomSharedStylesHost_86&&(this.__DomSharedStylesHost_86=new s.i(this.parent.get(s.c))),this.__DomSharedStylesHost_86},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomRendererFactory2_87",{get:function(){return null==this.__DomRendererFactory2_87&&(this.__DomRendererFactory2_87=new s.j(this._EventManager_85,this._DomSharedStylesHost_86)),this.__DomRendererFactory2_87},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RendererFactory2_88",{get:function(){return null==this.__RendererFactory2_88&&(this.__RendererFactory2_88=this._DomRendererFactory2_87),this.__RendererFactory2_88},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_SharedStylesHost_89",{get:function(){return null==this.__SharedStylesHost_89&&(this.__SharedStylesHost_89=this._DomSharedStylesHost_86),this.__SharedStylesHost_89},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Testability_90",{get:function(){return null==this.__Testability_90&&(this.__Testability_90=new i.f(this.parent.get(i.e))),this.__Testability_90},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Meta_91",{get:function(){return null==this.__Meta_91&&(this.__Meta_91=new s.k(this.parent.get(s.c))),this.__Meta_91},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Title_92",{get:function(){return null==this.__Title_92&&(this.__Title_92=new s.l(this.parent.get(s.c))),this.__Title_92},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_i_93",{get:function(){return null==this.__i_93&&(this.__i_93=new p.a),this.__i_93},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_AuthGuard_94",{get:function(){return null==this.__AuthGuard_94&&(this.__AuthGuard_94=new U.a(this._AuthService_57,this._Router_16,this._Store_43)),this.__AuthGuard_94},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_InfiniteScrollService_95",{get:function(){return null==this.__InfiniteScrollService_95&&(this.__InfiniteScrollService_95=new F.a),this.__InfiniteScrollService_95},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IntervalService_96",{get:function(){return null==this.__IntervalService_96&&(this.__IntervalService_96=new $.a),this.__IntervalService_96},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._a_0=o.f(this.parent.get(o.g,null)),this._ErrorHandler_1=s.m(),this._g_2=new o.h(this),this._NgProbeToken_3=[o.i()],this._APP_INITIALIZER_4=[o.j(this._g_2),i.g,s.n(this.parent.get(s.o,null),this._NgProbeToken_3)],this._ApplicationInitStatus_5=new i.h(this._APP_INITIALIZER_4),this._f_6=new i.i(this.parent.get(i.e),this.parent.get(i.j),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_5),this._ApplicationRef_7=this._f_6,this._UrlSerializer_8=new o.k,this._RouterOutletMap_9=new o.l,this._ROUTER_CONFIGURATION_10={useHash:!0,enableTracing:!1},this._LocationStrategy_11=o.m(this.parent.get(u.b),this.parent.get(u.c,null),this._ROUTER_CONFIGURATION_10),this._Location_12=new u.d(this._LocationStrategy_11),this._Compiler_13=new i.k,this._NgModuleFactoryLoader_14=new i.l(this._Compiler_13,this.parent.get(i.m,null)),this._ROUTES_15=[[{path:"books",children:[{path:"new",component:z.a},{path:":id",component:Z.a},{path:"",pathMatch:"full",component:X.a}],canActivate:[U.a],canActivateChild:[U.a]},{path:"scanner/:id",component:Z.a},{path:"login",component:V.a},{path:"**",redirectTo:"/books"}]],this._Router_16=o.n(this._ApplicationRef_7,this._UrlSerializer_8,this._RouterOutletMap_9,this._Location_12,this,this._NgModuleFactoryLoader_14,this._Compiler_13,this._ROUTES_15,this._ROUTER_CONFIGURATION_10,this.parent.get(o.o,null),this.parent.get(o.p,null)),this._RouterModule_17=new o.q(this._a_0,this._Router_16),this._AppRoutingModule_18=new l.a,this._CommonModule_19=new u.e,this._ApplicationModule_20=new i.n(this._ApplicationRef_7),this._BrowserModule_21=new s.p(this.parent.get(s.p,null)),this._InteractionDirectivesModule_22=new a.a,this._ComponentsModule_23=new c.a,this._ba_24=new p.b,this._FormsModule_25=new p.c,this._ContainersModule_26=new h.a,this._HttpModule_27=new _.a,this._BrowserUtilsModule_28=new f.a,this._AuthApiModule_29=new d.a,this._AuthModule_30=new g.a,this._SpecializedApiModule_31=new b.a,this._ApiModule_32=new y.a,this._UtilsServicesModule_33=new v.a,this._ServicesModule_34=new m.a,this._StoreModule_35=new S.a,this._Dispatcher_36=new P.a,this.__INITIAL_REDUCER_37=Q.a,this._INITIAL_REDUCER_38=S.b(this.__INITIAL_REDUCER_37),this._Reducer_39=S.c(this._Dispatcher_36,this._INITIAL_REDUCER_38),this.__INITIAL_STATE_40=void 0,this._INITIAL_STATE_41=S.d(this.__INITIAL_STATE_40,this._INITIAL_REDUCER_38),this._State_42=S.e(this._INITIAL_STATE_41,this._Dispatcher_36,this._Reducer_39),this._Store_43=S.f(this._Dispatcher_36,this._Reducer_39,this._State_42),this._Actions_44=new I.a(this._Dispatcher_36),this._ParagraphParserService_45=new k.a,this._RestHttpConfig_46={baseUrl:"http://bounds-api.herokuapp.com"},this._BrowserXhr_47=new _.b,this._ResponseOptions_48=new _.c,this._XSRFStrategy_49=_.d(),this._XHRBackend_50=new _.e(this._BrowserXhr_47,this._ResponseOptions_48,this._XSRFStrategy_49),this._RequestOptions_51=new _.f,this._Http_52=_.g(this._XHRBackend_50,this._RequestOptions_51),this._RestHttp_53=new w.a(this._RestHttpConfig_46,this._Http_52),this._LocalStorageService_54=new O.a(this.parent.get(s.c)),this._AuthTokenService_55=new A.a(this._LocalStorageService_54),this._AuthTokenApi_56=new C.a(this._Http_52,this._RestHttpConfig_46,this._AuthTokenService_55),this._AuthService_57=new E.a(this._AuthTokenApi_56,this._AuthTokenService_55,this._Store_43),this._BooksApi_58=new R.a(this._ParagraphParserService_45,this._Store_43,this._RestHttp_53,this._AuthService_57,this._AuthTokenService_55),this._BookStorageService_59=new x.a(this._LocalStorageService_54),this._BookEffects_60=new B.a(this._Actions_44,this._BooksApi_58,this._BookStorageService_59,this._ParagraphParserService_45),this._BookmarksApi_61=new T.a(this._RestHttp_53,this._AuthService_57,this._AuthTokenService_55),this._BookPositionService_62=new j.a,this._BookPositionEffects_63=new M.a(this._Actions_44,this._BookmarksApi_61,this._BookPositionService_62,this._Store_43),this._UserEffects_64=new D.a(this._Actions_44,this._AuthService_57,this._Router_16),this._effects_65=[this._BookEffects_60,this._BookPositionEffects_63,this._UserEffects_64],this._EffectsSubscription_66=new L.a(this._Store_43,this.parent.get(L.a,null),this._effects_65),this._EffectsModule_67=new N.a(this._EffectsSubscription_66),this._AppModule_68=new r.a,this._AppModule_68},n.prototype.getInternal=function(t,n){return t===o.r?this._a_0:t===i.o?this._ErrorHandler_1:t===o.h?this._g_2:t===i.p?this._NgProbeToken_3:t===i.q?this._APP_INITIALIZER_4:t===i.h?this._ApplicationInitStatus_5:t===i.i?this._f_6:t===i.r?this._ApplicationRef_7:t===o.s?this._UrlSerializer_8:t===o.l?this._RouterOutletMap_9:t===o.t?this._ROUTER_CONFIGURATION_10:t===u.f?this._LocationStrategy_11:t===u.d?this._Location_12:t===i.k?this._Compiler_13:t===i.s?this._NgModuleFactoryLoader_14:t===o.u?this._ROUTES_15:t===o.g?this._Router_16:t===o.q?this._RouterModule_17:t===l.a?this._AppRoutingModule_18:t===u.e?this._CommonModule_19:t===i.n?this._ApplicationModule_20:t===s.p?this._BrowserModule_21:t===a.a?this._InteractionDirectivesModule_22:t===c.a?this._ComponentsModule_23:t===p.b?this._ba_24:t===p.c?this._FormsModule_25:t===h.a?this._ContainersModule_26:t===_.a?this._HttpModule_27:t===f.a?this._BrowserUtilsModule_28:t===d.a?this._AuthApiModule_29:t===g.a?this._AuthModule_30:t===b.a?this._SpecializedApiModule_31:t===y.a?this._ApiModule_32:t===v.a?this._UtilsServicesModule_33:t===m.a?this._ServicesModule_34:t===S.a?this._StoreModule_35:t===P.a?this._Dispatcher_36:t===S.g?this.__INITIAL_REDUCER_37:t===S.h?this._INITIAL_REDUCER_38:t===J.a?this._Reducer_39:t===S.i?this.__INITIAL_STATE_40:t===S.j?this._INITIAL_STATE_41:t===tt.a?this._State_42:t===nt.a?this._Store_43:t===I.a?this._Actions_44:t===k.a?this._ParagraphParserService_45:t===et.a?this._RestHttpConfig_46:t===_.b?this._BrowserXhr_47:t===_.h?this._ResponseOptions_48:t===_.i?this._XSRFStrategy_49:t===_.e?this._XHRBackend_50:t===_.j?this._RequestOptions_51:t===_.k?this._Http_52:t===w.a?this._RestHttp_53:t===O.a?this._LocalStorageService_54:t===A.a?this._AuthTokenService_55:t===C.a?this._AuthTokenApi_56:t===E.a?this._AuthService_57:t===R.a?this._BooksApi_58:t===x.a?this._BookStorageService_59:t===B.a?this._BookEffects_60:t===T.a?this._BookmarksApi_61:t===j.a?this._BookPositionService_62:t===M.a?this._BookPositionEffects_63:t===D.a?this._UserEffects_64:t===L.b?this._effects_65:t===L.a?this._EffectsSubscription_66:t===N.a?this._EffectsModule_67:t===r.a?this._AppModule_68:t===o.v?this._ActivatedRoute_69:t===o.b?this._NoPreloading_70:t===o.w?this._PreloadingStrategy_71:t===o.c?this._RouterPreloader_72:t===o.d?this._PreloadAllModules_73:t===o.x?this._ROUTER_INITIALIZER_74:t===i.t?this._APP_BOOTSTRAP_LISTENER_75:t===i.u?this._LOCALE_ID_76:t===u.g?this._NgLocalization_77:t===i.v?this._APP_ID_78:t===i.w?this._IterableDiffers_79:t===i.x?this._KeyValueDiffers_80:t===s.q?this._DomSanitizer_81:t===i.y?this._Sanitizer_82:t===s.r?this._HAMMER_GESTURE_CONFIG_83:t===s.s?this._EVENT_MANAGER_PLUGINS_84:t===s.h?this._EventManager_85:t===s.i?this._DomSharedStylesHost_86:t===s.j?this._DomRendererFactory2_87:t===i.z?this._RendererFactory2_88:t===s.t?this._SharedStylesHost_89:t===i.f?this._Testability_90:t===s.k?this._Meta_91:t===s.l?this._Title_92:t===p.a?this._i_93:t===U.a?this._AuthGuard_94:t===F.a?this._InfiniteScrollService_95:t===$.a?this._IntervalService_96:n},n.prototype.destroyInternal=function(){this._f_6.ngOnDestroy(),this._EffectsSubscription_66.ngOnDestroy(),this.__RouterPreloader_72&&this._RouterPreloader_72.ngOnDestroy(),this.__DomSharedStylesHost_86&&this._DomSharedStylesHost_86.ngOnDestroy()},n}(i.A),ot=new i.B(rt,r.a)},"lk+P":function(t,n,e){"use strict";var i=(e("k4+s"),e("/Ukj"),e("9sFL"));e.d(n,"a",function(){return i.a}),e.d(n,"b",function(){return i.b})},mK3m:function(t,n,e){"use strict";var i=e("3j3K"),r=e("Gvdl");e.n(r);e.d(n,"a",function(){return o});var o=function(){function t(){this.toggleRsv=new i.U,this.togglePlay=new i.U,this.forceStep=new i.U,this.wpmChange=new i.U}return t.prototype.ngAfterViewInit=function(){},t.prototype.initWpmInputSubscription=function(){var t=this,n=this.wpmInput.nativeElement;r.Observable.fromEvent(n,"input").debounceTime(300).subscribe(function(){t.wpmChange.emit(Number(n.value))})},t}()},mYXE:function(t,n,e){"use strict";var i=(e("BlzQ"),e("Vd6R"));e.d(n,"AuthTokenApi",function(){return i.a});var r=e("NVNu");e.n(r)},megd:function(t,n,e){"use strict";var i=e("EPgz");e.d(n,"a",function(){return i.a})},nZlM:function(t,n){},njfE:function(t,n,e){"use strict";var i=e("5oXY"),r=e("98po"),o=e("Gvdl"),u=(e.n(o),e("McXY")),l=e("2pSd");e.d(n,"a",function(){return c});var s=this&&this.__decorate||function(t,n,e,i){var r,o=arguments.length,u=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,e,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(u=(o<3?r(u):o>3?r(n,e,u):r(n,e))||u);return o>3&&u&&Object.defineProperty(n,e,u),u},a=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t,n,e){var i=this;this.actions$=t,this.authService=n,this.router=e,this.login$=this.actions$.ofType(l.a).switchMap(function(){return i.authService.verify().do(function(t){t.loggedIn&&i.router.navigateByUrl("books")}).map(function(t){return new l.b(t)})})}return t.ctorParameters=function(){return[{type:r.a},{type:u.a},{type:i.g}]},t}();s([e.i(r.b)(),a("design:type","function"==typeof(p=void 0!==o.Observable&&o.Observable)&&p||Object)],c.prototype,"login$",void 0);var p},nyuy:function(t,n,e){"use strict";var i=e("6koo");e.d(n,"a",function(){return r});var r=function(){function t(t,n,e){this.rest=t,this.authService=n,this.tokenService=e}return Object.defineProperty(t.prototype,"options",{get:function(){return this.tokenService.getOptions()},enumerable:!0,configurable:!0}),t.prototype.getById=function(t){var n=this;return this.rest.get([this.modelPath,t],void 0,this.options).map(function(t){return n.unwrapSingle(t)})},t.prototype.getByFilter=function(t){return this.rest.get(this.modelPath,t,this.options).map(function(t){return e.i(i.a)(t.data,t.totalRecords)})},t.prototype.unwrapSingle=function(t){if(null!=t)return Array.isArray(t.data)?t.data.length>0?t.data[0]:void 0:t},t}()},pXib:function(t,n,e){"use strict";var i=e("mK3m");e.d(n,"a",function(){return i.a})},pshA:function(t,n,e){"use strict";var i=e("SjTA");e.d(n,"a",function(){return i.a})},qsEO:function(t,n,e){"use strict";var i=e("WWmu"),r=e("2pSd"),o=e("mYXE"),u=e("BeuU");e.d(n,"a",function(){return l});var l=function(){function t(t,n,e){this.api=t,this.tokenService=n,this.store=e,this.initted=!1}return t.prototype.verify=function(){var t=this;return this.api.verify().do(function(n){t.store.dispatch(new r.b(n)),t.initted=!0})},t.prototype.login=function(t,n){var e=this;return this.api.get(t,n).map(function(t){return null==t||null==t.jwt?(e.logout(),!1):(e.tokenService.set(t.jwt),e.store.dispatch(new r.d),!0)})},t.prototype.logout=function(){this.tokenService.delete(),this.store.dispatch(new r.e)},t.ctorParameters=function(){return[{type:o.AuthTokenApi},{type:u.a},{type:i.a}]},t}()},rGEv:function(t,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"g",function(){return u}),e.d(n,"b",function(){return l}),e.d(n,"e",function(){return s}),e.d(n,"i",function(){return a}),e.d(n,"d",function(){return c}),e.d(n,"h",function(){return p}),e.d(n,"j",function(){return h}),e.d(n,"f",function(){return _});var i="[BOOK] Get All",r="[BOOK] Get By Id",o="[BOOK] Load",u="[BOOK] Store Locally",l="[BOOK] Unload",s="[BOOK] Write",a=(function(){function t(){this.type=i}}(),function(){function t(t){this.payload=t,this.type=r}return t}()),c=function(){function t(t){this.payload=t,this.type=o}return t}(),p=function(){function t(t){this.payload=t,this.type=u}return t}(),h=function(){function t(){this.type=l}return t}(),_=(function(){function t(t){this.payload=t,this.type=s}}(),function(){function t(){this.type=s}return t}())},tvlE:function(t,n,e){"use strict";var i=e("98po"),r=e("WWmu"),o=e("Gvdl"),u=(e.n(o),e("3pbj")),l=e("+jHA"),s=e("6W3o"),a=e("lk+P"),c=e("UGCa");e.d(n,"a",function(){return _});var p=this&&this.__decorate||function(t,n,e,i){var r,o=arguments.length,u=o<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,n,e,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(u=(o<3?r(u):o>3?r(n,e,u):r(n,e))||u);return o>3&&u&&Object.defineProperty(n,e,u),u},h=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},_=function(){function t(t,n,e,r){var l=this;this.actions$=t,this.bookmarksApi=n,this.bookPositionService=e,this.store=r,this.loadSavedPosition=this.actions$.ofType(c.LOAD_SAVED).map(i.c).switchMap(function(t){if(null==t)return o.Observable.empty();var n=l.actions$.ofType(c.LOAD_SAVED).skip(1);return l.bookmarksApi.getById(t).takeUntil(n).map(function(t){return new c.SetAction({paragraphIdx:t.paragraphIdx,wordIdx:t.wordIdx})})}),this.book$=this.store.select(u.a),this.bookPosition$=this.store.select(u.b),this.step=this.getStepEffect(),this.save=this.getSaveEffect()}return t.prototype.getSaveEffect=function(){var t=this;return this.actions$.ofType(c.SET).map(i.c).distinct(function(t){return t.paragraphIdx}).withLatestFrom(this.book$).flatMap(function(n){var e=n[0],i=n[1];return null==i||null==e.paragraphIdx||null==e.wordIdx?o.Observable.empty():t.bookmarksApi.create(new l.Bookmark(e.paragraphIdx,0,i.id))})},t.prototype.getStepEffect=function(){var t=this;return this.actions$.ofType(c.STEP).map(i.c).withLatestFrom(this.book$,this.bookPosition$).flatMap(function(n){var e=n[0],i=n[1],r=n[2];if(null==e||null==r||null==i)return o.Observable.empty();var u=t.bookPositionService.stepPosition(i,r,e);return o.Observable.of(new c.SetAction(u))})},t.ctorParameters=function(){return[{type:i.a},{type:a.a},{type:s.a},{type:r.a}]},t}();p([e.i(i.b)(),h("design:type","function"==typeof(f=void 0!==o.Observable&&o.Observable)&&f||Object)],_.prototype,"save",void 0),p([e.i(i.b)(),h("design:type","function"==typeof(d=void 0!==o.Observable&&o.Observable)&&d||Object)],_.prototype,"step",void 0),p([e.i(i.b)(),h("design:type","function"==typeof(g=void 0!==o.Observable&&o.Observable)&&g||Object)],_.prototype,"loadSavedPosition",void 0);var f,d,g},uqwp:function(t,n,e){"use strict";function i(t,n){switch(void 0===t&&(t=o),n.type){case r.a:return Object.assign({},t,{positionData:n.payload});case r.b:return Object.assign({},t,{positionData:void 0});default:return t}}var r=e("kUXO");n.a=i,e.d(n,"b",function(){return u});var o={},u=function(t){return t.positionData}},uv4r:function(t,n,e){"use strict";var i=e("5oXY"),r=e("3pbj"),o=e("WWmu"),u=e("Gvdl"),l=(e.n(u),e("cyeq")),s=e("rGEv"),a=e("UGCa"),c=e("fwo/");e.d(n,"a",function(){return p});var p=function(){function t(t,n,e,i,o){this.route=t,this.booksApi=n,this.bookPositionService=e,this.intervalService=i,this.store=o,this.book$=this.store.select(r.a),this.bookPosition$=this.store.select(r.b),this.play$=this.store.select(r.c),this.wpm$=this.store.select(r.d)}return t.prototype.onClick=function(){this.togglePlay()},t.prototype.ngOnInit=function(){this.getBookById(),this.initKeyBindings(),this.initPlaySubscription(),this.initContentSubscription()},t.prototype.ngOnDestroy=function(){this.resetBookState(),this.cancelIntervalSubscription(),this.cancelPlaySubscription()},t.prototype.togglePlay=function(){this.store.dispatch(new l.h)},t.prototype.stepBookPosition=function(t){void 0===t&&(t=1),this.store.dispatch(new a.StepAction(t))},t.prototype.getBookById=function(){var t=this;this.book$.filter(function(t){return null!=t}).take(1).subscribe(function(n){return t.store.dispatch(new a.LoadSavedAction(n.id))});var n=this.route.snapshot.params.id;this.store.dispatch(new s.i(n))},t.prototype.initContentSubscription=function(){var t=this;u.Observable.combineLatest(this.book$,this.bookPosition$).do(function(t){var n=(t[0],t[1]);return console.log(n)}).filter(function(t){var n=t[0],e=t[1];return null!=n&&null!=e&&null!=e.paragraphIdx}).subscribe(function(n){var e=n[0],i=n[1];if(null==t.content){var r=i.paragraphIdx-10>0?i.paragraphIdx-10:0;return void(t.content=e.content.slice(r,i.paragraphIdx+100))}var o=t.content[t.content.length-1].id;if(i.paragraphIdx+20>t.content[t.content.length-1].id){var u=e.content.slice(o,o+101);t.content=t.content.concat(u)}})},t.prototype.resetBookState=function(){this.store.dispatch(new s.j),this.store.dispatch(new a.UnloadAction)},t.prototype.initKeyBindings=function(){var t=this;u.Observable.fromEvent(window.document,"keypress").subscribe(function(n){"Space"===n.code&&(n.preventDefault(),t.togglePlay())}),u.Observable.fromEvent(window.document,"keydown").subscribe(function(n){"ArrowLeft"===n.code&&t.stepBookPosition(-20)}),u.Observable.fromEvent(window.document,"keydown").subscribe(function(n){"ArrowRight"===n.code&&t.stepBookPosition(20)})},t.prototype.initPlaySubscription=function(){var t=this;this.cancelPlaySubscription(),this.playSubscription=this.play$.subscribe(function(n){if(n)return void t.startRsvInterval();t.cancelIntervalSubscription()})},t.prototype.cancelPlaySubscription=function(){null!=this.playSubscription&&(this.playSubscription.unsubscribe(),this.playSubscription=void 0)},t.prototype.startRsvInterval=function(){var t=this;this.cancelIntervalSubscription(),this.intervalSubscription=this.intervalService.getIntervalFromWpm(400).subscribe(function(){return t.stepBookPosition()})},t.prototype.cancelIntervalSubscription=function(){null!=this.intervalSubscription&&(this.intervalSubscription.unsubscribe(),this.intervalSubscription=void 0)},t.ctorParameters=function(){return[{type:i.v},{type:c.a},{type:c.e},{type:c.d},{type:o.a}]},t}()},wEKh:function(t,n,e){"use strict";var i=e("ChBP");e.d(n,"a",function(){return i.a})},x35b:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("3j3K"),r=e("kZql"),o=e("Qbdm"),u=e("kke6");r.a.production&&e.i(i.a)(),e.i(o.a)().bootstrapModuleFactory(u.a)},xaf1:function(t,n,e){"use strict";var i=e("5oXY"),r=e("WWmu"),o=e("3pbj"),u=e("qsEO");e.d(n,"a",function(){return l});var l=function(){function t(t,n,e){this.authService=t,this.router=n,this.store=e}return t.prototype.canActivate=function(){var t=this,n=function(n){n||t.router.navigateByUrl("/login")};return this.authService.initted?this.store.select(o.h).do(n):this.authService.verify().take(1).flatMap(function(){return t.store.select(o.h)}).do(n)},t.prototype.canActivateChild=function(){return this.canActivate()},t.ctorParameters=function(){return[{type:u.a},{type:i.g},{type:r.a}]},t}()},yG2t:function(t,n,e){"use strict";function i(t){return o._24(2,[(t()(),o._25(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o._27(null,["",""]))],null,function(t,n){t(n,1,0,n.component.word+" ")})}function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,i,s)),o._26(24576,null,0,u.a,[],null,null)],null,function(t,n){t(n,0,0,o._29(n,1).hostClass,o._29(n,1).selected)})}var o=e("3j3K"),u=e("EPgz");e.d(n,"b",function(){return s}),n.a=i;var l=[],s=o._23({encapsulation:2,styles:l,data:{}});o._28("app-scanner-word",u.a,r,{word:"word",selected:"selected"},{},[])},yw3Q:function(t,n,e){"use strict";var i=e("McXY"),r=e("BeuU"),o=e("7UBP"),u=e("Jlqr"),l=e("6W3o"),s=e("rGEv"),a=e("WWmu");e.d(n,"a",function(){return p});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function i(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),p=function(t){function n(n,e,i,r,o){var u=t.call(this,i,r,o)||this;return u.paragraphParserService=n,u.store=e,u.modelPath="books",u}return c(n,t),n.prototype.getById=function(n){var e=this;return t.prototype.getById.call(this,n).do(function(t){e.store.dispatch(new s.h({id:n,json:t}))}).map(function(t){return e.fromJson(t,n)})},n.prototype.createFromJsonBook=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.fromJson=function(t,n){var e=this.paragraphParserService.parse(t.body?t.body:t),i=e.reduce(function(t,n){return t+=n.length},0);return{id:n,title:t.title,author:t.author,content:e,length:i}},n.ctorParameters=function(){return[{type:l.b},{type:a.a},{type:u.a},{type:i.a},{type:r.a}]},n}(o.a)},zeFx:function(t,n,e){"use strict";function i(t,n){switch(void 0===t&&(t=o),n.type){case r.a:return Object.assign({},t,{book:n.payload});case r.b:return Object.assign({},t,{book:void 0});default:return t}}var r=e("rGEv");n.a=i,e.d(n,"b",function(){return u});var o={},u=function(t){return t.book}}},[2]);