webpackJsonp([1,4],{"+Do2":function(t,n,e){"use strict";var r=e("lk+P"),i=e("i2LP");e.d(n,"a",function(){return o});var o=function(){function t(t,n){this.api=t,this.headerService=n,this.book={title:"",author:"",body:""}}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.ngOnInit=function(){this.setHeaderLink()},t.prototype.submit=function(){this.api.createFromJsonBook(this.book).subscribe(function(t){t||console.log("login failed")},function(){console.log("login failed")})},t.prototype.setHeaderLink=function(){this.headerService.link.next({url:"/books",text:"All Books"})},t.ctorParameters=function(){return[{type:r.b},{type:i.a}]},t}()},"+jHA":function(t,n,e){"use strict";var r=e("nZlM");e.n(r);e.o(r,"Bookmark")&&e.d(n,"Bookmark",function(){return r.Bookmark}),e.o(r,"Paragraph")&&e.d(n,"Paragraph",function(){return r.Paragraph});var i=e("RYfX");e.d(n,"Bookmark",function(){return i.a});var o=e("aEq8");e.n(o);e.o(o,"Paragraph")&&e.d(n,"Paragraph",function(){return o.Paragraph});var l=e("8kw/");e.d(n,"Paragraph",function(){return l.a});var u=e("Pm2l");e.n(u)},"/DgF":function(t,n,e){"use strict";var r=e("i2LP");e.d(n,"a",function(){return i});var i=function(){function t(t){this.headerService=t}return t.prototype.ngOnInit=function(){var t=this;this.headerService.link.subscribe(function(n){return t.link=n})},t.ctorParameters=function(){return[{type:r.a}]},t}()},"/Ukj":function(t,n,e){"use strict";e("nyuy"),e("6koo"),e("PZt1"),e("Jlqr"),e("7UBP")},"/fcW":function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="/fcW"},"1A80":function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(0,null,null,10,"div",[["class","flex justify-center"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t"])),(t()(),o._25(0,null,null,7,"div",[["class","w-100 mw6"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t\t"])),(t()(),o._25(0,null,null,1,"app-header",[],null,null,null,l.a,l.b)),o._27(57344,null,0,u.a,[s.a],null,null),(t()(),o._26(null,["\n\t\t"])),(t()(),o._25(8388608,null,null,1,"router-outlet",[],null,null,null,null,null)),o._27(73728,null,0,a.y,[a.l,o._3,o._2,[8,null]],null,null),(t()(),o._26(null,["\n\t"])),(t()(),o._26(null,["\n"])),(t()(),o._26(null,["\n\n"]))],function(t,n){t(n,5,0)},null)}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-root",[],null,null,null,r,p)),o._27(24576,null,0,c.a,[],null,null)],null,null)}var o=e("3j3K"),l=e("lPo+"),u=e("/DgF"),s=e("zkbP"),a=e("5oXY"),c=e("YWx4");e.d(n,"a",function(){return h});var _=[],p=o._23({encapsulation:2,styles:_,data:{}}),h=o._28("app-root",c.a,i,{},{},[])},"1mcY":function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=l),n.type){case i.c:return Object.assign({},t,o({},n.payload));default:return t}}var i=e("2pSd");n.a=r,e.d(n,"b",function(){return u}),e.d(n,"c",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"e",function(){return c});var o=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},l={loggedIn:!1},u=function(t){return t.loggedIn},s=function(t){return t.id},a=function(t){return t.email},c=function(t){return t.name}},2:function(t,n,e){t.exports=e("x35b")},"2pSd":function(t,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return l}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return s});var r="[USER] Set",i="[USER] Login",o="[USER] Logout",l=function(){function t(t){this.payload=t,this.type=r}return t}(),u=function(){function t(){this.type=i}return t}(),s=function(){function t(){this.type=o}return t}()},"2zeU":function(t,n,e){"use strict";var r=e("+jHA");e.d(n,"a",function(){return i});var i=function(){function t(){}return t.prototype.parse=function(t){var n=this,e=0;return this.splitRawParagaphs(t).map(function(t,r){var i=n.parseSingleParagraph(t,e,r);return e+=i.length,i})},t.prototype.splitRawParagaphs=function(t){return t.split(/\n{2,}|\r\n\r{1,}|\n\r\n{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)})},t.prototype.parseSingleParagraph=function(t,n,e){return new r.Paragraph(t,n,e)},t}()},"37y8":function(t,n,e){"use strict";var r=e("+jHA"),i=e("McXY"),o=e("BeuU"),l=e("Jlqr"),u=e("7UBP");e.d(n,"a",function(){return a});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(t){function n(n,e,r){var i=t.call(this,n,e,r)||this;return i.modelPath="bookmarks",i}return s(n,t),n.prototype.getById=function(n){return t.prototype.getById.call(this,n).map(function(t){return null==t?new r.Bookmark(0,0):new r.Bookmark(t.paragraphIdx,t.wordIdx,t.id)})},n.ctorParameters=function(){return[{type:l.a},{type:i.a},{type:o.a}]},n}(u.a)},"3J2k":function(t,n,e){"use strict";var r=e("uv4r");e.d(n,"a",function(){return r.a})},"3imX":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t.prototype.stepPosition=function(t,n,e){void 0===e&&(e=1);var r=t.content[n.paragraphIdx],i=r.firstIndex+n.wordIdx,o=i+e;if(!this.isValidIncrement(t,o))throw new Error("Bad Increment: Outside book bounds!");if(this.idxWithinParagraph(r,o))return this.getPosition(n.paragraphIdx,n.wordIdx+e);var l,u,s;return o>r.lastIndex?(l=t.content.slice(n.paragraphIdx+1),u=this.findParagraphIdxByInnerIdx(o,l),s=n.paragraphIdx+u+1):(l=t.content.slice(0,n.paragraphIdx),u=l.length-this.findParagraphIdxByInnerIdx(o,l)-1,s=n.paragraphIdx-u-1),this.getPosition(s,o-t.content[s].firstIndex)},t.prototype.getCurrentPhrase=function(t,n,e){void 0===e&&(e=1);var r=t.content[n.paragraphIdx];if(null==r)return t.content[0].text.slice(0,e).join(" ");var i=r.text.slice(n.wordIdx,n.wordIdx+e);return i.length>=e?i.join(" "):i.concat(t.content[n.paragraphIdx+1].text.slice(0,e-i.length)).join(" ")},t.prototype.getNewPosition=function(){return this.getPosition(0,0)},t.prototype.getPosition=function(t,n){return{paragraphIdx:t,wordIdx:n}},t.prototype.getPartialText=function(t,n){if(null==t||null==n)return[];var e=n.paragraphIdx-10>=0?n.paragraphIdx-10:0;return t.content.slice(e,e+50)},t.prototype.isValidIncrement=function(t,n){return n>=0&&n<=t.content[t.content.length-1].lastIndex},t.prototype.findParagraphIdxByInnerIdx=function(t,n){var e=this,r=n.findIndex(function(n){return e.idxWithinParagraph(n,t)});if(null==r)throw new Error("no paragraph contains that index");return r},t.prototype.binarySearchParagraph=function(t,n){if(null==n||0===n.length)throw new Error("Bad Paragraph Search: bad paragraph range given");var e=n.length/2,r=n[e],i=this.idxWithinParagraph(r,t);if(!i&&1===n.length)throw new Error("Bad Search: target not in range");return i?r:t>r.lastIndex?this.binarySearchParagraph(t,n.slice(e+1)):t<r.lastIndex?this.binarySearchParagraph(t,n.slice(0,e)):void 0},t.prototype.idxWithinParagraph=function(t,n){return n>=t.firstIndex&&n<=t.lastIndex},t}()},"3pbj":function(t,n,e){"use strict";var r=e("juMz");e.d(n,"a",function(){return r.b}),e.d(n,"b",function(){return r.c}),e.d(n,"c",function(){return r.d}),e.d(n,"d",function(){return r.e}),e.d(n,"e",function(){return r.f})},"4Xti":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},"4nEc":function(t,n,e){"use strict";var r=e("i2LP");e.d(n,"a",function(){return i});var i=function(){function t(t){this.headerService=t}return t.prototype.ngOnInit=function(){this.headerService.setLink({url:"/login",text:"Sign In"})},t.ctorParameters=function(){return[{type:r.a}]},t}()},"6W3o":function(t,n,e){"use strict";var r=e("3imX");e.d(n,"a",function(){return r.a});var i=(e("GQfQ"),e("GjlP"));e.d(n,"c",function(){return i.a});var o=e("2zeU");e.d(n,"b",function(){return o.a});e("i2b/")},"6koo":function(t,n,e){"use strict";function r(t,n){return void 0===n&&(n=t.length),Object.assign(t,{totalRecords:n})}n.a=r},"709r":function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(t()(),o._26(null,["New Book"])),(t()(),o._26(null,["\n"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,6)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,6).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,6)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,6)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.title=e)&&r}return r},null,null)),o._27(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._31(512,null,u.f,function(t){return[t]},[u.d]),o._27(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._31(1024,null,u.h,null,[u.g]),o._27(8192,null,0,u.i,[u.h],null,null),(t()(),o._26(null,["\n"])),(t()(),o._26(null,["\n"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t"])),(t()(),o._25(0,null,null,5,"input",[["placeholder","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,16)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,16).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,16)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,16)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.author=e)&&r}return r},null,null)),o._27(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._31(512,null,u.f,function(t){return[t]},[u.d]),o._27(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._31(1024,null,u.h,null,[u.g]),o._27(8192,null,0,u.i,[u.h],null,null),(t()(),o._26(null,["\n"])),(t()(),o._26(null,["\n"])),(t()(),o._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t"])),(t()(),o._25(0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==o._29(t,26)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==o._29(t,26).onTouched()&&r}if("compositionstart"===n){r=!1!==o._29(t,26)._compositionStart()&&r}if("compositionend"===n){r=!1!==o._29(t,26)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.book.body=e)&&r}return r},null,null)),o._27(8192,null,0,u.d,[o.Z,o.Y,[2,u.e]],null,null),o._31(512,null,u.f,function(t){return[t]},[u.d]),o._27(335872,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),o._31(1024,null,u.h,null,[u.g]),o._27(8192,null,0,u.i,[u.h],null,null),(t()(),o._26(null,["\n"])),(t()(),o._26(null,["\n"])),(t()(),o._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),o._26(null,["\n\t"])),(t()(),o._25(0,null,null,1,"button",[],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.submit()&&r}return r},null,null)),(t()(),o._26(null,["Create!"])),(t()(),o._26(null,["\n"])),(t()(),o._26(null,["\n"]))],function(t,n){var e=n.component;t(n,8,0,e.book.title),t(n,18,0,e.book.author),t(n,28,0,e.book.body)},function(t,n){t(n,5,0,o._29(n,10).ngClassUntouched,o._29(n,10).ngClassTouched,o._29(n,10).ngClassPristine,o._29(n,10).ngClassDirty,o._29(n,10).ngClassValid,o._29(n,10).ngClassInvalid,o._29(n,10).ngClassPending),t(n,15,0,o._29(n,20).ngClassUntouched,o._29(n,20).ngClassTouched,o._29(n,20).ngClassPristine,o._29(n,20).ngClassDirty,o._29(n,20).ngClassValid,o._29(n,20).ngClassInvalid,o._29(n,20).ngClassPending),t(n,25,0,o._29(n,30).ngClassUntouched,o._29(n,30).ngClassTouched,o._29(n,30).ngClassPristine,o._29(n,30).ngClassDirty,o._29(n,30).ngClassValid,o._29(n,30).ngClassInvalid,o._29(n,30).ngClassPending)})}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"ng-component",[],null,[["document","keydown"]],function(t,n,e){var r=!0;if("document:keydown"===n){r=!1!==o._29(t,1).handleEnter(e)&&r}return r},r,_)),o._27(57344,null,0,l.a,[s.a,a.a],null,null)],function(t,n){t(n,1,0)},null)}var o=e("3j3K"),l=e("+Do2"),u=e("NVOs"),s=e("yw3Q"),a=e("zkbP");e.d(n,"a",function(){return p});var c=[],_=o._23({encapsulation:2,styles:c,data:{}}),p=o._28("ng-component",l.a,i,{},{},[])},"7UBP":function(t,n,e){"use strict";var r=e("nyuy");e.d(n,"a",function(){return o});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),o=function(t){function n(n,e,r){var i=t.call(this,n,e,r)||this;return i.rest=n,i}return i(n,t),n.prototype.create=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.update=function(t){if(null==t.id)throw new Error("Missing id on model, cannot make an update request");return this.rest.put([this.modelPath,t.id],t,void 0,this.options).map(function(t){return t})},n}(r.a)},"7grU":function(t,n,e){"use strict";var r=e("3J2k"),i=e("NqZ3"),o=e("Caeh"),l=e("CXAF"),u=e("Md7J");e.d(n,"a",function(){return s});var s=(i.a,r.a,o.a,l.a,u.a,function(){function t(){}return t}())},"8kw/":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e){this.firstIndex=n,this.text=t.split(/\s{1,}/).filter(function(t){return null!=t&&""!==t&&t.length>0&&!t.match(/^\s*$/)}),this.lastIndex=this.firstIndex+this.text.length-1,this.id=null!=e?e:void 0}return Object.defineProperty(t.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textString",{get:function(){return this.text.join(" ")},enumerable:!0,configurable:!0}),t}()},"9EeC":function(t,n,e){"use strict";function r(t){return s._24(0,[(t()(),s._25(0,null,null,1,"div",[],null,null,null,null,null)),(t()(),s._26(null,["\n\tno books smh\n"]))],null,null)}function i(t){return s._24(0,[(t()(),s._25(0,null,null,9,"p",[],null,null,null,null,null)),(t()(),s._26(null,["\n\t\t"])),(t()(),s._25(0,null,null,3,"a",[["class","bold caps"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;if("click"===n){r=!1!==s._29(t,3).onClick(e.button,e.ctrlKey,e.metaKey)&&r}return r},null,null)),s._27(335872,null,0,a.z,[a.g,a.v,c.f],{routerLink:[0,"routerLink"]},null),s._32(2),(t()(),s._26(null,["\n\t\t\t","\n\t\t"])),(t()(),s._26(null,["\n\t\t"])),(t()(),s._25(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s._26(null,[" ",""])),(t()(),s._26(null,["\n\t"]))],function(t,n){t(n,3,0,t(n,4,0,"/books",n.context.$implicit.id))},function(t,n){t(n,2,0,s._29(n,3).target,s._29(n,3).href),t(n,5,0,n.context.$implicit.title),t(n,8,0,n.context.$implicit.author)})}function o(t){return s._24(0,[(t()(),s._25(0,null,null,4,"div",[],null,null,null,null,null)),(t()(),s._26(null,["\n\t"])),(t()(),s._30(8388608,null,null,1,null,i)),s._27(401408,null,0,c.m,[s._3,s._4,s.w],{ngForOf:[0,"ngForOf"]},null),(t()(),s._26(null,["\n"]))],function(t,n){t(n,3,0,n.component.books)},null)}function l(t){return s._24(0,[(t()(),s._30(8388608,null,null,1,null,r)),s._27(8192,null,0,c.l,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._26(null,["\n"])),(t()(),s._30(8388608,null,null,1,null,o)),s._27(8192,null,0,c.l,[s._3,s._4],{ngIf:[0,"ngIf"]},null),(t()(),s._26(null,["\n"])),(t()(),s._25(0,null,null,43,"div",[["class","flex pt1 pb1"]],null,null,null,null,null)),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bl bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(250)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t250 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(270)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t270 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(290)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t290 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(310)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t310 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(330)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t330 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(350)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t350 wpm"])),(t()(),s._26(null,["\n\t"])),(t()(),s._25(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.setWpm(370)&&r}return r},null,null)),s._27(139264,null,0,c.n,[s.w,s.x,s.Y,s.Z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s._33(65536,c.o,[s._11]),s._34(["red"]),(t()(),s._26(null,["\n\t\t370 wpm"])),(t()(),s._26(null,["\n"])),(t()(),s._26(null,["\n\n"]))],function(t,n){var e=n.component;t(n,1,0,e.noBooks),t(n,4,0,!e.noBooks),t(n,9,0,"pt2 pb2 bt br bl bb",t(n,11,0,250===s._35(n,9,1,s._29(n,10).transform(e.wpm$)))),t(n,15,0,"pt2 pb2 bt br bb",t(n,17,0,270===s._35(n,15,1,s._29(n,16).transform(e.wpm$)))),t(n,21,0,"pt2 pb2 bt br bb",t(n,23,0,290===s._35(n,21,1,s._29(n,22).transform(e.wpm$)))),t(n,27,0,"pt2 pb2 bt br bb",t(n,29,0,310===s._35(n,27,1,s._29(n,28).transform(e.wpm$)))),t(n,33,0,"pt2 pb2 bt br bb",t(n,35,0,330===s._35(n,33,1,s._29(n,34).transform(e.wpm$)))),t(n,39,0,"pt2 pb2 bt br bb",t(n,41,0,350===s._35(n,39,1,s._29(n,40).transform(e.wpm$)))),t(n,45,0,"pt2 pb2 bt br bb",t(n,47,0,370===s._35(n,45,1,s._29(n,46).transform(e.wpm$))))},null)}function u(t){return s._24(0,[(t()(),s._25(0,null,null,1,"app-book-list",[],null,null,null,l,g)),s._27(122880,null,0,_.a,[p.a,h.a,f.a],null,null)],function(t,n){t(n,1,0)},null)}var s=e("3j3K"),a=e("5oXY"),c=e("2Je8"),_=e("HKeY"),p=e("yw3Q"),h=e("Zcpd"),f=e("zkbP");e.d(n,"a",function(){return b});var d=[],g=s._23({encapsulation:2,styles:d,data:{}}),b=s._28("app-book-list",_.a,u,{},{},[])},"9Tle":function(t,n,e){"use strict";var r=e("98po"),i=e("Gvdl"),o=(e.n(i),e("fwo/")),l=e("rGEv");e.d(n,"a",function(){return a});var u=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},a=function(){function t(t,n,e,o){var u=this;this.actions$=t,this.booksApi=n,this.bookStorage=e,this.paragraphParserService=o,this.getById$=this.actions$.ofType(l.c).map(r.c).switchMap(function(t){if(null==t)return i.Observable.empty();if(u.bookStorage.isStored(t)){var n=u.bookStorage.getById(t);return i.Observable.of(new l.d(u.fromJson(n)))}var e=u.actions$.ofType(l.c).skip(1);return u.booksApi.getById(t).takeUntil(e).map(function(t){return new l.d(t)})}),this.write$=this.actions$.ofType(l.e).map(r.c).switchMap(function(t){if(null==t)return i.Observable.empty();var n=u.actions$.ofType(l.e).skip(1);return u.booksApi.createFromJsonBook(t).takeUntil(n).map(function(){return new l.f})}),this.storeLocally$=this.actions$.ofType(l.g).map(r.c).do(function(t){return u.bookStorage.set(t.json),i.Observable.empty()})}return t.prototype.fromJson=function(t){var n=this.paragraphParserService.parse(t.body),e=n.reduce(function(t,n){return t+=n.length},0);return{id:t.id,title:t.title,author:t.author,content:n,length:e}},t.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:o.b},{type:o.c}]},t}();u([e.i(r.b)(),s("design:type","function"==typeof(c=void 0!==i.Observable&&i.Observable)&&c||Object)],a.prototype,"getById$",void 0),u([e.i(r.b)(),s("design:type","function"==typeof(_=void 0!==i.Observable&&i.Observable)&&_||Object)],a.prototype,"write$",void 0),u([e.i(r.b)(),s("design:type","function"==typeof(p=void 0!==i.Observable&&i.Observable)&&p||Object)],a.prototype,"storeLocally$",void 0);var c,_,p},"9pxV":function(t,n,e){"use strict";var r=e("ELit");e.d(n,"a",function(){return l});var i="book-id-",o="stored-book-ids",l=function(){function t(t){this.localStorage=t}return t.prototype.getById=function(t){var n=this.localStorage.get(""+(i+String(t)));if(null!=n)return JSON.parse(n)},t.prototype.isStored=function(t){return this.getStoredIds().includes(Number(t))},t.prototype.set=function(t){null==this.getById(t.id)&&(this.localStorage.set(""+(i+String(t.id)),JSON.stringify(t)),this.addStoredId(t.id))},t.prototype.clear=function(){this.localStorage.clear()},t.prototype.getStoredIds=function(){var t=this.localStorage.get(o);return null==t?(this.localStorage.set(o,JSON.stringify([])),[]):JSON.parse(t).map(Number)},t.prototype.addStoredId=function(t){t=Number(t);var n=this.getStoredIds();n.includes(t)||(n.push(t),this.localStorage.set(o,JSON.stringify(n)))},t.ctorParameters=function(){return[{type:r.a}]},t}()},"9sFL":function(t,n,e){"use strict";var r=e("37y8");e.d(n,"a",function(){return r.a});var i=e("yw3Q");e.d(n,"b",function(){return i.a});e("ea/y")},AK3k:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},BeuU:function(t,n,e){"use strict";var r=(e("AK3k"),e("ELit"),e("CLgq"));e.d(n,"a",function(){return r.a});var i=e("9pxV");e.d(n,"b",function(){return i.a})},BlzQ:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},CI7P:function(t,n,e){"use strict";var r=e("McXY"),i=e("i2LP");e.d(n,"a",function(){return o});var o=function(){function t(t,n){this.authService=t,this.headerService=n,this.email="",this.password="",this.loginError=!1}return t.prototype.handleEnter=function(t){"Enter"===t.key&&(t.preventDefault(),this.submit())},t.prototype.ngOnInit=function(){this.headerService.setLink({url:"/",text:"Home"})},t.prototype.submit=function(){var t=this;this.authService.login(this.email,this.password).subscribe(function(n){n||(t.loginError=!1)},function(){t.loginError=!0})},t.ctorParameters=function(){return[{type:r.a},{type:i.a}]},t}()},CLgq:function(t,n,e){"use strict";var r=e("Fzro"),i=e("ELit");e.d(n,"a",function(){return l});var o="authToken",l=function(){function t(t){this.localStorage=t}return t.prototype.set=function(t){this.localStorage.set(o,t)},t.prototype.delete=function(){this.localStorage.remove(o)},t.prototype.get=function(){return this.localStorage.get(o)},t.prototype.getOptions=function(){var t=new r.l;return t.append("Authorization",this.getHeaderString()),{headers:t}},t.prototype.getHeaderString=function(){return"Bearer "+this.get()},t.ctorParameters=function(){return[{type:i.a}]},t}()},CXAF:function(t,n,e){"use strict";var r=e("CI7P");e.d(n,"a",function(){return r.a})},Caeh:function(t,n,e){"use strict";var r=e("4nEc");e.d(n,"a",function(){return r.a})},Cd9f:function(t,n,e){"use strict";var r=e("McXY"),i=e("GvKf"),o=e("agbq");e.d(n,"a",function(){return l});var l=(o.a,o.b,i.a,i.b,o.c,r.b,r.b,o.d,r.c,o.e,r.c,function(){function t(){}return t}())},ChBP:function(t,n,e){"use strict";var r=e("3j3K"),i=e("3pbj"),o=e("WWmu"),l=e("cyeq");e.d(n,"a",function(){return u});var u=function(){function t(t,n){var e=this;this.elementRef=t,this.store=n,this.hostClass=!0,this.scrollParent=document.querySelector("html"),this.hasScrolled=!1,this.store.select(i.c).subscribe(function(t){return e.playing=t})}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(t){t!==this._selected&&(t&&(this.hasScrolled=!1,this.scrollIntoView()),this._selected=t)},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(){var t=this.elementRef.nativeElement,n=t.offsetTop+t.getBoundingClientRect().height-(this.scrollParent.scrollTop+window.innerHeight),e=this.scrollParent.scrollTop-t.offsetTop,r=this.playing;if(n>0||e>0)return this.store.dispatch(new l.g),void this.smoothScroll(e,r)},t.prototype.smoothScroll=function(t,n){var e=this;if(!this.hasScrolled){if(this.scrollParent.scrollTop-=.1*t,Math.abs(t)<5)return this.hasScrolled=!0,n?this.store.dispatch(new l.h):void 0;requestAnimationFrame(function(){return e.smoothScroll(.9*t,n)})}},t.ctorParameters=function(){return[{type:r.Y},{type:o.a}]},t}()},ELit:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Qbdm");e.d(n,"a",function(){return o});var o=function(){function t(t){this.localStorage=t.defaultView.localStorage}return t.prototype.get=function(t){return this.localStorage.getItem(t)},t.prototype.set=function(t,n){this.localStorage.setItem(t,n)},t.prototype.remove=function(t){this.localStorage.removeItem(t)},t.prototype.clear=function(){this.localStorage.clear()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.F,args:[i.c]}]}]},t}()},EPgz:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){this.hostClass=!0,this.selected=!1}return t}()},ESAz:function(t,n,e){"use strict";function r(t){return o._24(0,[(t()(),o._25(0,null,null,1,"div",[["class","paragraph"]],null,null,null,null,null)),(t()(),o._26(null,["\n\tProper explanation here. Make it speed-readable.\n"])),(t()(),o._26(null,["\n"]))],null,null)}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-homepage",[],null,null,null,r,a)),o._27(57344,null,0,l.a,[u.a],null,null)],function(t,n){t(n,1,0)},null)}var o=e("3j3K"),l=e("4nEc"),u=e("zkbP");e.d(n,"a",function(){return c});var s=[],a=o._23({encapsulation:2,styles:s,data:{}}),c=o._28("app-homepage",l.a,i,{},{},[])},FUK6:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},GQfQ:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var r=5e3,i=5,o=function(t,n){return Math.abs(t-n)<=i},l=function(){function t(){}return t.prototype.getChildPositionData=function(t){var n=window.document.createElement("div");window.document.body.appendChild(n);var e=0,r=Object.keys(t).reduce(function(r,i){var o=t[i];n.appendChild(o);var l=o.scrollHeight;return e+=l,r[i]={element:o,height:l,previousSiblingsHeight:e},r},{});return n.remove(),r},t.prototype.updatePreviouSiblingHeights=function(t){var n=0;return Object.keys(t).sort(function(t,n){return Number(t)-Number(n)}).reduce(function(e,r){return e[r]=Object.assign({},t[r],{previousSiblingsHeight:n}),n+=t[r].height,e},{})},t.prototype.fillContainer=function(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this.emptyContainer(t);var o=this.getChildByIdx(e,r);t.appendChild(o);for(var l=r;null!=e[l-1]&&l>=r-10;)l--,t.insertBefore(this.getChildByIdx(e,l),this.getChildByIdx(e,l+1));for(var u=r;null!=e[u+1]&&u<=r+10;)u++,t.appendChild(this.getChildByIdx(e,u));var s=window.document.createElement("div");s.style.height=e[l].previousSiblingsHeight+"px",s.id="topPaddingDiv",t.insertBefore(s,this.getChildByIdx(e,l));var a=window.document.createElement("div"),c=this.getPaddingAfterChild(e,u);return a.id="bottomPaddingDiv",a.style.height=c+"px",t.appendChild(a),n.scrollTop=o.offsetTop-i,{firstChildIdx:l,lastChildIdx:u}},t.prototype.updateContainerBuffers=function(t,n,e,i,l){void 0===i&&(i=0);for(var u=n.getBoundingClientRect(),s=u.top,a=u.bottom,c=this.updateBounds(l,0,0);o(l.firstChildIdx,c.firstChildIdx)&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().bottom<-1*r;)console.log("trimming top"),c=this.removeFirstChild(e,c),this.updatePaddingDivs(e,c);for(;o(l.lastChildIdx,c.lastChildIdx)&&t.lastElementChild.getBoundingClientRect().top>a+r;)console.log("trimming bottom"),c=this.removeLastChild(e,c),this.updatePaddingDivs(e,c);for(;null!=e[c.firstChildIdx-1]&&c.firstChildIdx>0&&this.getChildByIdx(e,c.firstChildIdx).getBoundingClientRect().top>s-r;)console.log("padding top"),t.insertBefore(this.getChildByIdx(e,c.firstChildIdx-1),this.getChildByIdx(e,c.firstChildIdx)),c=this.updateBounds(c,-1,0),this.updatePaddingDivs(e,c);for(;null!=e[c.lastChildIdx+1]&&c.lastChildIdx<Object.keys(e).length-1&&this.getChildByIdx(e,c.lastChildIdx).getBoundingClientRect().bottom<a+r;)console.log("padding bottom"),t.insertBefore(this.getChildByIdx(e,[c.lastChildIdx+1]),window.document.querySelector("#bottomPaddingDiv")),c=this.updateBounds(c,0,1),this.updatePaddingDivs(e,c);return c},t.prototype.updatePaddingDivs=function(t,n){var e=window.document.querySelector("#topPaddingDiv"),r=window.document.querySelector("#bottomPaddingDiv");e.style.height=t[n.firstChildIdx].previousSiblingsHeight+"px",r.style.height=this.getPaddingAfterChild(t,n.lastChildIdx)},t.prototype.emptyContainer=function(t){for(;t.children.length;)t.firstElementChild.remove()},t.prototype.removeFirstChild=function(t,n){return this.getChildByIdx(t,n.firstChildIdx).remove(),this.updateBounds(n,1,0)},t.prototype.removeLastChild=function(t,n){return this.getChildByIdx(t,n.lastChildIdx).remove(),this.updateBounds(n,0,-1)},t.prototype.getPaddingAfterChild=function(t,n){var e=t[n];this.getLastChild(t);return this.getTotalChildrenHeight(t)-this.getBottomHeight(e)+"px"},t.prototype.getChildByIdx=function(t,n){return t[n].element},t.prototype.updateBounds=function(t,n,e){return{firstChildIdx:t.firstChildIdx+n,lastChildIdx:t.lastChildIdx+e}},t.prototype.getTotalChildrenHeight=function(t){var n=this.getLastChild(t);return n.height+n.previousSiblingsHeight},t.prototype.getLastChild=function(t){return t[Math.max.apply(Math,Object.keys(t).map(Number))]},t.prototype.getBottomHeight=function(t){return t.height+t.previousSiblingsHeight},t}()},GjlP:function(t,n,e){"use strict";var r=e("Gvdl");e.n(r);e.d(n,"a",function(){return i});var i=function(){function t(){}return t.prototype.getInterval=function(t){return r.Observable.interval(t)},t.prototype.getIntervalFromWpm=function(t,n){return void 0===n&&(n=1),r.Observable.interval(6e4/t*n)},t}()},GuZw:function(t,n,e){"use strict";function r(t){return l._24(0,[(t()(),l._25(0,null,null,1,"div",[["class","bg-red white"]],null,null,null,null,null)),(t()(),l._26(null,["\n\tLogin failed!\n"]))],null,null)}function i(t){return l._24(0,[(t()(),l._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t"])),(t()(),l._25(0,null,null,5,"input",[["class","input-reset w-100"],["placeholder","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==l._29(t,3)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==l._29(t,3).onTouched()&&r}if("compositionstart"===n){r=!1!==l._29(t,3)._compositionStart()&&r}if("compositionend"===n){r=!1!==l._29(t,3)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.email=e)&&r}return r},null,null)),l._27(8192,null,0,s.d,[l.Z,l.Y,[2,s.e]],null,null),l._31(512,null,s.f,function(t){return[t]},[s.d]),l._27(335872,null,0,s.g,[[8,null],[8,null],[8,null],[2,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),l._31(1024,null,s.h,null,[s.g]),l._27(8192,null,0,s.i,[s.h],null,null),(t()(),l._26(null,["\n"])),(t()(),l._26(null,["\n"])),(t()(),l._25(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t"])),(t()(),l._25(0,null,null,5,"input",[["class","input-reset w-100"],["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var r=!0,i=t.component;if("input"===n){r=!1!==l._29(t,13)._handleInput(e.target.value)&&r}if("blur"===n){r=!1!==l._29(t,13).onTouched()&&r}if("compositionstart"===n){r=!1!==l._29(t,13)._compositionStart()&&r}if("compositionend"===n){r=!1!==l._29(t,13)._compositionEnd(e.target.value)&&r}if("ngModelChange"===n){r=!1!==(i.password=e)&&r}return r},null,null)),l._27(8192,null,0,s.d,[l.Z,l.Y,[2,s.e]],null,null),l._31(512,null,s.f,function(t){return[t]},[s.d]),l._27(335872,null,0,s.g,[[8,null],[8,null],[8,null],[2,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),l._31(1024,null,s.h,null,[s.g]),l._27(8192,null,0,s.i,[s.h],null,null),(t()(),l._26(null,["\n"])),(t()(),l._26(null,["\n"])),(t()(),l._25(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t"])),(t()(),l._25(0,null,null,1,"button",[["class","button-reset w-100"]],null,[[null,"click"]],function(t,n,e){var r=!0,i=t.component;if("click"===n){r=!1!==i.submit()&&r}return r},null,null)),(t()(),l._26(null,["Log In!"])),(t()(),l._26(null,["\n"])),(t()(),l._26(null,["\n"])),(t()(),l._30(8388608,null,null,1,null,r)),l._27(8192,null,0,a.l,[l._3,l._4],{ngIf:[0,"ngIf"]},null),(t()(),l._26(null,["\n"]))],function(t,n){var e=n.component;t(n,5,0,e.email),t(n,15,0,e.password),t(n,27,0,e.loginError)},function(t,n){t(n,2,0,l._29(n,7).ngClassUntouched,l._29(n,7).ngClassTouched,l._29(n,7).ngClassPristine,l._29(n,7).ngClassDirty,l._29(n,7).ngClassValid,l._29(n,7).ngClassInvalid,l._29(n,7).ngClassPending),t(n,12,0,l._29(n,17).ngClassUntouched,l._29(n,17).ngClassTouched,l._29(n,17).ngClassPristine,l._29(n,17).ngClassDirty,l._29(n,17).ngClassValid,l._29(n,17).ngClassInvalid,l._29(n,17).ngClassPending)})}function o(t){return l._24(0,[(t()(),l._25(0,null,null,1,"app-login-page",[],null,[["document","keydown"]],function(t,n,e){var r=!0;if("document:keydown"===n){r=!1!==l._29(t,1).handleEnter(e)&&r}return r},i,h)),l._27(57344,null,0,u.a,[c.a,_.a],null,null)],function(t,n){t(n,1,0)},null)}var l=e("3j3K"),u=e("CI7P"),s=e("NVOs"),a=e("2Je8"),c=e("qsEO"),_=e("zkbP");e.d(n,"a",function(){return f});var p=[],h=l._23({encapsulation:2,styles:p,data:{}}),f=l._28("app-login-page",u.a,o,{},{},[])},GvKf:function(t,n,e){"use strict";var r=e("qOWT");e.d(n,"a",function(){return r.a});var i=e("TCeW");e.d(n,"b",function(){return i.a})},HKeY:function(t,n,e){"use strict";var r=e("3pbj"),i=e("WWmu"),o=e("cyeq"),l=e("9sFL"),u=e("i2LP");e.d(n,"a",function(){return s});var s=function(){function t(t,n,e){this.booksApi=t,this.store=n,this.headerService=e,this.books=[],this.wpm$=this.store.select(r.d)}return t.prototype.ngOnInit=function(){var t=this;this.booksApiSubscription=this.booksApi.getByFilter().subscribe(function(n){return t.books=n}),this.setHeaderLink()},t.prototype.ngOnDestroy=function(){this.cancelBooksApiSubscription()},t.prototype.setWpm=function(t){this.store.dispatch(new o.i(t))},Object.defineProperty(t.prototype,"noBooks",{get:function(){return null==this.books||0===this.books.length},enumerable:!0,configurable:!0}),t.prototype.cancelBooksApiSubscription=function(){null!=this.booksApiSubscription&&(this.booksApiSubscription.unsubscribe(),this.booksApiSubscription=null)},t.prototype.setHeaderLink=function(){this.headerService.link.next({url:"/books/new",text:"Add Book"})},t.ctorParameters=function(){return[{type:l.b},{type:i.a},{type:u.a}]},t}()},Iksp:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},JQMI:function(t,n,e){"use strict";var r=e("5oXY"),i=e("WWmu"),o=e("qsEO"),l=e("X4Zl");e.d(n,"a",function(){return s});var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(t){function n(n,e,r){return t.call(this,n,e,r)||this}return u(n,t),n.prototype.handleRedirect=function(t){if(!t)return void this.router.navigateByUrl("/login")},n.prototype.activate=function(t){return t},n.ctorParameters=function(){return[{type:o.a},{type:r.g},{type:i.a}]},n}(l.a)},Jlqr:function(t,n,e){"use strict";function r(t,n){return n=Array.isArray(n)?n.join("/"):String(n),n=n.replace(c,"$1"),t+"/"+n}function i(t,n){return null==n?t:(null==t&&(t={}),t.search=o(n),t)}function o(t){return Object.keys(t).reduce(function(n,e){var r=t[e];return Array.isArray(r)?r.forEach(function(t){return n.append(e,String(t))}):null!=r&&n.set(e,String(r)),n},new l.m)}var l=e("Fzro"),u=e("+pb+"),s=(e.n(u),e("PZt1"));e.d(n,"a",function(){return a});var a=function(){function t(t,n){this.config=t,this.http=n}return Object.defineProperty(t.prototype,"baseUrl",{get:function(){return this.config.baseUrl},enumerable:!0,configurable:!0}),t.prototype.request=function(t,n){return this.wrapResponse(this.http.request(this.getPath(t),n))},t.prototype.get=function(t,n,e){return this.wrapResponse(this.http.get(this.getPath(t),i(e,n)))},t.prototype.post=function(t,n,e,r){return this.wrapResponse(this.http.post(this.getPath(t),n,i(r,e)))},t.prototype.put=function(t,n,e,r){return this.wrapResponse(this.http.put(this.getPath(t),n,i(r,e)))},t.prototype.patch=function(t,n,e,r){return this.wrapResponse(this.http.patch(this.getPath(t),n,i(r,e)))},t.prototype.delete=function(t,n,e){return this.wrapResponse(this.http.delete(this.getPath(t),i(e,n)))},t.prototype.wrapResponse=function(t){return t.map(function(t){try{return t.json()}catch(n){return t.text()}})},t.prototype.getPath=function(t){return r(this.baseUrl,t)},t.ctorParameters=function(){return[{type:s.a},{type:l.k}]},t}(),c=/^\/*(.*?)\/*$/},McXY:function(t,n,e){"use strict";var r=e("JQMI");e.d(n,"b",function(){return r.a});var i=e("QJuB");e.d(n,"c",function(){return i.a});var o=(e("4Xti"),e("qsEO"));e.d(n,"a",function(){return o.a})},Md7J:function(t,n,e){"use strict";var r=e("+Do2");e.d(n,"a",function(){return r.a})},NVNu:function(t,n){},NqZ3:function(t,n,e){"use strict";var r=e("HKeY");e.d(n,"a",function(){return r.a})},OfQ8:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},PZt1:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t){if(null==t)throw new Error("rest-http.config is invalud");this.baseUrl=t.baseUrl}return t}()},Pm2l:function(t,n){},QJuB:function(t,n,e){"use strict";var r=e("5oXY"),i=e("WWmu"),o=e("qsEO"),l=e("X4Zl");e.d(n,"a",function(){return s});var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(t){function n(n,e,r){return t.call(this,n,e,r)||this}return u(n,t),n.prototype.handleRedirect=function(t){t&&this.router.navigateByUrl("/books")},n.prototype.activate=function(t){return!t},n.ctorParameters=function(){return[{type:o.a},{type:r.g},{type:i.a}]},n}(l.a)},RBKA:function(t,n,e){"use strict";function r(t){return _._24(0,[(t()(),_._25(0,null,null,2,"div",[["class","paragraph--wordIdx code f7 gray"]],null,null,null,null,null)),(t()(),_._26(null,["\n\t\t","\n\t"])),_._36(2)],null,function(t,n){var e=n.component;t(n,1,0,_._35(n,1,0,t(n,2,0,_._29(n.parent.parent,0),e.paragraph.firstIndex,"1.0-0")))})}function i(t){return _._24(0,[(t()(),_._26(null,["\n\t\t"])),(t()(),_._25(0,null,null,2,"div",[["class","paragraph--wordIdx code f7 gray"]],null,null,null,null,null)),(t()(),_._26(null,["\n\t\t\t","\n\t\t"])),_._36(2),(t()(),_._26(null,["\n\t"]))],null,function(t,n){var e=n.component;t(n,2,0,_._35(n,2,0,t(n,3,0,_._29(n.parent.parent,1),e.percent,"1.0-1")))})}function o(t){return _._24(0,[(t()(),_._25(0,null,null,2,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,p.a,p.b)),_._27(24576,null,0,h.a,[],{word:[0,"word"],selected:[1,"selected"]},null),(t()(),_._26(null,["\n\t\t"]))],function(t,n){var e=n.component;t(n,1,0,n.context.$implicit,e.currentPosition.wordIdx===n.context.index)},function(t,n){t(n,0,0,_._29(n,1).hostClass,_._29(n,1).selected)})}function l(t){return _._24(0,[(t()(),_._25(0,null,null,4,"div",[["class","pt2 pb2"]],null,null,null,null,null)),(t()(),_._26(null,["\n\t\t"])),(t()(),_._30(8388608,null,null,1,null,o)),_._27(401408,null,0,f.m,[_._3,_._4,_.w],{ngForOf:[0,"ngForOf"]},null),(t()(),_._26(null,["\n\t"]))],function(t,n){t(n,3,0,n.component.paragraph.text)},null)}function u(t){return _._24(0,[(t()(),_._26(null,["\n\t\t"])),(t()(),_._25(0,null,null,1,"div",[["class","pt2 pb2"]],null,null,null,null,null)),(t()(),_._26(null,["\n\t\t\t","\n\t\t"])),(t()(),_._26(null,["\n\t"]))],null,function(t,n){t(n,2,0,n.component.paragraph.textString)})}function s(t){return _._24(0,[(t()(),_._25(0,null,null,11,"div",[["class","paragraph"]],null,null,null,null,null)),(t()(),_._26(null,["\n\t"])),(t()(),_._30(8388608,null,null,1,null,r)),_._27(8192,null,0,f.l,[_._3,_._4],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),_._26(null,["\n\t"])),(t()(),_._30(0,[["percentBlock",2]],null,0,null,i)),(t()(),_._26(null,["\n\t"])),(t()(),_._30(8388608,null,null,1,null,l)),_._27(8192,null,0,f.l,[_._3,_._4],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),_._26(null,["\n\t"])),(t()(),_._30(0,[["elseBlock",2]],null,0,null,u)),(t()(),_._26(null,["\n"]))],function(t,n){var e=n.component;t(n,3,0,e.id%5!=0,_._29(n,5)),t(n,8,0,e.selected,_._29(n,10))},null)}function a(t){return _._24(0,[_._33(0,f.p,[_.u]),_._33(0,f.q,[_.u]),(t()(),_._30(8388608,null,null,1,null,s)),_._27(8192,null,0,f.l,[_._3,_._4],{ngIf:[0,"ngIf"]},null),(t()(),_._26(null,["\n"]))],function(t,n){t(n,3,0,null!=n.component.paragraph)},null)}function c(t){return _._24(0,[(t()(),_._25(0,null,null,1,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,a,v)),_._27(24576,null,0,d.a,[_.Y,g.a],null,null)],null,function(t,n){t(n,0,0,_._29(n,1).hostClass)})}var _=e("3j3K"),p=e("yG2t"),h=e("EPgz"),f=e("2Je8"),d=e("ChBP"),g=e("Zcpd");e.d(n,"b",function(){return v}),n.a=a;var b=[],v=_._23({encapsulation:2,styles:b,data:{}});_._28("app-scanner-paragraph",d.a,c,{paragraph:"paragraph",currentPosition:"currentPosition",id:"id",percent:"percent",selected:"selected"},{},[])},RYfX:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(t,n,e,r){this.paragraphIdx=t,this.wordIdx=n,this.bookId=e,this.id=r}return t}()},TCeW:function(t,n,e){"use strict";var r=e("Gvdl"),i=(e.n(r),e("lk+P"));e.d(n,"a",function(){return o});var o=function(){function t(t){this.bookmarksApi=t}return t.prototype.resolve=function(t,n){var e=t.params.id;return"new"===e?r.Observable.of():null!=e&&isNaN(e)?r.Observable.throw(new Error("Invalid dataflow id")):this.bookmarksApi.getById(Number(e))},t.ctorParameters=function(){return[{type:i.a}]},t}()},UGCa:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return i}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"b",function(){return s});var r="[BOOK_POSITION] Load Saved",i="[BOOK_POSITION] Set",o="[BOOK_POSITION] Set Partial Text",l="[BOOK_POSITION] Step",u="[BOOK_POSITION] Unload",s=(function(){function t(t){this.payload=t,this.type=r}}(),function(){function t(t){this.payload=t,this.type=i}return t}());(function(){function t(){this.type=o}})(),function(){function t(){this.type=u}}(),function(){function t(t){this.payload=t,this.type=l}}()},Vd6R:function(t,n,e){"use strict";var r=e("Fzro"),i=e("Gvdl"),o=(e.n(i),e("BeuU")),l=e("PZt1");e.d(n,"a",function(){return u});var u=function(){function t(t,n,e){this.http=t,this.config=n,this.tokenService=e,this.tokenRouteExtension="/user_token",this.usersRouteExtension="/users"}return Object.defineProperty(t.prototype,"tokenRoute",{get:function(){return this.config.baseUrl+this.tokenRouteExtension},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"usersRoute",{get:function(){return this.config.baseUrl+this.usersRouteExtension},enumerable:!0,configurable:!0}),t.prototype.verify=function(){return this.http.get(this.usersRoute,this.tokenService.getOptions()).map(function(t){return t.json()})},t.prototype.get=function(t,n){return this.http.post(this.tokenRoute,{auth:{email:t,password:n}}).map(function(t){return null==t||""===t.text()?i.Observable.of(void 0):t.json()})},t.ctorParameters=function(){return[{type:r.k},{type:l.a},{type:o.a}]},t}()},X4Zl:function(t,n,e){"use strict";var r=e("3pbj");e.d(n,"a",function(){return i});var i=function(){function t(t,n,e){this.authService=t,this.router=n,this.store=e}return t.prototype.canActivate=function(){var t=this;return this.authService.initted?this.store.select(r.e).do(function(n){return t.handleRedirect(n)}).map(function(n){return t.activate(n)}):this.authService.verify().take(1).flatMap(function(){return t.store.select(r.e)}).do(function(n){return t.handleRedirect(n)}).map(function(n){return t.activate(n)})},t.prototype.canActivateChild=function(){return this.canActivate()},t}()},Xxl5:function(t,n,e){"use strict";var r=e("/DgF");e.d(n,"a",function(){return r.a})},Y7Pa:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:var e=!t.rsv;return Object.assign({},t,{rsv:e,play:!!e&&t.play});case i.b:return Object.assign({},t,{play:!0});case i.c:return Object.assign({},t,{play:!1});case i.d:var r=!t.play;return Object.assign({},t,{play:r});case i.e:return Object.assign({},t,{wpm:n.payload});case i.f:return Object.assign({},t,{phraseLength:n.payload});default:return t}}var i=e("cyeq");n.a=r,e.d(n,"c",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"d",function(){return s}),e.d(n,"e",function(){return a});var o={rsv:!1,phraseLength:2,play:!1,wpm:310},l=function(t){return t.rsv},u=function(t){return t.play},s=function(t){return t.wpm},a=function(t){return t.phraseLength}},YWx4:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},YrpA:function(t,n,e){"use strict";var r=e("Xxl5"),i=e("wEKh"),o=e("megd");e.d(n,"a",function(){return l});var l=(r.a,i.a,o.a,function(){function t(){}return t}())},ZxdZ:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.c:return Object.assign({},t,{position:n.payload});case i.e:return Object.assign({},t,{position:o});default:return t}}var i=e("UGCa");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.position}},aEq8:function(t,n){},agbq:function(t,n,e){"use strict";var r=(e("7grU"),e("NqZ3"));e.d(n,"c",function(){return r.a});var i=e("3J2k");e.d(n,"b",function(){return i.a});var o=e("Caeh");e.d(n,"e",function(){return o.a});var l=e("CXAF");e.d(n,"d",function(){return l.a});var u=e("Md7J");e.d(n,"a",function(){return u.a})},cyeq:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"d",function(){return i}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return l}),e.d(n,"e",function(){return u}),e.d(n,"f",function(){return s}),e.d(n,"j",function(){return a}),e.d(n,"h",function(){return c}),e.d(n,"g",function(){return _}),e.d(n,"i",function(){return p});var r="[READER] Toggle RSV",i="[READER] Toggle Play",o="[READER] Start Play",l="[READER] Stop Play",u="[READER] WPM",s="[READER] Phrase Length",a=(function(){function t(){this.type=r}}(),function(){function t(){this.type=i}return t}()),c=function(){function t(){this.type=o}return t}(),_=function(){function t(){this.type=l}return t}(),p=function(){function t(t){this.payload=t,this.type=u}return t}();!function(){function t(t){this.payload=t,this.type=s}}()},"ea/y":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},"fwo/":function(t,n,e){"use strict";var r=(e("OfQ8"),e("lk+P"));e.d(n,"a",function(){return r.b}),e.d(n,"d",function(){return r.a});var i=e("6W3o");e.d(n,"c",function(){return i.b}),e.d(n,"e",function(){return i.a}),e.d(n,"f",function(){return i.c});var o=e("BeuU");e.d(n,"b",function(){return o.b})},gccr:function(t,n,e){"use strict";function r(t){return l._24(0,[(t()(),l._25(0,null,null,2,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,u.a,u.b)),l._27(24576,null,0,s.a,[l.Y,a.a],{paragraph:[0,"paragraph"],currentPosition:[1,"currentPosition"],id:[2,"id"],percent:[3,"percent"],selected:[4,"selected"]},null),(t()(),l._26(null,["\n\t\t"]))],function(t,n){var e=n.component;t(n,1,0,n.context.$implicit,e.bookPosition,n.context.index,n.context.$implicit.firstIndex/e.book.length,e.bookPosition.paragraphIdx===n.context.$implicit.id)},function(t,n){t(n,0,0,l._29(n,1).hostClass)})}function i(t){return l._24(0,[(t()(),l._25(0,null,null,7,"div",[["class","flex flex-column items-center"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t"])),(t()(),l._25(0,null,null,4,"div",[["class","mw6"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t"])),(t()(),l._30(8388608,null,null,1,null,r)),l._27(401408,null,0,c.m,[l._3,l._4,l.w],{ngForOf:[0,"ngForOf"]},null),(t()(),l._26(null,["\n\t"])),(t()(),l._26(null,["\n"])),(t()(),l._26(null,["\n"]))],function(t,n){t(n,5,0,n.component.content)},null)}function o(t){return l._24(0,[(t()(),l._25(0,null,null,1,"app-book-scanner",[],null,[[null,"click"]],function(t,n,e){var r=!0;if("click"===n){r=!1!==l._29(t,1).onClick()&&r}return r},i,b)),l._27(122880,null,0,_.a,[p.v,h.a,f.a,d.a,a.a],null,null)],function(t,n){t(n,1,0)},null)}var l=e("3j3K"),u=e("RBKA"),s=e("ChBP"),a=e("Zcpd"),c=e("2Je8"),_=e("uv4r"),p=e("5oXY"),h=e("37y8"),f=e("3imX"),d=e("GjlP");e.d(n,"a",function(){return v});var g=[],b=l._23({encapsulation:2,styles:g,data:{}}),v=l._28("app-book-scanner",_.a,o,{},{},[])},i2LP:function(t,n,e){"use strict";var r=e("zkbP");e.d(n,"a",function(){return r.a});e("zqRp")},"i2b/":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},juMz:function(t,n,e){"use strict";function r(t,n){return l.a.production?g(t,n):d(t,n)}var i=e("bndy"),o=(e.n(i),e("WWmu")),l=e("kZql"),u=e("owqQ"),s=(e.n(u),e("KhQu")),a=(e.n(s),e("ZxdZ")),c=e("zeFx"),_=e("uqwp"),p=e("Y7Pa"),h=e("1mcY");n.a=r,e.d(n,"d",function(){return v}),e.d(n,"e",function(){return y}),e.d(n,"b",function(){return P}),e.d(n,"c",function(){return k}),e.d(n,"f",function(){return O});var f={reader:p.a,books:c.a,bookPosition:a.a,paragraphMap:_.a,userDetails:h.a},d=e.i(u.compose)(s.storeFreeze,o.b)(f),g=e.i(o.b)(f),b=function(t){return t.reader},v=e.i(i.createSelector)(b,p.b),y=(e.i(i.createSelector)(b,p.c),e.i(i.createSelector)(b,p.d)),m=(e.i(i.createSelector)(b,p.e),function(t){return t.books}),P=e.i(i.createSelector)(m,c.b),S=function(t){return t.bookPosition},k=e.i(i.createSelector)(S,a.b),I=function(t){return t.paragraphMap},w=(e.i(i.createSelector)(I,_.b),function(t){return t.userDetails}),O=e.i(i.createSelector)(w,h.b);e.i(i.createSelector)(w,h.c),e.i(i.createSelector)(w,h.d),e.i(i.createSelector)(w,h.e)},"k4+s":function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()},kUXO:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return i});var r="[POSITION_DATA] Set",i="[POSITION_DATA] Unset";(function(){function t(t){this.payload=t,this.type=r}})(),function(){function t(){this.type=i}}()},kZql:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r={production:!0}},kke6:function(t,n,e){"use strict";var r=e("3j3K"),i=e("Iksp"),o=e("5oXY"),l=e("2Je8"),u=e("Cd9f"),s=e("Qbdm"),a=e("FUK6"),c=e("zqRp"),_=e("YrpA"),p=e("NVOs"),h=e("7grU"),f=e("Fzro"),d=e("AK3k"),g=e("BlzQ"),b=e("4Xti"),v=e("ea/y"),y=e("k4+s"),m=e("i2b/"),P=e("OfQ8"),S=e("cPow"),k=e("osFu"),I=e("4h9u"),w=e("2zeU"),O=e("Jlqr"),R=e("ELit"),A=e("CLgq"),C=e("Vd6R"),E=e("qsEO"),x=e("yw3Q"),B=e("9pxV"),T=e("9Tle"),j=e("37y8"),M=e("3imX"),N=e("tvlE"),L=e("njfE"),D=e("MF+P"),U=e("68+W"),H=e("TCeW"),F=e("qOWT"),z=e("zkbP"),G=e("JQMI"),q=e("QJuB"),K=e("GQfQ"),W=e("GjlP"),Z=e("709r"),$=e("gccr"),Y=e("9EeC"),X=e("GuZw"),J=e("ESAz"),V=e("1A80"),Q=e("SyMH"),tt=e("+Do2"),nt=e("uv4r"),et=e("HKeY"),rt=e("CI7P"),it=e("4nEc"),ot=e("juMz"),lt=e("oi6x"),ut=e("NPiC"),st=e("Zcpd"),at=e("PZt1");e.d(n,"a",function(){return pt});var ct=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_t=function(t){function n(n){return t.call(this,n,[Z.a,$.a,Y.a,X.a,J.a,V.a],[V.a])||this}return ct(n,t),Object.defineProperty(n.prototype,"_ActivatedRoute_70",{get:function(){return null==this.__ActivatedRoute_70&&(this.__ActivatedRoute_70=o.a(this._Router_16)),this.__ActivatedRoute_70},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NoPreloading_71",{get:function(){return null==this.__NoPreloading_71&&(this.__NoPreloading_71=new o.b),this.__NoPreloading_71},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadingStrategy_72",{get:function(){return null==this.__PreloadingStrategy_72&&(this.__PreloadingStrategy_72=this._NoPreloading_71),this.__PreloadingStrategy_72},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RouterPreloader_73",{get:function(){return null==this.__RouterPreloader_73&&(this.__RouterPreloader_73=new o.c(this._Router_16,this._NgModuleFactoryLoader_14,this._Compiler_13,this,this._PreloadingStrategy_72)),this.__RouterPreloader_73},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_PreloadAllModules_74",{get:function(){return null==this.__PreloadAllModules_74&&(this.__PreloadAllModules_74=new o.d),this.__PreloadAllModules_74},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_ROUTER_INITIALIZER_75",{get:function(){return null==this.__ROUTER_INITIALIZER_75&&(this.__ROUTER_INITIALIZER_75=o.e(this._g_2)),this.__ROUTER_INITIALIZER_75},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_BOOTSTRAP_LISTENER_76",{get:function(){return null==this.__APP_BOOTSTRAP_LISTENER_76&&(this.__APP_BOOTSTRAP_LISTENER_76=[this._ROUTER_INITIALIZER_75,Q.a(this,this._EffectsSubscription_67)]),this.__APP_BOOTSTRAP_LISTENER_76},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_BookPositionResolver_77",{get:function(){return null==this.__BookPositionResolver_77&&(this.__BookPositionResolver_77=new H.a(this._BookmarksApi_62)),this.__BookPositionResolver_77},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_BookResolver_78",{get:function(){return null==this.__BookResolver_78&&(this.__BookResolver_78=new F.a(this._BooksApi_59)),this.__BookResolver_78},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_LOCALE_ID_79",{get:function(){return null==this.__LOCALE_ID_79&&(this.__LOCALE_ID_79="en-US"),this.__LOCALE_ID_79},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NgLocalization_80",{get:function(){return null==this.__NgLocalization_80&&(this.__NgLocalization_80=new l.a(this._LOCALE_ID_79)),this.__NgLocalization_80},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_APP_ID_81",{get:function(){return null==this.__APP_ID_81&&(this.__APP_ID_81=r.b()),this.__APP_ID_81},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IterableDiffers_82",{get:function(){return null==this.__IterableDiffers_82&&(this.__IterableDiffers_82=r.c()),this.__IterableDiffers_82},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_KeyValueDiffers_83",{get:function(){return null==this.__KeyValueDiffers_83&&(this.__KeyValueDiffers_83=r.d()),this.__KeyValueDiffers_83},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSanitizer_84",{get:function(){return null==this.__DomSanitizer_84&&(this.__DomSanitizer_84=new s.b(this.parent.get(s.c))),this.__DomSanitizer_84},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Sanitizer_85",{get:function(){return null==this.__Sanitizer_85&&(this.__Sanitizer_85=this._DomSanitizer_84),this.__Sanitizer_85},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_HAMMER_GESTURE_CONFIG_86",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_86&&(this.__HAMMER_GESTURE_CONFIG_86=new s.d),this.__HAMMER_GESTURE_CONFIG_86},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EVENT_MANAGER_PLUGINS_87",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_87&&(this.__EVENT_MANAGER_PLUGINS_87=[new s.e(this.parent.get(s.c)),new s.f(this.parent.get(s.c)),new s.g(this.parent.get(s.c),this._HAMMER_GESTURE_CONFIG_86)]),this.__EVENT_MANAGER_PLUGINS_87},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_EventManager_88",{get:function(){return null==this.__EventManager_88&&(this.__EventManager_88=new s.h(this._EVENT_MANAGER_PLUGINS_87,this.parent.get(r.e))),this.__EventManager_88},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomSharedStylesHost_89",{get:function(){return null==this.__DomSharedStylesHost_89&&(this.__DomSharedStylesHost_89=new s.i(this.parent.get(s.c))),this.__DomSharedStylesHost_89},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_DomRendererFactory2_90",{get:function(){return null==this.__DomRendererFactory2_90&&(this.__DomRendererFactory2_90=new s.j(this._EventManager_88,this._DomSharedStylesHost_89)),this.__DomRendererFactory2_90},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_RendererFactory2_91",{get:function(){return null==this.__RendererFactory2_91&&(this.__RendererFactory2_91=this._DomRendererFactory2_90),this.__RendererFactory2_91},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_SharedStylesHost_92",{get:function(){return null==this.__SharedStylesHost_92&&(this.__SharedStylesHost_92=this._DomSharedStylesHost_89),this.__SharedStylesHost_92},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Testability_93",{get:function(){return null==this.__Testability_93&&(this.__Testability_93=new r.f(this.parent.get(r.e))),this.__Testability_93},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Meta_94",{get:function(){return null==this.__Meta_94&&(this.__Meta_94=new s.k(this.parent.get(s.c))),this.__Meta_94},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_Title_95",{get:function(){return null==this.__Title_95&&(this.__Title_95=new s.l(this.parent.get(s.c))),this.__Title_95},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_HeaderService_96",{get:function(){return null==this.__HeaderService_96&&(this.__HeaderService_96=new z.a),this.__HeaderService_96},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_i_97",{get:function(){return null==this.__i_97&&(this.__i_97=new p.a),this.__i_97},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_AuthorizedGuard_98",{get:function(){return null==this.__AuthorizedGuard_98&&(this.__AuthorizedGuard_98=new G.a(this._AuthService_58,this._Router_16,this._Store_44)),this.__AuthorizedGuard_98},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_NotAuthorizedGuard_99",{get:function(){return null==this.__NotAuthorizedGuard_99&&(this.__NotAuthorizedGuard_99=new q.a(this._AuthService_58,this._Router_16,this._Store_44)),this.__NotAuthorizedGuard_99},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_InfiniteScrollService_100",{get:function(){return null==this.__InfiniteScrollService_100&&(this.__InfiniteScrollService_100=new K.a),this.__InfiniteScrollService_100},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"_IntervalService_101",{get:function(){return null==this.__IntervalService_101&&(this.__IntervalService_101=new W.a),this.__IntervalService_101},enumerable:!0,configurable:!0}),n.prototype.createInternal=function(){return this._a_0=o.f(this.parent.get(o.g,null)),this._ErrorHandler_1=s.m(),this._g_2=new o.h(this),this._NgProbeToken_3=[o.i()],this._APP_INITIALIZER_4=[o.j(this._g_2),r.g,s.n(this.parent.get(s.o,null),this._NgProbeToken_3)],this._ApplicationInitStatus_5=new r.h(this._APP_INITIALIZER_4),this._f_6=new r.i(this.parent.get(r.e),this.parent.get(r.j),this,this._ErrorHandler_1,this.componentFactoryResolver,this._ApplicationInitStatus_5),this._ApplicationRef_7=this._f_6,this._UrlSerializer_8=new o.k,this._RouterOutletMap_9=new o.l,this._ROUTER_CONFIGURATION_10={useHash:!0,enableTracing:!1},this._LocationStrategy_11=o.m(this.parent.get(l.b),this.parent.get(l.c,null),this._ROUTER_CONFIGURATION_10),this._Location_12=new l.d(this._LocationStrategy_11),this._Compiler_13=new r.k,this._NgModuleFactoryLoader_14=new r.l(this._Compiler_13,this.parent.get(r.m,null)),this._ROUTES_15=[[{path:"books",children:[{path:"new",component:tt.a},{path:":id",component:nt.a,resolve:{book:F.a,bookPosition:H.a}},{path:"",pathMatch:"full",component:et.a}],canActivate:[G.a],canActivateChild:[G.a]},{path:"login",component:rt.a,canActivate:[q.a]},{path:"",pathMatch:"full",component:it.a,canActivate:[q.a]},{path:"**",redirectTo:"/books"}]],this._Router_16=o.n(this._ApplicationRef_7,this._UrlSerializer_8,this._RouterOutletMap_9,this._Location_12,this,this._NgModuleFactoryLoader_14,this._Compiler_13,this._ROUTES_15,this._ROUTER_CONFIGURATION_10,this.parent.get(o.o,null),this.parent.get(o.p,null)),this._RouterModule_17=new o.q(this._a_0,this._Router_16),this._AppRoutingModule_18=new u.a,this._CommonModule_19=new l.e,this._ApplicationModule_20=new r.n(this._ApplicationRef_7),this._BrowserModule_21=new s.p(this.parent.get(s.p,null)),this._InteractionDirectivesModule_22=new a.a,this._UiServicesModule_23=new c.a,this._ComponentsModule_24=new _.a,this._ba_25=new p.b,this._FormsModule_26=new p.c,this._ContainersModule_27=new h.a,this._HttpModule_28=new f.a,this._BrowserUtilsModule_29=new d.a,this._AuthApiModule_30=new g.a,this._AuthModule_31=new b.a,this._SpecializedApiModule_32=new v.a,this._ApiModule_33=new y.a,this._UtilsServicesModule_34=new m.a,this._ServicesModule_35=new P.a,this._StoreModule_36=new S.a,this._Dispatcher_37=new k.a,this.__INITIAL_REDUCER_38=ot.a,this._INITIAL_REDUCER_39=S.b(this.__INITIAL_REDUCER_38),this._Reducer_40=S.c(this._Dispatcher_37,this._INITIAL_REDUCER_39),this.__INITIAL_STATE_41=void 0,this._INITIAL_STATE_42=S.d(this.__INITIAL_STATE_41,this._INITIAL_REDUCER_39),this._State_43=S.e(this._INITIAL_STATE_42,this._Dispatcher_37,this._Reducer_40),this._Store_44=S.f(this._Dispatcher_37,this._Reducer_40,this._State_43),this._Actions_45=new I.a(this._Dispatcher_37),this._ParagraphParserService_46=new w.a,this._RestHttpConfig_47={baseUrl:"http://bounds-api.herokuapp.com"},this._BrowserXhr_48=new f.b,this._ResponseOptions_49=new f.c,this._XSRFStrategy_50=f.d(),this._XHRBackend_51=new f.e(this._BrowserXhr_48,this._ResponseOptions_49,this._XSRFStrategy_50),this._RequestOptions_52=new f.f,this._Http_53=f.g(this._XHRBackend_51,this._RequestOptions_52),this._RestHttp_54=new O.a(this._RestHttpConfig_47,this._Http_53),this._LocalStorageService_55=new R.a(this.parent.get(s.c)),this._AuthTokenService_56=new A.a(this._LocalStorageService_55),this._AuthTokenApi_57=new C.a(this._Http_53,this._RestHttpConfig_47,this._AuthTokenService_56),this._AuthService_58=new E.a(this._AuthTokenApi_57,this._AuthTokenService_56,this._Store_44),this._BooksApi_59=new x.a(this._ParagraphParserService_46,this._Store_44,this._RestHttp_54,this._AuthService_58,this._AuthTokenService_56),this._BookStorageService_60=new B.a(this._LocalStorageService_55),this._BookEffects_61=new T.a(this._Actions_45,this._BooksApi_59,this._BookStorageService_60,this._ParagraphParserService_46),this._BookmarksApi_62=new j.a(this._RestHttp_54,this._AuthService_58,this._AuthTokenService_56),this._BookPositionService_63=new M.a,this._BookPositionEffects_64=new N.a(this._Actions_45,this._BookmarksApi_62,this._BookPositionService_63,this._Store_44),this._UserEffects_65=new L.a(this._Actions_45,this._AuthService_58,this._Router_16),this._effects_66=[this._BookEffects_61,this._BookPositionEffects_64,this._UserEffects_65],this._EffectsSubscription_67=new D.a(this._Store_44,this.parent.get(D.a,null),this._effects_66),this._EffectsModule_68=new U.a(this._EffectsSubscription_67),this._AppModule_69=new i.a,this._AppModule_69},n.prototype.getInternal=function(t,n){return t===o.r?this._a_0:t===r.o?this._ErrorHandler_1:t===o.h?this._g_2:t===r.p?this._NgProbeToken_3:t===r.q?this._APP_INITIALIZER_4:t===r.h?this._ApplicationInitStatus_5:t===r.i?this._f_6:t===r.r?this._ApplicationRef_7:t===o.s?this._UrlSerializer_8:t===o.l?this._RouterOutletMap_9:t===o.t?this._ROUTER_CONFIGURATION_10:t===l.f?this._LocationStrategy_11:t===l.d?this._Location_12:t===r.k?this._Compiler_13:t===r.s?this._NgModuleFactoryLoader_14:t===o.u?this._ROUTES_15:t===o.g?this._Router_16:t===o.q?this._RouterModule_17:t===u.a?this._AppRoutingModule_18:t===l.e?this._CommonModule_19:t===r.n?this._ApplicationModule_20:t===s.p?this._BrowserModule_21:t===a.a?this._InteractionDirectivesModule_22:t===c.a?this._UiServicesModule_23:t===_.a?this._ComponentsModule_24:t===p.b?this._ba_25:t===p.c?this._FormsModule_26:t===h.a?this._ContainersModule_27:t===f.a?this._HttpModule_28:t===d.a?this._BrowserUtilsModule_29:t===g.a?this._AuthApiModule_30:t===b.a?this._AuthModule_31:t===v.a?this._SpecializedApiModule_32:t===y.a?this._ApiModule_33:t===m.a?this._UtilsServicesModule_34:t===P.a?this._ServicesModule_35:t===S.a?this._StoreModule_36:t===k.a?this._Dispatcher_37:t===S.g?this.__INITIAL_REDUCER_38:t===S.h?this._INITIAL_REDUCER_39:t===lt.a?this._Reducer_40:t===S.i?this.__INITIAL_STATE_41:t===S.j?this._INITIAL_STATE_42:t===ut.a?this._State_43:t===st.a?this._Store_44:t===I.a?this._Actions_45:t===w.a?this._ParagraphParserService_46:t===at.a?this._RestHttpConfig_47:t===f.b?this._BrowserXhr_48:t===f.h?this._ResponseOptions_49:t===f.i?this._XSRFStrategy_50:t===f.e?this._XHRBackend_51:t===f.j?this._RequestOptions_52:t===f.k?this._Http_53:t===O.a?this._RestHttp_54:t===R.a?this._LocalStorageService_55:t===A.a?this._AuthTokenService_56:t===C.a?this._AuthTokenApi_57:t===E.a?this._AuthService_58:t===x.a?this._BooksApi_59:t===B.a?this._BookStorageService_60:t===T.a?this._BookEffects_61:t===j.a?this._BookmarksApi_62:t===M.a?this._BookPositionService_63:t===N.a?this._BookPositionEffects_64:t===L.a?this._UserEffects_65:t===D.b?this._effects_66:t===D.a?this._EffectsSubscription_67:t===U.a?this._EffectsModule_68:t===i.a?this._AppModule_69:t===o.v?this._ActivatedRoute_70:t===o.b?this._NoPreloading_71:t===o.w?this._PreloadingStrategy_72:t===o.c?this._RouterPreloader_73:t===o.d?this._PreloadAllModules_74:t===o.x?this._ROUTER_INITIALIZER_75:t===r.t?this._APP_BOOTSTRAP_LISTENER_76:t===H.a?this._BookPositionResolver_77:t===F.a?this._BookResolver_78:t===r.u?this._LOCALE_ID_79:t===l.g?this._NgLocalization_80:t===r.v?this._APP_ID_81:t===r.w?this._IterableDiffers_82:t===r.x?this._KeyValueDiffers_83:t===s.q?this._DomSanitizer_84:t===r.y?this._Sanitizer_85:t===s.r?this._HAMMER_GESTURE_CONFIG_86:t===s.s?this._EVENT_MANAGER_PLUGINS_87:t===s.h?this._EventManager_88:t===s.i?this._DomSharedStylesHost_89:t===s.j?this._DomRendererFactory2_90:t===r.z?this._RendererFactory2_91:t===s.t?this._SharedStylesHost_92:t===r.f?this._Testability_93:t===s.k?this._Meta_94:t===s.l?this._Title_95:t===z.a?this._HeaderService_96:t===p.a?this._i_97:t===G.a?this._AuthorizedGuard_98:t===q.a?this._NotAuthorizedGuard_99:t===K.a?this._InfiniteScrollService_100:t===W.a?this._IntervalService_101:n},n.prototype.destroyInternal=function(){this._f_6.ngOnDestroy(),this._EffectsSubscription_67.ngOnDestroy(),this.__RouterPreloader_73&&this._RouterPreloader_73.ngOnDestroy(),this.__DomSharedStylesHost_89&&this._DomSharedStylesHost_89.ngOnDestroy()},n}(r.A),pt=new r.B(_t,i.a)},"lPo+":function(t,n,e){"use strict";function r(t){return l._24(0,[(t()(),l._25(0,null,null,2,"a",[["class","link heading caps small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;if("click"===n){r=!1!==l._29(t,1).onClick(e.button,e.ctrlKey,e.metaKey)&&r}return r},null,null)),l._27(335872,null,0,u.z,[u.g,u.v,s.f],{routerLink:[0,"routerLink"]},null),(t()(),l._26(null,["",""]))],function(t,n){t(n,1,0,n.component.link.url)},function(t,n){var e=n.component;t(n,0,0,l._29(n,1).target,l._29(n,1).href),t(n,2,0,e.link.text)})}function i(t){return l._24(0,[(t()(),l._25(0,null,null,19,"div",[["class","flex flex-column items-center"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t"])),(t()(),l._25(0,null,null,16,"div",[["class","header w-100 mw6 pt4 pb4 mb3 flex justify-between"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t\t"])),(t()(),l._25(0,null,null,7,"div",[],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t\t\t"])),(t()(),l._25(0,null,null,1,"div",[],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t\t\t\tBounds \n\t\t\t\t"])),(t()(),l._26(null,["\n\t\t\t\t"])),(t()(),l._25(0,null,null,1,"div",[["class","light"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t\t\t\ta speed reader\n\t\t\t\t"])),(t()(),l._26(null,["\n\t\t\t"])),(t()(),l._26(null,["\n\t\t\t"])),(t()(),l._25(0,null,null,4,"div",[["class","flex items-center"]],null,null,null,null,null)),(t()(),l._26(null,["\n\t\t\t\t"])),(t()(),l._30(8388608,null,null,1,null,r)),l._27(8192,null,0,s.l,[l._3,l._4],{ngIf:[0,"ngIf"]},null),(t()(),l._26(null,["\n\t\t\t"])),(t()(),l._26(null,["\n\t\t"])),(t()(),l._26(null,["\n\t"])),(t()(),l._26(null,["\n"]))],function(t,n){t(n,16,0,null!=n.component.link)},null)}function o(t){return l._24(0,[(t()(),l._25(0,null,null,1,"app-header",[],null,null,null,i,p)),l._27(57344,null,0,a.a,[c.a],null,null)],function(t,n){t(n,1,0)},null)}var l=e("3j3K"),u=e("5oXY"),s=e("2Je8"),a=e("/DgF"),c=e("zkbP");e.d(n,"b",function(){return p}),n.a=i;var _=[],p=l._23({encapsulation:2,styles:_,data:{}});l._28("app-header",a.a,o,{},{},[])},"lk+P":function(t,n,e){"use strict";var r=(e("k4+s"),e("/Ukj"),e("9sFL"));e.d(n,"a",function(){return r.a}),e.d(n,"b",function(){return r.b})},mYXE:function(t,n,e){"use strict";var r=(e("BlzQ"),e("Vd6R"));e.d(n,"AuthTokenApi",function(){return r.a});var i=e("NVNu");e.n(i)},megd:function(t,n,e){"use strict";var r=e("EPgz");e.d(n,"a",function(){return r.a})},nZlM:function(t,n){},njfE:function(t,n,e){"use strict";var r=e("5oXY"),i=e("98po"),o=e("Gvdl"),l=(e.n(o),e("McXY")),u=e("2pSd");e.d(n,"a",function(){return c});var s=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},a=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t,n,e){var r=this;this.actions$=t,this.authService=n,this.router=e,this.login$=this.actions$.ofType(u.a).switchMap(function(){return r.authService.verify().do(function(t){t.loggedIn&&r.router.navigateByUrl("books")}).map(function(t){return new u.b(t)})})}return t.ctorParameters=function(){return[{type:i.a},{type:l.a},{type:r.g}]},t}();s([e.i(i.b)(),a("design:type","function"==typeof(_=void 0!==o.Observable&&o.Observable)&&_||Object)],c.prototype,"login$",void 0);var _},nyuy:function(t,n,e){"use strict";var r=e("6koo");e.d(n,"a",function(){return i});var i=function(){function t(t,n,e){this.rest=t,this.authService=n,this.tokenService=e}return Object.defineProperty(t.prototype,"options",{get:function(){return this.tokenService.getOptions()},enumerable:!0,configurable:!0}),t.prototype.getById=function(t){var n=this;return this.rest.get([this.modelPath,t],void 0,this.options).map(function(t){return n.unwrapSingle(t)})},t.prototype.getByFilter=function(t){return this.rest.get(this.modelPath,t,this.options).map(function(t){return e.i(r.a)(t.data,t.totalRecords)})},t.prototype.unwrapSingle=function(t){if(null!=t)return Array.isArray(t.data)?t.data.length>0?t.data[0]:void 0:t},t}()},qOWT:function(t,n,e){"use strict";var r=e("Gvdl"),i=(e.n(r),e("lk+P"));e.d(n,"a",function(){return o});var o=function(){function t(t){this.booksApi=t}return t.prototype.resolve=function(t,n){var e=t.params.id;return"new"===e?r.Observable.of():null!=e&&isNaN(e)?r.Observable.throw(new Error("Invalid dataflow id")):this.booksApi.getById(Number(e))},t.ctorParameters=function(){return[{type:i.b}]},t}()},qsEO:function(t,n,e){"use strict";var r=e("WWmu"),i=e("2pSd"),o=e("mYXE"),l=e("BeuU");e.d(n,"a",function(){return u});var u=function(){function t(t,n,e){this.api=t,this.tokenService=n,this.store=e,this.initted=!1}return t.prototype.verify=function(){var t=this;return this.api.verify().do(function(n){t.store.dispatch(new i.b(n)),t.initted=!0})},t.prototype.login=function(t,n){var e=this;return this.api.get(t,n).map(function(t){return null==t||null==t.jwt?(e.logout(),!1):(e.tokenService.set(t.jwt),e.store.dispatch(new i.d),!0)})},t.prototype.logout=function(){this.tokenService.delete(),this.store.dispatch(new i.e)},t.ctorParameters=function(){return[{type:o.AuthTokenApi},{type:l.a},{type:r.a}]},t}()},rGEv:function(t,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"a",function(){return o}),e.d(n,"g",function(){return l}),e.d(n,"b",function(){return u}),e.d(n,"e",function(){return s}),e.d(n,"d",function(){return a}),e.d(n,"f",function(){return c});var r="[BOOK] Get All",i="[BOOK] Get By Id",o="[BOOK] Load",l="[BOOK] Store Locally",u="[BOOK] Unload",s="[BOOK] Write",a=(function(){function t(){this.type=r}}(),function(){function t(t){this.payload=t,this.type=i}}(),function(){function t(t){this.payload=t,this.type=o}return t}()),c=(function(){function t(t){this.payload=t,this.type=l}}(),function(){function t(){this.type=u}}(),function(){function t(t){this.payload=t,this.type=s}}(),function(){function t(){this.type=s}return t}())},tvlE:function(t,n,e){"use strict";var r=e("98po"),i=e("WWmu"),o=e("Gvdl"),l=(e.n(o),e("3pbj")),u=e("+jHA"),s=e("6W3o"),a=e("lk+P"),c=e("UGCa");e.d(n,"a",function(){return h});var _=this&&this.__decorate||function(t,n,e,r){var i,o=arguments.length,l=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,n,e,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(l=(o<3?i(l):o>3?i(n,e,l):i(n,e))||l);return o>3&&l&&Object.defineProperty(n,e,l),l},p=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},h=function(){function t(t,n,e,i){var u=this;this.actions$=t,this.bookmarksApi=n,this.bookPositionService=e,this.store=i,this.loadSavedPosition=this.actions$.ofType(c.a).map(r.c).switchMap(function(t){if(null==t)return o.Observable.empty();var n=u.actions$.ofType(c.a).skip(1);return u.bookmarksApi.getById(t).takeUntil(n).map(function(t){return new c.b({paragraphIdx:t.paragraphIdx,wordIdx:t.wordIdx})})}),this.book$=this.store.select(l.a),this.bookPosition$=this.store.select(l.b),this.step=this.getStepEffect(),this.save=this.getSaveEffect()}return t.prototype.getSaveEffect=function(){var t=this;return this.actions$.ofType(c.c).map(r.c).distinct(function(t){return t.paragraphIdx}).withLatestFrom(this.book$).flatMap(function(n){var e=n[0],r=n[1];return null==r||null==e.paragraphIdx||null==e.wordIdx?o.Observable.empty():t.bookmarksApi.create(new u.Bookmark(e.paragraphIdx,0,r.id))})},t.prototype.getStepEffect=function(){var t=this;return this.actions$.ofType(c.d).map(r.c).withLatestFrom(this.book$,this.bookPosition$).flatMap(function(n){var e=n[0],r=n[1],i=n[2];if(null==e||null==i||null==r)return o.Observable.empty();var l=t.bookPositionService.stepPosition(r,i,e);return o.Observable.of(new c.b(l))})},t.ctorParameters=function(){return[{type:r.a},{type:a.a},{type:s.a},{type:i.a}]},t}();_([e.i(r.b)(),p("design:type","function"==typeof(f=void 0!==o.Observable&&o.Observable)&&f||Object)],h.prototype,"save",void 0),_([e.i(r.b)(),p("design:type","function"==typeof(d=void 0!==o.Observable&&o.Observable)&&d||Object)],h.prototype,"step",void 0),_([e.i(r.b)(),p("design:type","function"==typeof(g=void 0!==o.Observable&&o.Observable)&&g||Object)],h.prototype,"loadSavedPosition",void 0);var f,d,g},uqwp:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:return Object.assign({},t,{positionData:n.payload});case i.b:return Object.assign({},t,{positionData:void 0});default:return t}}var i=e("kUXO");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.positionData}},uv4r:function(t,n,e){"use strict";var r=e("5oXY"),i=e("3pbj"),o=e("WWmu"),l=e("Gvdl"),u=(e.n(l),e("cyeq")),s=e("fwo/");e.d(n,"a",function(){return c});var a=this&&this.__assign||Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,n,e,r,o){var l=this;this.route=t,this.bookmarksApi=n,this.bookPositionService=e,this.intervalService=r,this.store=o,this.play$=this.store.select(i.c),this.store.select(i.d).subscribe(function(t){return l.wpm=t})}return t.prototype.onClick=function(){this.togglePlay()},t.prototype.ngOnInit=function(){this.getBookById(),this.initKeyBindings(),this.initPlaySubscription()},t.prototype.ngOnDestroy=function(){this.cancelIntervalSubscription(),this.cancelPlaySubscription()},t.prototype.togglePlay=function(){this.store.dispatch(new u.j)},t.prototype.stepBookPosition=function(t){void 0===t&&(t=1),this.bookPosition=this.bookPositionService.stepPosition(this.book,this.bookPosition,t),this.saveBookmark(),this.setContent()},t.prototype.saveBookmark=function(){0===this.bookPosition.wordIdx&&this.bookmarksApi.create(a({},this.bookPosition,{bookId:this.book.id})).subscribe(function(t){})},t.prototype.getBookById=function(){var t=this;this.route.data.subscribe(function(n){var e=n.book,r=n.bookPosition;t.book=e,t.bookPosition=r,t.setContent()})},t.prototype.setContent=function(){if(null==this.content)return void this.initContent();this.appendContent()},t.prototype.initContent=function(){var t=this.bookPosition.paragraphIdx-10>0?this.bookPosition.paragraphIdx-10:0;this.content=this.book.content.slice(t,this.bookPosition.paragraphIdx+100)},t.prototype.appendContent=function(){var t=this.content[this.content.length-1].id;if(this.bookPosition.paragraphIdx+20>this.content[this.content.length-1].id){var n=this.book.content.slice(t+1,t+101);this.content=this.content.concat(n)}},t.prototype.initKeyBindings=function(){var t=this;l.Observable.fromEvent(window.document,"keypress").subscribe(function(n){"Space"===n.code&&(n.preventDefault(),t.togglePlay())}),l.Observable.fromEvent(window.document,"keydown").subscribe(function(n){"ArrowLeft"===n.code&&t.stepBookPosition(-20)}),l.Observable.fromEvent(window.document,"keydown").subscribe(function(n){"ArrowRight"===n.code&&t.stepBookPosition(20)})},t.prototype.initPlaySubscription=function(){var t=this;this.cancelPlaySubscription(),this.playSubscription=this.play$.subscribe(function(n){if(n)return void t.startRsvInterval();t.cancelIntervalSubscription()})},t.prototype.cancelPlaySubscription=function(){null!=this.playSubscription&&(this.playSubscription.unsubscribe(),this.playSubscription=void 0)},t.prototype.startRsvInterval=function(){var t=this;this.cancelIntervalSubscription(),this.intervalSubscription=this.intervalService.getIntervalFromWpm(this.wpm).subscribe(function(){return t.stepBookPosition()})},t.prototype.cancelIntervalSubscription=function(){null!=this.intervalSubscription&&(this.intervalSubscription.unsubscribe(),this.intervalSubscription=void 0)},t.ctorParameters=function(){return[{type:r.v},{type:s.d},{type:s.e},{type:s.f},{type:o.a}]},t}()},wEKh:function(t,n,e){"use strict";var r=e("ChBP");e.d(n,"a",function(){return r.a})},x35b:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("3j3K"),i=e("kZql"),o=e("Qbdm"),l=e("kke6");i.a.production&&e.i(r.a)(),e.i(o.a)().bootstrapModuleFactory(l.a)},yG2t:function(t,n,e){"use strict";function r(t){return o._24(2,[(t()(),o._25(0,null,null,1,"span",[],null,null,null,null,null)),(t()(),o._26(null,["",""]))],null,function(t,n){t(n,1,0,n.component.word+" ")})}function i(t){return o._24(0,[(t()(),o._25(0,null,null,1,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,r,s)),o._27(24576,null,0,l.a,[],null,null)],null,function(t,n){t(n,0,0,o._29(n,1).hostClass,o._29(n,1).selected)})}var o=e("3j3K"),l=e("EPgz");e.d(n,"b",function(){return s}),n.a=r;var u=[],s=o._23({encapsulation:2,styles:u,data:{}});o._28("app-scanner-word",l.a,i,{word:"word",selected:"selected"},{},[])},yw3Q:function(t,n,e){"use strict";var r=e("McXY"),i=e("BeuU"),o=e("7UBP"),l=e("Jlqr"),u=e("6W3o"),s=e("WWmu");e.d(n,"a",function(){return c});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),c=function(t){function n(n,e,r,i,o){var l=t.call(this,r,i,o)||this;return l.paragraphParserService=n,l.store=e,l.modelPath="books",l}return a(n,t),n.prototype.getById=function(n){var e=this;return t.prototype.getById.call(this,n).map(function(t){return e.fromJson(t,n)})},n.prototype.createFromJsonBook=function(t){return this.rest.post(this.modelPath,t,void 0,this.options).map(function(t){return t})},n.prototype.fromJson=function(t,n){var e=this.paragraphParserService.parse(t.body?t.body:t),r=e.reduce(function(t,n){return t+=n.length},0);return{id:n,title:t.title,author:t.author,content:e,length:r}},n.ctorParameters=function(){return[{type:u.b},{type:s.a},{type:l.a},{type:r.a},{type:i.a}]},n}(o.a)},zeFx:function(t,n,e){"use strict";function r(t,n){switch(void 0===t&&(t=o),n.type){case i.a:return Object.assign({},t,{book:n.payload});case i.b:return Object.assign({},t,{book:void 0});default:return t}}var i=e("rGEv");n.a=r,e.d(n,"b",function(){return l});var o={},l=function(t){return t.book}},zkbP:function(t,n,e){"use strict";var r=e("Gvdl");e.n(r);e.d(n,"a",function(){return i});var i=function(){function t(){this.defaultLink=void 0,this.link=new r.BehaviorSubject(this.defaultLink)}return t.prototype.setLink=function(t){this.link.next(t)},t}()},zqRp:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t}()}},[2]);