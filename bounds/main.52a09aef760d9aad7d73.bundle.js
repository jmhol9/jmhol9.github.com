webpackJsonp([1,4],{"+Do2":function(n,t,e){"use strict";var r=e("lk+P"),o=e("i2LP");e.d(t,"a",function(){return i});var i=function(){function n(n,t){this.api=n,this.headerService=t,this.book={title:"",author:"",body:""}}return n.prototype.handleEnter=function(n){"Enter"===n.key&&(n.preventDefault(),this.submit())},n.prototype.ngOnInit=function(){this.setHeaderLink()},n.prototype.submit=function(){this.api.createFromJsonBook(this.book).subscribe(function(n){n||console.log("login failed")},function(){console.log("login failed")})},n.prototype.setHeaderLink=function(){this.headerService.link.next({url:"/books",text:"All Books"})},n.ctorParameters=function(){return[{type:r.b},{type:o.a}]},n}()},"+jHA":function(n,t,e){"use strict";var r=e("nZlM");e.n(r);e.o(r,"Bookmark")&&e.d(t,"Bookmark",function(){return r.Bookmark}),e.o(r,"Paragraph")&&e.d(t,"Paragraph",function(){return r.Paragraph});var o=e("RYfX");e.d(t,"Bookmark",function(){return o.a});var i=e("aEq8");e.n(i);e.o(i,"Paragraph")&&e.d(t,"Paragraph",function(){return i.Paragraph});var l=e("8kw/");e.d(t,"Paragraph",function(){return l.a});var u=e("Pm2l");e.n(u)},"/DgF":function(n,t,e){"use strict";var r=e("i2LP");e.d(t,"a",function(){return o});var o=function(){function n(n){this.headerService=n}return n.prototype.ngOnInit=function(){var n=this;this.headerService.link.subscribe(function(t){return n.link=t})},n.ctorParameters=function(){return[{type:r.a}]},n}()},"/Ukj":function(n,t,e){"use strict";e("nyuy"),e("6koo"),e("PZt1"),e("Jlqr"),e("7UBP")},"/fcW":function(n,t){function e(n){throw new Error("Cannot find module '"+n+"'.")}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="/fcW"},"1A80":function(n,t,e){"use strict";function r(n){return i._26(0,[(n()(),i._27(0,null,null,7,"div",[["class","w-100 mw6"]],null,null,null,null,null)),(n()(),i._28(null,["\n\t"])),(n()(),i._27(0,null,null,1,"app-header",[],null,null,null,l.a,l.b)),i._29(114688,null,0,u.a,[a.a],null,null),(n()(),i._28(null,["\n\t"])),(n()(),i._27(16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i._29(212992,null,0,c.y,[c.q,i._6,i.e,[8,null],i._14],null,null),(n()(),i._28(null,["\n"])),(n()(),i._28(null,["\n\n"]))],function(n,t){n(t,3,0),n(t,6,0)},null)}function o(n){return i._26(0,[(n()(),i._27(0,null,null,1,"app-root",[],null,null,null,r,d)),i._29(49152,null,0,s.a,[],null,null)],null,null)}var i=e("3j3K"),l=e("lPo+"),u=e("/DgF"),a=e("zkbP"),c=e("5oXY"),s=e("YWx4");e.d(t,"a",function(){return f});var p=[],d=i._25({encapsulation:2,styles:p,data:{}}),f=i._30("app-root",s.a,o,{},{},[])},"1mcY":function(n,t,e){"use strict";function r(n,t){switch(void 0===n&&(n=l),t.type){case o.c:return Object.assign({},n,i({},t.payload));default:return n}}var o=e("2pSd");t.a=r,e.d(t,"b",function(){return u}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return c}),e.d(t,"e",function(){return s});var i=this&&this.__assign||Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},l={loggedIn:!1},u=function(n){return n.loggedIn},a=function(n){return n.id},c=function(n){return n.email},s=function(n){return n.name}},2:function(n,t,e){n.exports=e("x35b")},"2pSd":function(n,t,e){"use strict";e.d(t,"c",function(){return r}),e.d(t,"a",function(){return o}),e.d(t,"b",function(){return l}),e.d(t,"d",function(){return u}),e.d(t,"e",function(){return a});var r="[USER] Set",o="[USER] Login",i="[USER] Logout",l=function(){function n(n){this.payload=n,this.type=r}return n}(),u=function(){function n(){this.type=o}return n}(),a=function(){function n(){this.type=i}return n}()},"2zeU":function(n,t,e){"use strict";var r=e("+jHA");e.d(t,"a",function(){return o});var o=function(){function n(){}return n.prototype.parse=function(n){var t=this,e=0;return this.splitRawParagaphs(n).map(function(n,r){var o=t.parseSingleParagraph(n,e,r);return e+=o.length,o})},n.prototype.splitRawParagaphs=function(n){return n.split(/\n{2,}|\r\n\r{1,}|\n\r\n{1,}/).filter(function(n){return null!=n&&""!==n&&n.length>0&&!n.match(/^\s*$/)})},n.prototype.parseSingleParagraph=function(n,t,e){return new r.Paragraph(n,t,e)},n}()},"37y8":function(n,t,e){"use strict";var r=e("+jHA"),o=e("McXY"),i=e("BeuU"),l=e("Jlqr"),u=e("7UBP");e.d(t,"a",function(){return c});var a=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),c=function(n){function t(t,e,r){var o=n.call(this,t,e,r)||this;return o.modelPath="bookmarks",o}return a(t,n),t.prototype.getById=function(t){return n.prototype.getById.call(this,t).map(function(n){return null==n?new r.Bookmark(0,0):new r.Bookmark(n.paragraphIdx,n.wordIdx,n.id)})},t.ctorParameters=function(){return[{type:l.a},{type:o.a},{type:i.b}]},t}(u.a)},"3J2k":function(n,t,e){"use strict";var r=e("uv4r");e.d(t,"a",function(){return r.a})},"3imX":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n.prototype.stepPosition=function(n,t,e){void 0===e&&(e=1);var r=n.content[t.paragraphIdx],o=r.firstIndex+t.wordIdx,i=o+e;if(!this.isValidIncrement(n,i))throw new Error("Bad Increment: Outside book bounds!");if(this.idxWithinParagraph(r,i))return this.getPosition(t.paragraphIdx,t.wordIdx+e);var l,u,a;return i>r.lastIndex?(l=n.content.slice(t.paragraphIdx+1),u=this.findParagraphIdxByInnerIdx(i,l),a=t.paragraphIdx+u+1):(l=n.content.slice(0,t.paragraphIdx),u=l.length-this.findParagraphIdxByInnerIdx(i,l)-1,a=t.paragraphIdx-u-1),this.getPosition(a,i-n.content[a].firstIndex)},n.prototype.getCurrentPhrase=function(n,t,e){void 0===e&&(e=1);var r=n.content[t.paragraphIdx];if(null==r)return n.content[0].text.slice(0,e).join(" ");var o=r.text.slice(t.wordIdx,t.wordIdx+e);return o.length>=e?o.join(" "):o.concat(n.content[t.paragraphIdx+1].text.slice(0,e-o.length)).join(" ")},n.prototype.getNewPosition=function(){return this.getPosition(0,0)},n.prototype.getPosition=function(n,t){return{paragraphIdx:n,wordIdx:t}},n.prototype.getPartialText=function(n,t){if(null==n||null==t)return[];var e=t.paragraphIdx-10>=0?t.paragraphIdx-10:0;return n.content.slice(e,e+50)},n.prototype.isValidIncrement=function(n,t){return t>=0&&t<=n.content[n.content.length-1].lastIndex},n.prototype.findParagraphIdxByInnerIdx=function(n,t){var e=this,r=t.findIndex(function(t){return e.idxWithinParagraph(t,n)});if(null==r)throw new Error("no paragraph contains that index");return r},n.prototype.binarySearchParagraph=function(n,t){if(null==t||0===t.length)throw new Error("Bad Paragraph Search: bad paragraph range given");var e=t.length/2,r=t[e],o=this.idxWithinParagraph(r,n);if(!o&&1===t.length)throw new Error("Bad Search: target not in range");return o?r:n>r.lastIndex?this.binarySearchParagraph(n,t.slice(e+1)):n<r.lastIndex?this.binarySearchParagraph(n,t.slice(0,e)):void 0},n.prototype.idxWithinParagraph=function(n,t){return t>=n.firstIndex&&t<=n.lastIndex},n}()},"3pbj":function(n,t,e){"use strict";var r=e("juMz");e.d(t,"a",function(){return r.b}),e.d(t,"b",function(){return r.c}),e.d(t,"c",function(){return r.d}),e.d(t,"d",function(){return r.e}),e.d(t,"e",function(){return r.f})},"4Xti":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},"4nEc":function(n,t,e){"use strict";var r=e("i2LP");e.d(t,"a",function(){return o});var o=function(){function n(n){this.headerService=n}return n.prototype.ngOnInit=function(){this.headerService.setLink({url:"/login",text:"Sign In"})},n.ctorParameters=function(){return[{type:r.a}]},n}()},"6W3o":function(n,t,e){"use strict";var r=e("3imX");e.d(t,"a",function(){return r.a});var o=(e("GQfQ"),e("GjlP"));e.d(t,"c",function(){return o.a});var i=e("2zeU");e.d(t,"b",function(){return i.a});e("i2b/")},"6koo":function(n,t,e){"use strict";function r(n,t){return void 0===t&&(t=n.length),Object.assign(n,{totalRecords:t})}t.a=r},"709r":function(n,t,e){"use strict";function r(n){return i._26(0,[(n()(),i._27(0,null,null,1,"div",[["class","f3 b"]],null,null,null,null,null)),(n()(),i._28(null,["New Book"])),(n()(),i._28(null,["\n"])),(n()(),i._27(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),i._28(null,["\n\t"])),(n()(),i._27(0,null,null,5,"input",[["placeholder","title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0,o=n.component;if("input"===t){r=!1!==i._31(n,6)._handleInput(e.target.value)&&r}if("blur"===t){r=!1!==i._31(n,6).onTouched()&&r}if("compositionstart"===t){r=!1!==i._31(n,6)._compositionStart()&&r}if("compositionend"===t){r=!1!==i._31(n,6)._compositionEnd(e.target.value)&&r}if("ngModelChange"===t){r=!1!==(o.book.title=e)&&r}return r},null,null)),i._29(16384,null,0,u.d,[i._16,i._3,[2,u.e]],null,null),i._33(1024,null,u.f,function(n){return[n]},[u.d]),i._29(671744,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),i._33(2048,null,u.h,null,[u.g]),i._29(16384,null,0,u.i,[u.h],null,null),(n()(),i._28(null,["\n"])),(n()(),i._28(null,["\n"])),(n()(),i._27(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),i._28(null,["\n\t"])),(n()(),i._27(0,null,null,5,"input",[["placeholder","author"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0,o=n.component;if("input"===t){r=!1!==i._31(n,16)._handleInput(e.target.value)&&r}if("blur"===t){r=!1!==i._31(n,16).onTouched()&&r}if("compositionstart"===t){r=!1!==i._31(n,16)._compositionStart()&&r}if("compositionend"===t){r=!1!==i._31(n,16)._compositionEnd(e.target.value)&&r}if("ngModelChange"===t){r=!1!==(o.book.author=e)&&r}return r},null,null)),i._29(16384,null,0,u.d,[i._16,i._3,[2,u.e]],null,null),i._33(1024,null,u.f,function(n){return[n]},[u.d]),i._29(671744,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),i._33(2048,null,u.h,null,[u.g]),i._29(16384,null,0,u.i,[u.h],null,null),(n()(),i._28(null,["\n"])),(n()(),i._28(null,["\n"])),(n()(),i._27(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),i._28(null,["\n\t"])),(n()(),i._27(0,null,null,5,"textarea",[["cols","30"],["rows","10"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0,o=n.component;if("input"===t){r=!1!==i._31(n,26)._handleInput(e.target.value)&&r}if("blur"===t){r=!1!==i._31(n,26).onTouched()&&r}if("compositionstart"===t){r=!1!==i._31(n,26)._compositionStart()&&r}if("compositionend"===t){r=!1!==i._31(n,26)._compositionEnd(e.target.value)&&r}if("ngModelChange"===t){r=!1!==(o.book.body=e)&&r}return r},null,null)),i._29(16384,null,0,u.d,[i._16,i._3,[2,u.e]],null,null),i._33(1024,null,u.f,function(n){return[n]},[u.d]),i._29(671744,null,0,u.g,[[8,null],[8,null],[8,null],[2,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),i._33(2048,null,u.h,null,[u.g]),i._29(16384,null,0,u.i,[u.h],null,null),(n()(),i._28(null,["\n"])),(n()(),i._28(null,["\n"])),(n()(),i._27(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),i._28(null,["\n\t"])),(n()(),i._27(0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.submit()&&r}return r},null,null)),(n()(),i._28(null,["Create!"])),(n()(),i._28(null,["\n"])),(n()(),i._28(null,["\n"]))],function(n,t){var e=t.component;n(t,8,0,e.book.title),n(t,18,0,e.book.author),n(t,28,0,e.book.body)},function(n,t){n(t,5,0,i._31(t,10).ngClassUntouched,i._31(t,10).ngClassTouched,i._31(t,10).ngClassPristine,i._31(t,10).ngClassDirty,i._31(t,10).ngClassValid,i._31(t,10).ngClassInvalid,i._31(t,10).ngClassPending),n(t,15,0,i._31(t,20).ngClassUntouched,i._31(t,20).ngClassTouched,i._31(t,20).ngClassPristine,i._31(t,20).ngClassDirty,i._31(t,20).ngClassValid,i._31(t,20).ngClassInvalid,i._31(t,20).ngClassPending),n(t,25,0,i._31(t,30).ngClassUntouched,i._31(t,30).ngClassTouched,i._31(t,30).ngClassPristine,i._31(t,30).ngClassDirty,i._31(t,30).ngClassValid,i._31(t,30).ngClassInvalid,i._31(t,30).ngClassPending)})}function o(n){return i._26(0,[(n()(),i._27(0,null,null,1,"ng-component",[],null,[["document","keydown"]],function(n,t,e){var r=!0;if("document:keydown"===t){r=!1!==i._31(n,1).handleEnter(e)&&r}return r},r,p)),i._29(114688,null,0,l.a,[a.a,c.a],null,null)],function(n,t){n(t,1,0)},null)}var i=e("3j3K"),l=e("+Do2"),u=e("NVOs"),a=e("yw3Q"),c=e("zkbP");e.d(t,"a",function(){return d});var s=[],p=i._25({encapsulation:2,styles:s,data:{}}),d=i._30("ng-component",l.a,o,{},{},[])},"7UBP":function(n,t,e){"use strict";var r=e("nyuy");e.d(t,"a",function(){return i});var o=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),i=function(n){function t(t,e,r){var o=n.call(this,t,e,r)||this;return o.rest=t,o}return o(t,n),t.prototype.create=function(n){return this.rest.post(this.modelPath,n,void 0,this.options).map(function(n){return n})},t.prototype.update=function(n){if(null==n.id)throw new Error("Missing id on model, cannot make an update request");return this.rest.put([this.modelPath,n.id],n,void 0,this.options).map(function(n){return n})},t}(r.a)},"7grU":function(n,t,e){"use strict";var r=e("3J2k"),o=e("NqZ3"),i=e("Caeh"),l=e("CXAF"),u=e("Md7J");e.d(t,"a",function(){return a});var a=(o.a,r.a,i.a,l.a,u.a,function(){function n(){}return n}())},"8kw/":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(n,t,e){this.firstIndex=t,this.text=n.split(/\s{1,}/).filter(function(n){return null!=n&&""!==n&&n.length>0&&!n.match(/^\s*$/)}),this.lastIndex=this.firstIndex+this.text.length-1,this.id=null!=e?e:void 0}return Object.defineProperty(n.prototype,"length",{get:function(){return this.text.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textString",{get:function(){return this.text.join(" ")},enumerable:!0,configurable:!0}),n}()},"9EeC":function(n,t,e){"use strict";function r(n){return a._26(0,[(n()(),a._27(0,null,null,1,"div",[],null,null,null,null,null)),(n()(),a._28(null,["\n\tno books smh\n"]))],null,null)}function o(n){return a._26(0,[(n()(),a._27(0,null,null,9,"p",[],null,null,null,null,null)),(n()(),a._28(null,["\n\t\t"])),(n()(),a._27(0,null,null,3,"a",[["class","bold caps"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var r=!0;if("click"===t){r=!1!==a._31(n,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r}return r},null,null)),a._29(671744,null,0,c.z,[c.c,c.a,s.d],{routerLink:[0,"routerLink"]},null),a._34(2),(n()(),a._28(null,["\n\t\t\t","\n\t\t"])),(n()(),a._28(null,["\n\t\t"])),(n()(),a._27(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),a._28(null,[" ",""])),(n()(),a._28(null,["\n\t"]))],function(n,t){n(t,3,0,n(t,4,0,"/books",t.context.$implicit.id))},function(n,t){n(t,2,0,a._31(t,3).target,a._31(t,3).href),n(t,5,0,t.context.$implicit.title),n(t,8,0,t.context.$implicit.author)})}function i(n){return a._26(0,[(n()(),a._27(0,null,null,4,"div",[],null,null,null,null,null)),(n()(),a._28(null,["\n\t"])),(n()(),a._32(16777216,null,null,1,null,o)),a._29(802816,null,0,s.o,[a._6,a._7,a.o],{ngForOf:[0,"ngForOf"]},null),(n()(),a._28(null,["\n"]))],function(n,t){n(t,3,0,t.component.books)},null)}function l(n){return a._26(0,[(n()(),a._27(0,null,null,43,"div",[["class","flex pt1 pb1"]],null,null,null,null,null)),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(430)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t430 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(450)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t450 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(470)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t470 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(500)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t500 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(520)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t520 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(540)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t540 wpm"])),(n()(),a._28(null,["\n\t"])),(n()(),a._27(0,null,null,4,"div",[["class","pt2 pb2 bt br bb"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.setWpm(560)&&r}return r},null,null)),a._29(278528,null,0,s.p,[a.o,a.q,a._3,a._4],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),a._35(131072,s.q,[a._14]),a._36({red:0}),(n()(),a._28(null,["\n\t\t560 wpm"])),(n()(),a._28(null,["\n"])),(n()(),a._28(null,["\n"])),(n()(),a._32(16777216,null,null,1,null,r)),a._29(16384,null,0,s.n,[a._6,a._7],{ngIf:[0,"ngIf"]},null),(n()(),a._28(null,["\n"])),(n()(),a._32(16777216,null,null,1,null,i)),a._29(16384,null,0,s.n,[a._6,a._7],{ngIf:[0,"ngIf"]},null),(n()(),a._28(null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,"pt2 pb2 bt br bb",n(t,5,0,430===a._37(t,3,1,a._31(t,4).transform(e.wpm$)))),n(t,9,0,"pt2 pb2 bt br bb",n(t,11,0,450===a._37(t,9,1,a._31(t,10).transform(e.wpm$)))),n(t,15,0,"pt2 pb2 bt br bb",n(t,17,0,470===a._37(t,15,1,a._31(t,16).transform(e.wpm$)))),n(t,21,0,"pt2 pb2 bt br bb",n(t,23,0,500===a._37(t,21,1,a._31(t,22).transform(e.wpm$)))),n(t,27,0,"pt2 pb2 bt br bb",n(t,29,0,520===a._37(t,27,1,a._31(t,28).transform(e.wpm$)))),n(t,33,0,"pt2 pb2 bt br bb",n(t,35,0,540===a._37(t,33,1,a._31(t,34).transform(e.wpm$)))),n(t,39,0,"pt2 pb2 bt br bb",n(t,41,0,560===a._37(t,39,1,a._31(t,40).transform(e.wpm$)))),n(t,46,0,e.noBooks),n(t,49,0,!e.noBooks)},null)}function u(n){return a._26(0,[(n()(),a._27(0,null,null,1,"app-book-list",[],null,null,null,l,v)),a._29(245760,null,0,p.a,[d.a,f.a,h.a],null,null)],function(n,t){n(t,1,0)},null)}var a=e("3j3K"),c=e("5oXY"),s=e("2Je8"),p=e("HKeY"),d=e("yw3Q"),f=e("Zcpd"),h=e("zkbP");e.d(t,"a",function(){return b});var g=[],v=a._25({encapsulation:2,styles:g,data:{}}),b=a._30("app-book-list",p.a,u,{},{},[])},"9Tle":function(n,t,e){"use strict";var r=e("98po"),o=e("Gvdl"),i=(e.n(o),e("fwo/")),l=e("rGEv");e.d(t,"a",function(){return c});var u=this&&this.__decorate||function(n,t,e,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(l=(i<3?o(l):i>3?o(t,e,l):o(t,e))||l);return i>3&&l&&Object.defineProperty(t,e,l),l},a=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},c=function(){function n(n,t,e,i){var u=this;this.actions$=n,this.booksApi=t,this.bookStorage=e,this.paragraphParserService=i,this.getById$=this.actions$.ofType(l.c).map(r.c).switchMap(function(n){if(null==n)return o.Observable.empty();if(u.bookStorage.isStored(n)){var t=u.bookStorage.getById(n);return o.Observable.of(new l.d(u.fromJson(t)))}var e=u.actions$.ofType(l.c).skip(1);return u.booksApi.getById(n).takeUntil(e).map(function(n){return new l.d(n)})}),this.write$=this.actions$.ofType(l.e).map(r.c).switchMap(function(n){if(null==n)return o.Observable.empty();var t=u.actions$.ofType(l.e).skip(1);return u.booksApi.createFromJsonBook(n).takeUntil(t).map(function(){return new l.f})}),this.storeLocally$=this.actions$.ofType(l.g).map(r.c).do(function(n){return u.bookStorage.set(n.json),o.Observable.empty()})}return n.prototype.fromJson=function(n){var t=this.paragraphParserService.parse(n.body),e=t.reduce(function(n,t){return n+=t.length},0);return{id:n.id,title:n.title,author:n.author,content:t,length:e}},n.ctorParameters=function(){return[{type:r.a},{type:i.a},{type:i.b},{type:i.c}]},n}();u([e.i(r.b)(),a("design:type","function"==typeof(s=void 0!==o.Observable&&o.Observable)&&s||Object)],c.prototype,"getById$",void 0),u([e.i(r.b)(),a("design:type","function"==typeof(p=void 0!==o.Observable&&o.Observable)&&p||Object)],c.prototype,"write$",void 0),u([e.i(r.b)(),a("design:type","function"==typeof(d=void 0!==o.Observable&&o.Observable)&&d||Object)],c.prototype,"storeLocally$",void 0);var s,p,d},"9pxV":function(n,t,e){"use strict";var r=e("ELit");e.d(t,"a",function(){return l});var o="book-id-",i="stored-book-ids",l=function(){function n(n){this.localStorage=n}return n.prototype.getById=function(n){var t=this.localStorage.get(""+(o+String(n)));if(null!=t)return JSON.parse(t)},n.prototype.isStored=function(n){return this.getStoredIds().includes(Number(n))},n.prototype.set=function(n){null==this.getById(n.id)&&(this.localStorage.set(""+(o+String(n.id)),JSON.stringify(n)),this.addStoredId(n.id))},n.prototype.clear=function(){this.localStorage.clear()},n.prototype.getStoredIds=function(){var n=this.localStorage.get(i);return null==n?(this.localStorage.set(i,JSON.stringify([])),[]):JSON.parse(n).map(Number)},n.prototype.addStoredId=function(n){n=Number(n);var t=this.getStoredIds();t.includes(n)||(t.push(n),this.localStorage.set(i,JSON.stringify(t)))},n.ctorParameters=function(){return[{type:r.a}]},n}()},"9sFL":function(n,t,e){"use strict";var r=e("37y8");e.d(t,"a",function(){return r.a});var o=e("yw3Q");e.d(t,"b",function(){return o.a});e("ea/y")},AK3k:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},BeuU:function(n,t,e){"use strict";var r=(e("AK3k"),e("ELit"),e("CLgq"));e.d(t,"b",function(){return r.a});var o=e("9pxV");e.d(t,"a",function(){return o.a})},BlzQ:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},CI7P:function(n,t,e){"use strict";var r=e("McXY"),o=e("i2LP");e.d(t,"a",function(){return i});var i=function(){function n(n,t){this.authService=n,this.headerService=t,this.email="",this.password="",this.loginError=!1}return n.prototype.handleEnter=function(n){"Enter"===n.key&&(n.preventDefault(),this.submit())},n.prototype.ngOnInit=function(){this.headerService.setLink({url:"/",text:"Home"})},n.prototype.submit=function(){var n=this;this.authService.login(this.email,this.password).subscribe(function(t){t||(n.loginError=!1)},function(){n.loginError=!0,setTimeout(function(){return n.loginError=!1},1e3)})},n.ctorParameters=function(){return[{type:r.a},{type:o.a}]},n}()},CLgq:function(n,t,e){"use strict";var r=e("Fzro"),o=e("ELit");e.d(t,"a",function(){return l});var i="authToken",l=function(){function n(n){this.localStorage=n}return n.prototype.set=function(n){this.localStorage.set(i,n)},n.prototype.delete=function(){this.localStorage.remove(i)},n.prototype.get=function(){return this.localStorage.get(i)},n.prototype.getOptions=function(){var n=new r.l;return n.append("Authorization",this.getHeaderString()),{headers:n}},n.prototype.getHeaderString=function(){return"Bearer "+this.get()},n.ctorParameters=function(){return[{type:o.a}]},n}()},CXAF:function(n,t,e){"use strict";var r=e("CI7P");e.d(t,"a",function(){return r.a})},Caeh:function(n,t,e){"use strict";var r=e("4nEc");e.d(t,"a",function(){return r.a})},Cd9f:function(n,t,e){"use strict";var r=e("McXY"),o=e("GvKf"),i=e("agbq");e.d(t,"a",function(){return l});var l=(i.a,i.b,o.a,o.b,i.c,r.b,r.b,i.d,r.c,i.e,r.c,function(){function n(){}return n}())},ChBP:function(n,t,e){"use strict";var r=e("3j3K"),o=e("3pbj"),i=e("WWmu"),l=e("cyeq");e.d(t,"a",function(){return u});var u=function(){function n(n,t){var e=this;this.elementRef=n,this.store=t,this.hostClass=!0,this.documentElement=document.documentElement,this.documentBody=document.body,this.hasScrolled=!1,this.store.select(o.c).subscribe(function(n){return e.playing=n})}return Object.defineProperty(n.prototype,"selected",{get:function(){return this._selected},set:function(n){n!==this._selected&&(n&&(this.hasScrolled=!1,this.scrollIntoView()),this._selected=n)},enumerable:!0,configurable:!0}),n.prototype.scrollIntoView=function(){var n=this.elementRef.nativeElement,t=n.offsetTop+n.getBoundingClientRect().height-(window.scrollY+window.innerHeight),e=window.scrollY-n.offsetTop,r=this.playing;if(t>0||e>0)return this.store.dispatch(new l.g),void this.smoothScroll(e,r)},n.prototype.smoothScroll=function(n,t){var e=this;if(!this.hasScrolled){if(this.documentElement.scrollTop-=.1*n,this.documentBody.scrollTop-=.1*n,Math.abs(n)<5)return this.hasScrolled=!0,t?this.store.dispatch(new l.h):void 0;requestAnimationFrame(function(){return e.smoothScroll(.9*n,t)})}},n.ctorParameters=function(){return[{type:r._3},{type:i.a}]},n}()},ELit:function(n,t,e){"use strict";var r=e("3j3K"),o=e("Qbdm");e.d(t,"a",function(){return i});var i=function(){function n(n){this.localStorage=n.defaultView.localStorage}return n.prototype.get=function(n){return this.localStorage.getItem(n)},n.prototype.set=function(n,t){this.localStorage.setItem(n,t)},n.prototype.remove=function(n){this.localStorage.removeItem(n)},n.prototype.clear=function(){this.localStorage.clear()},n.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.J,args:[o.t]}]}]},n}()},EPgz:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){this.hostClass=!0,this.selected=!1}return n}()},ESAz:function(n,t,e){"use strict";function r(n){return i._26(0,[(n()(),i._27(0,null,null,1,"div",[["class","paragraph"]],null,null,null,null,null)),(n()(),i._28(null,["\n\tProper explanation here. Make it speed-readable.\n"])),(n()(),i._28(null,["\n"]))],null,null)}function o(n){return i._26(0,[(n()(),i._27(0,null,null,1,"app-homepage",[],null,null,null,r,c)),i._29(114688,null,0,l.a,[u.a],null,null)],function(n,t){n(t,1,0)},null)}var i=e("3j3K"),l=e("4nEc"),u=e("zkbP");e.d(t,"a",function(){return s});var a=[],c=i._25({encapsulation:2,styles:a,data:{}}),s=i._30("app-homepage",l.a,o,{},{},[])},FUK6:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},GQfQ:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var r=5e3,o=5,i=function(n,t){return Math.abs(n-t)<=o},l=function(){function n(){}return n.prototype.getChildPositionData=function(n){var t=window.document.createElement("div");window.document.body.appendChild(t);var e=0,r=Object.keys(n).reduce(function(r,o){var i=n[o];t.appendChild(i);var l=i.scrollHeight;return e+=l,r[o]={element:i,height:l,previousSiblingsHeight:e},r},{});return t.remove(),r},n.prototype.updatePreviouSiblingHeights=function(n){var t=0;return Object.keys(n).sort(function(n,t){return Number(n)-Number(t)}).reduce(function(e,r){return e[r]=Object.assign({},n[r],{previousSiblingsHeight:t}),t+=n[r].height,e},{})},n.prototype.fillContainer=function(n,t,e,r,o){void 0===r&&(r=0),void 0===o&&(o=0),this.emptyContainer(n);var i=this.getChildByIdx(e,r);n.appendChild(i);for(var l=r;null!=e[l-1]&&l>=r-10;)l--,n.insertBefore(this.getChildByIdx(e,l),this.getChildByIdx(e,l+1));for(var u=r;null!=e[u+1]&&u<=r+10;)u++,n.appendChild(this.getChildByIdx(e,u));var a=window.document.createElement("div");a.style.height=e[l].previousSiblingsHeight+"px",a.id="topPaddingDiv",n.insertBefore(a,this.getChildByIdx(e,l));var c=window.document.createElement("div"),s=this.getPaddingAfterChild(e,u);return c.id="bottomPaddingDiv",c.style.height=s+"px",n.appendChild(c),t.scrollTop=i.offsetTop-o,{firstChildIdx:l,lastChildIdx:u}},n.prototype.updateContainerBuffers=function(n,t,e,o,l){void 0===o&&(o=0);for(var u=t.getBoundingClientRect(),a=u.top,c=u.bottom,s=this.updateBounds(l,0,0);i(l.firstChildIdx,s.firstChildIdx)&&this.getChildByIdx(e,s.firstChildIdx).getBoundingClientRect().bottom<-1*r;)console.log("trimming top"),s=this.removeFirstChild(e,s),this.updatePaddingDivs(e,s);for(;i(l.lastChildIdx,s.lastChildIdx)&&n.lastElementChild.getBoundingClientRect().top>c+r;)console.log("trimming bottom"),s=this.removeLastChild(e,s),this.updatePaddingDivs(e,s);for(;null!=e[s.firstChildIdx-1]&&s.firstChildIdx>0&&this.getChildByIdx(e,s.firstChildIdx).getBoundingClientRect().top>a-r;)console.log("padding top"),n.insertBefore(this.getChildByIdx(e,s.firstChildIdx-1),this.getChildByIdx(e,s.firstChildIdx)),s=this.updateBounds(s,-1,0),this.updatePaddingDivs(e,s);for(;null!=e[s.lastChildIdx+1]&&s.lastChildIdx<Object.keys(e).length-1&&this.getChildByIdx(e,s.lastChildIdx).getBoundingClientRect().bottom<c+r;)console.log("padding bottom"),n.insertBefore(this.getChildByIdx(e,[s.lastChildIdx+1]),window.document.querySelector("#bottomPaddingDiv")),s=this.updateBounds(s,0,1),this.updatePaddingDivs(e,s);return s},n.prototype.updatePaddingDivs=function(n,t){var e=window.document.querySelector("#topPaddingDiv"),r=window.document.querySelector("#bottomPaddingDiv");e.style.height=n[t.firstChildIdx].previousSiblingsHeight+"px",r.style.height=this.getPaddingAfterChild(n,t.lastChildIdx)},n.prototype.emptyContainer=function(n){for(;n.children.length;)n.firstElementChild.remove()},n.prototype.removeFirstChild=function(n,t){return this.getChildByIdx(n,t.firstChildIdx).remove(),this.updateBounds(t,1,0)},n.prototype.removeLastChild=function(n,t){return this.getChildByIdx(n,t.lastChildIdx).remove(),this.updateBounds(t,0,-1)},n.prototype.getPaddingAfterChild=function(n,t){var e=n[t];this.getLastChild(n);return this.getTotalChildrenHeight(n)-this.getBottomHeight(e)+"px"},n.prototype.getChildByIdx=function(n,t){return n[t].element},n.prototype.updateBounds=function(n,t,e){return{firstChildIdx:n.firstChildIdx+t,lastChildIdx:n.lastChildIdx+e}},n.prototype.getTotalChildrenHeight=function(n){var t=this.getLastChild(n);return t.height+t.previousSiblingsHeight},n.prototype.getLastChild=function(n){return n[Math.max.apply(Math,Object.keys(n).map(Number))]},n.prototype.getBottomHeight=function(n){return n.height+n.previousSiblingsHeight},n}()},GjlP:function(n,t,e){"use strict";var r=e("Gvdl");e.n(r);e.d(t,"a",function(){return l});var o=16,i=450,l=function(){function n(){this.totalWords=0}return n.prototype.getInterval=function(n){return r.Observable.interval(n)},n.prototype.getIntervalFromWpm=function(n,t,e){var l=this.useDelayedInterval(t,e)?i:6e4/n;return r.Observable.interval(l-o)},n.prototype.useDelayedInterval=function(n,t){return null!=n&&null!=t&&!(!n.content[t.paragraphIdx].text[t.wordIdx].match(/[.!\?]/g)&&0!==t.wordIdx)},n.prototype.logPerformance=function(n,t){var e=(new Date).getTime();this.firstDate=this.firstDate||e,this.totalWords++,console.clear(),console.log({wpm:t,timeElapsed:e-this.lastDate,totalTime:e-this.firstDate,msPerWord:(e-this.firstDate)/this.totalWords,trueWpm:6e4/((e-this.firstDate)/this.totalWords)}),this.lastDate=e,this.lastInterval=n},n}()},GuZw:function(n,t,e){"use strict";function r(n){return l._26(0,[(n()(),l._27(0,null,null,1,"div",[["class","bg-red white"]],null,null,null,null,null)),(n()(),l._28(null,["\n\tLogin failed!\n"]))],null,null)}function o(n){return l._26(0,[(n()(),l._27(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t"])),(n()(),l._27(0,null,null,5,"input",[["class","input-reset w-100"],["placeholder","email"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0,o=n.component;if("input"===t){r=!1!==l._31(n,3)._handleInput(e.target.value)&&r}if("blur"===t){r=!1!==l._31(n,3).onTouched()&&r}if("compositionstart"===t){r=!1!==l._31(n,3)._compositionStart()&&r}if("compositionend"===t){r=!1!==l._31(n,3)._compositionEnd(e.target.value)&&r}if("ngModelChange"===t){r=!1!==(o.email=e)&&r}return r},null,null)),l._29(16384,null,0,a.d,[l._16,l._3,[2,a.e]],null,null),l._33(1024,null,a.f,function(n){return[n]},[a.d]),l._29(671744,null,0,a.g,[[8,null],[8,null],[8,null],[2,a.f]],{model:[0,"model"]},{update:"ngModelChange"}),l._33(2048,null,a.h,null,[a.g]),l._29(16384,null,0,a.i,[a.h],null,null),(n()(),l._28(null,["\n"])),(n()(),l._28(null,["\n"])),(n()(),l._27(0,null,null,8,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t"])),(n()(),l._27(0,null,null,5,"input",[["class","input-reset w-100"],["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0,o=n.component;if("input"===t){r=!1!==l._31(n,13)._handleInput(e.target.value)&&r}if("blur"===t){r=!1!==l._31(n,13).onTouched()&&r}if("compositionstart"===t){r=!1!==l._31(n,13)._compositionStart()&&r}if("compositionend"===t){r=!1!==l._31(n,13)._compositionEnd(e.target.value)&&r}if("ngModelChange"===t){r=!1!==(o.password=e)&&r}return r},null,null)),l._29(16384,null,0,a.d,[l._16,l._3,[2,a.e]],null,null),l._33(1024,null,a.f,function(n){return[n]},[a.d]),l._29(671744,null,0,a.g,[[8,null],[8,null],[8,null],[2,a.f]],{model:[0,"model"]},{update:"ngModelChange"}),l._33(2048,null,a.h,null,[a.g]),l._29(16384,null,0,a.i,[a.h],null,null),(n()(),l._28(null,["\n"])),(n()(),l._28(null,["\n"])),(n()(),l._27(0,null,null,4,"div",[["class","pt2"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t"])),(n()(),l._27(0,null,null,1,"button",[["class","button-reset w-100"]],null,[[null,"click"]],function(n,t,e){var r=!0,o=n.component;if("click"===t){r=!1!==o.submit()&&r}return r},null,null)),(n()(),l._28(null,["Log In!"])),(n()(),l._28(null,["\n"])),(n()(),l._28(null,["\n"])),(n()(),l._32(16777216,null,null,1,null,r)),l._29(16384,null,0,c.n,[l._6,l._7],{ngIf:[0,"ngIf"]},null),(n()(),l._28(null,["\n"]))],function(n,t){var e=t.component;n(t,5,0,e.email),n(t,15,0,e.password),n(t,27,0,e.loginError)},function(n,t){n(t,2,0,l._31(t,7).ngClassUntouched,l._31(t,7).ngClassTouched,l._31(t,7).ngClassPristine,l._31(t,7).ngClassDirty,l._31(t,7).ngClassValid,l._31(t,7).ngClassInvalid,l._31(t,7).ngClassPending),n(t,12,0,l._31(t,17).ngClassUntouched,l._31(t,17).ngClassTouched,l._31(t,17).ngClassPristine,l._31(t,17).ngClassDirty,l._31(t,17).ngClassValid,l._31(t,17).ngClassInvalid,l._31(t,17).ngClassPending)})}function i(n){return l._26(0,[(n()(),l._27(0,null,null,1,"app-login-page",[],null,[["document","keydown"]],function(n,t,e){var r=!0;if("document:keydown"===t){r=!1!==l._31(n,1).handleEnter(e)&&r}return r},o,f)),l._29(114688,null,0,u.a,[s.a,p.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("3j3K"),u=e("CI7P"),a=e("NVOs"),c=e("2Je8"),s=e("qsEO"),p=e("zkbP");e.d(t,"a",function(){return h});var d=[],f=l._25({encapsulation:2,styles:d,data:{}}),h=l._30("app-login-page",u.a,i,{},{},[])},GvKf:function(n,t,e){"use strict";var r=e("qOWT");e.d(t,"a",function(){return r.a});var o=e("TCeW");e.d(t,"b",function(){return o.a})},HKeY:function(n,t,e){"use strict";var r=e("3pbj"),o=e("WWmu"),i=e("cyeq"),l=e("9sFL"),u=e("i2LP");e.d(t,"a",function(){return a});var a=function(){function n(n,t,e){this.booksApi=n,this.store=t,this.headerService=e,this.books=[],this.wpm$=this.store.select(r.d)}return n.prototype.ngOnInit=function(){var n=this;this.booksApiSubscription=this.booksApi.getByFilter().subscribe(function(t){return n.books=t}),this.setHeaderLink()},n.prototype.ngOnDestroy=function(){this.cancelBooksApiSubscription()},n.prototype.setWpm=function(n){this.store.dispatch(new i.i(n))},Object.defineProperty(n.prototype,"noBooks",{get:function(){return null==this.books||0===this.books.length},enumerable:!0,configurable:!0}),n.prototype.cancelBooksApiSubscription=function(){null!=this.booksApiSubscription&&(this.booksApiSubscription.unsubscribe(),this.booksApiSubscription=null)},n.prototype.setHeaderLink=function(){this.headerService.link.next({url:"/books/new",text:"Add Book"})},n.ctorParameters=function(){return[{type:l.b},{type:o.a},{type:u.a}]},n}()},Iksp:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},JQMI:function(n,t,e){"use strict";var r=e("5oXY"),o=e("WWmu"),i=e("qsEO"),l=e("X4Zl");e.d(t,"a",function(){return a});var u=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(n){function t(t,e,r){return n.call(this,t,e,r)||this}return u(t,n),t.prototype.handleRedirect=function(n){if(!n)return void this.router.navigateByUrl("/login")},t.prototype.activate=function(n){return n},t.ctorParameters=function(){return[{type:i.a},{type:r.c},{type:o.a}]},t}(l.a)},Jlqr:function(n,t,e){"use strict";function r(n,t){return t=Array.isArray(t)?t.join("/"):String(t),t=t.replace(s,"$1"),n+"/"+t}function o(n,t){return null==t?n:(null==n&&(n={}),n.search=i(t),n)}function i(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return Array.isArray(r)?r.forEach(function(n){return t.append(e,String(n))}):null!=r&&t.set(e,String(r)),t},new l.m)}var l=e("Fzro"),u=e("+pb+"),a=(e.n(u),e("PZt1"));e.d(t,"a",function(){return c});var c=function(){function n(n,t){this.config=n,this.http=t}return Object.defineProperty(n.prototype,"baseUrl",{get:function(){return this.config.baseUrl},enumerable:!0,configurable:!0}),n.prototype.request=function(n,t){return this.wrapResponse(this.http.request(this.getPath(n),t))},n.prototype.get=function(n,t,e){return this.wrapResponse(this.http.get(this.getPath(n),o(e,t)))},n.prototype.post=function(n,t,e,r){return this.wrapResponse(this.http.post(this.getPath(n),t,o(r,e)))},n.prototype.put=function(n,t,e,r){return this.wrapResponse(this.http.put(this.getPath(n),t,o(r,e)))},n.prototype.patch=function(n,t,e,r){return this.wrapResponse(this.http.patch(this.getPath(n),t,o(r,e)))},n.prototype.delete=function(n,t,e){return this.wrapResponse(this.http.delete(this.getPath(n),o(e,t)))},n.prototype.wrapResponse=function(n){return n.map(function(n){try{return n.json()}catch(t){return n.text()}})},n.prototype.getPath=function(n){return r(this.baseUrl,n)},n.ctorParameters=function(){return[{type:a.a},{type:l.j}]},n}(),s=/^\/*(.*?)\/*$/},McXY:function(n,t,e){"use strict";var r=e("JQMI");e.d(t,"b",function(){return r.a});var o=e("QJuB");e.d(t,"c",function(){return o.a});var i=(e("4Xti"),e("qsEO"));e.d(t,"a",function(){return i.a})},Md7J:function(n,t,e){"use strict";var r=e("+Do2");e.d(t,"a",function(){return r.a})},NVNu:function(n,t){},NqZ3:function(n,t,e){"use strict";var r=e("HKeY");e.d(t,"a",function(){return r.a})},OfQ8:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},PZt1:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(n){if(null==n)throw new Error("rest-http.config is invalud");this.baseUrl=n.baseUrl}return n}()},Pm2l:function(n,t){},QJuB:function(n,t,e){"use strict";var r=e("5oXY"),o=e("WWmu"),i=e("qsEO"),l=e("X4Zl");e.d(t,"a",function(){return a});var u=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(n){function t(t,e,r){return n.call(this,t,e,r)||this}return u(t,n),t.prototype.handleRedirect=function(n){n&&this.router.navigateByUrl("/books")},t.prototype.activate=function(n){return!n},t.ctorParameters=function(){return[{type:i.a},{type:r.c},{type:o.a}]},t}(l.a)},RBKA:function(n,t,e){"use strict";function r(n){return p._26(0,[(n()(),p._27(0,null,null,2,"div",[["class","paragraph--wordIdx code f7 gray"]],null,null,null,null,null)),(n()(),p._28(null,["\n\t\t","\n\t"])),p._38(2)],null,function(n,t){var e=t.component;n(t,1,0,p._37(t,1,0,n(t,2,0,p._31(t.parent.parent,0),e.paragraph.firstIndex,"1.0-0")))})}function o(n){return p._26(0,[(n()(),p._28(null,["\n\t\t"])),(n()(),p._27(0,null,null,2,"div",[["class","paragraph--wordIdx code f7 gray"]],null,null,null,null,null)),(n()(),p._28(null,["\n\t\t\t","\n\t\t"])),p._38(2),(n()(),p._28(null,["\n\t"]))],null,function(n,t){var e=t.component;n(t,2,0,p._37(t,2,0,n(t,3,0,p._31(t.parent.parent,1),e.percent,"1.0-1")))})}function i(n){return p._26(0,[(n()(),p._27(0,null,null,2,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,d.a,d.b)),p._29(49152,null,0,f.a,[],{word:[0,"word"],selected:[1,"selected"]},null),(n()(),p._28(null,["\n\t\t"]))],function(n,t){var e=t.component;n(t,1,0,t.context.$implicit,e.currentPosition.wordIdx===t.context.index)},function(n,t){n(t,0,0,p._31(t,1).hostClass,p._31(t,1).selected)})}function l(n){return p._26(0,[(n()(),p._27(0,null,null,4,"div",[["class","pt2 pb2"]],null,null,null,null,null)),(n()(),p._28(null,["\n\t\t"])),(n()(),p._32(16777216,null,null,1,null,i)),p._29(802816,null,0,h.o,[p._6,p._7,p.o],{ngForOf:[0,"ngForOf"]},null),(n()(),p._28(null,["\n\t"]))],function(n,t){n(t,3,0,t.component.paragraph.text)},null)}function u(n){return p._26(0,[(n()(),p._28(null,["\n\t\t"])),(n()(),p._27(0,null,null,1,"div",[["class","pt2 pb2"]],null,null,null,null,null)),(n()(),p._28(null,["\n\t\t\t","\n\t\t"])),(n()(),p._28(null,["\n\t"]))],null,function(n,t){n(t,2,0,t.component.paragraph.textString)})}function a(n){return p._26(0,[(n()(),p._27(0,null,null,11,"div",[["class","paragraph"]],null,null,null,null,null)),(n()(),p._28(null,["\n\t"])),(n()(),p._32(16777216,null,null,1,null,r)),p._29(16384,null,0,h.n,[p._6,p._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),p._28(null,["\n\t"])),(n()(),p._32(0,[["percentBlock",2]],null,0,null,o)),(n()(),p._28(null,["\n\t"])),(n()(),p._32(16777216,null,null,1,null,l)),p._29(16384,null,0,h.n,[p._6,p._7],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),p._28(null,["\n\t"])),(n()(),p._32(0,[["elseBlock",2]],null,0,null,u)),(n()(),p._28(null,["\n"]))],function(n,t){var e=t.component;n(t,3,0,e.id%5!=0,p._31(t,5)),n(t,8,0,e.selected,p._31(t,10))},null)}function c(n){return p._26(0,[p._35(0,h.r,[p.l]),p._35(0,h.s,[p.l]),(n()(),p._32(16777216,null,null,1,null,a)),p._29(16384,null,0,h.n,[p._6,p._7],{ngIf:[0,"ngIf"]},null),(n()(),p._28(null,["\n"]))],function(n,t){n(t,3,0,null!=t.component.paragraph)},null)}function s(n){return p._26(0,[(n()(),p._27(0,null,null,1,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,c,_)),p._29(49152,null,0,g.a,[p._3,v.a],null,null)],null,function(n,t){n(t,0,0,p._31(t,1).hostClass)})}var p=e("3j3K"),d=e("yG2t"),f=e("EPgz"),h=e("2Je8"),g=e("ChBP"),v=e("Zcpd");e.d(t,"b",function(){return _}),t.a=c;var b=[],_=p._25({encapsulation:2,styles:b,data:{}});p._30("app-scanner-paragraph",g.a,s,{paragraph:"paragraph",currentPosition:"currentPosition",id:"id",percent:"percent",selected:"selected"},{},[])},RYfX:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(n,t,e,r){this.paragraphIdx=n,this.wordIdx=t,this.bookId=e,this.id=r}return n}()},TCeW:function(n,t,e){"use strict";var r=e("Gvdl"),o=(e.n(r),e("lk+P"));e.d(t,"a",function(){return i});var i=function(){function n(n){this.bookmarksApi=n}return n.prototype.resolve=function(n,t){var e=n.params.id;return"new"===e?r.Observable.of():null!=e&&isNaN(e)?r.Observable.throw(new Error("Invalid dataflow id")):this.bookmarksApi.getById(Number(e))},n.ctorParameters=function(){return[{type:o.a}]},n}()},UGCa:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return l}),e.d(t,"e",function(){return u}),e.d(t,"b",function(){return a});var r="[BOOK_POSITION] Load Saved",o="[BOOK_POSITION] Set",i="[BOOK_POSITION] Set Partial Text",l="[BOOK_POSITION] Step",u="[BOOK_POSITION] Unload",a=(function(){function n(n){this.payload=n,this.type=r}}(),function(){function n(n){this.payload=n,this.type=o}return n}());(function(){function n(){this.type=i}})(),function(){function n(){this.type=u}}(),function(){function n(n){this.payload=n,this.type=l}}()},Vd6R:function(n,t,e){"use strict";var r=e("Fzro"),o=e("Gvdl"),i=(e.n(o),e("BeuU")),l=e("PZt1");e.d(t,"a",function(){return u});var u=function(){function n(n,t,e){this.http=n,this.config=t,this.tokenService=e,this.tokenRouteExtension="/user_token",this.usersRouteExtension="/users"}return Object.defineProperty(n.prototype,"tokenRoute",{get:function(){return this.config.baseUrl+this.tokenRouteExtension},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"usersRoute",{get:function(){return this.config.baseUrl+this.usersRouteExtension},enumerable:!0,configurable:!0}),n.prototype.verify=function(){return this.http.get(this.usersRoute,this.tokenService.getOptions()).map(function(n){return n.json()})},n.prototype.get=function(n,t){return this.http.post(this.tokenRoute,{auth:{email:n,password:t}}).map(function(n){return null==n||""===n.text()?o.Observable.of(void 0):n.json()})},n.ctorParameters=function(){return[{type:r.j},{type:l.a},{type:i.b}]},n}()},X4Zl:function(n,t,e){"use strict";var r=e("3pbj");e.d(t,"a",function(){return o});var o=function(){function n(n,t,e){this.authService=n,this.router=t,this.store=e}return n.prototype.canActivate=function(){var n=this;return this.authService.initted?this.store.select(r.e).do(function(t){return n.handleRedirect(t)}).map(function(t){return n.activate(t)}):this.authService.verify().take(1).flatMap(function(){return n.store.select(r.e)}).do(function(t){return n.handleRedirect(t)}).map(function(t){return n.activate(t)})},n.prototype.canActivateChild=function(){return this.canActivate()},n}()},Xxl5:function(n,t,e){"use strict";var r=e("/DgF");e.d(t,"a",function(){return r.a})},Y7Pa:function(n,t,e){"use strict";function r(n,t){switch(void 0===n&&(n=i),t.type){case o.a:var e=!n.rsv;return Object.assign({},n,{rsv:e,play:!!e&&n.play});case o.b:return Object.assign({},n,{play:!0});case o.c:return Object.assign({},n,{play:!1});case o.d:var r=!n.play;return Object.assign({},n,{play:r});case o.e:return Object.assign({},n,{wpm:t.payload});case o.f:return Object.assign({},n,{phraseLength:t.payload});default:return n}}var o=e("cyeq");t.a=r,e.d(t,"c",function(){return l}),e.d(t,"b",function(){return u}),e.d(t,"d",function(){return a}),e.d(t,"e",function(){return c});var i={rsv:!1,phraseLength:2,play:!1,wpm:500},l=function(n){return n.rsv},u=function(n){return n.play},a=function(n){return n.wpm},c=function(n){return n.phraseLength}},YWx4:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},YrpA:function(n,t,e){"use strict";var r=e("Xxl5"),o=e("wEKh"),i=e("megd");e.d(t,"a",function(){return l});var l=(r.a,o.a,i.a,function(){function n(){}return n}())},ZxdZ:function(n,t,e){"use strict";function r(n,t){switch(void 0===n&&(n=i),t.type){case o.c:return Object.assign({},n,{position:t.payload});case o.e:return Object.assign({},n,{position:i});default:return n}}var o=e("UGCa");t.a=r,e.d(t,"b",function(){return l});var i={},l=function(n){return n.position}},aEq8:function(n,t){},agbq:function(n,t,e){"use strict";var r=(e("7grU"),e("NqZ3"));e.d(t,"c",function(){return r.a});var o=e("3J2k");e.d(t,"b",function(){return o.a});var i=e("Caeh");e.d(t,"e",function(){return i.a});var l=e("CXAF");e.d(t,"d",function(){return l.a});var u=e("Md7J");e.d(t,"a",function(){return u.a})},cyeq:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"d",function(){return o}),e.d(t,"b",function(){return i}),e.d(t,"c",function(){return l}),e.d(t,"e",function(){return u}),e.d(t,"f",function(){return a}),e.d(t,"j",function(){return c}),e.d(t,"h",function(){return s}),e.d(t,"g",function(){return p}),e.d(t,"i",function(){return d});var r="[READER] Toggle RSV",o="[READER] Toggle Play",i="[READER] Start Play",l="[READER] Stop Play",u="[READER] WPM",a="[READER] Phrase Length",c=(function(){function n(){this.type=r}}(),function(){function n(){this.type=o}return n}()),s=function(){function n(){this.type=i}return n}(),p=function(){function n(){this.type=l}return n}(),d=function(){function n(n){this.payload=n,this.type=u}return n}();!function(){function n(n){this.payload=n,this.type=a}}()},"ea/y":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},"fwo/":function(n,t,e){"use strict";var r=(e("OfQ8"),e("lk+P"));e.d(t,"a",function(){return r.b}),e.d(t,"d",function(){return r.a});var o=e("6W3o");e.d(t,"c",function(){return o.b}),e.d(t,"e",function(){return o.a}),e.d(t,"f",function(){return o.c});var i=e("BeuU");e.d(t,"b",function(){return i.a})},gccr:function(n,t,e){"use strict";function r(n){return l._26(0,[(n()(),l._27(0,null,null,2,"app-scanner-paragraph",[],[[2,"paragraph",null]],null,null,u.a,u.b)),l._29(49152,null,0,a.a,[l._3,c.a],{paragraph:[0,"paragraph"],currentPosition:[1,"currentPosition"],id:[2,"id"],percent:[3,"percent"],selected:[4,"selected"]},null),(n()(),l._28(null,["\n\t\t"]))],function(n,t){var e=t.component;n(t,1,0,t.context.$implicit,e.bookPosition,t.context.index,t.context.$implicit.firstIndex/e.book.length,e.bookPosition.paragraphIdx===t.context.$implicit.id)},function(n,t){n(t,0,0,l._31(t,1).hostClass)})}function o(n){return l._26(0,[(n()(),l._27(0,null,null,10,"div",[["class","flex flex-column items-center"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t"])),(n()(),l._27(0,null,null,7,"div",[["class","mw6"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t"])),(n()(),l._27(0,null,null,1,"p",[],null,null,null,null,null)),(n()(),l._28(null,["total words: ","k"])),(n()(),l._28(null,["\n\t\t"])),(n()(),l._32(16777216,null,null,1,null,r)),l._29(802816,null,0,s.o,[l._6,l._7,l.o],{ngForOf:[0,"ngForOf"]},null),(n()(),l._28(null,["\n\t"])),(n()(),l._28(null,["\n"])),(n()(),l._28(null,["\n"]))],function(n,t){n(t,8,0,t.component.content)},function(n,t){n(t,5,0,t.component.book.length%1e3)})}function i(n){return l._26(0,[(n()(),l._27(0,null,null,1,"app-book-scanner",[],null,[[null,"click"]],function(n,t,e){var r=!0;if("click"===t){r=!1!==l._31(n,1).onClick()&&r}return r},o,b)),l._29(245760,null,0,p.a,[d.a,f.a,h.a,g.a,c.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("3j3K"),u=e("RBKA"),a=e("ChBP"),c=e("Zcpd"),s=e("2Je8"),p=e("uv4r"),d=e("5oXY"),f=e("37y8"),h=e("3imX"),g=e("GjlP");e.d(t,"a",function(){return _});var v=[],b=l._25({encapsulation:2,styles:v,data:{}}),_=l._30("app-book-scanner",p.a,i,{},{},[])},i2LP:function(n,t,e){"use strict";var r=e("zkbP");e.d(t,"a",function(){return r.a});e("zqRp")},"i2b/":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},juMz:function(n,t,e){"use strict";function r(n,t){return l.a.production?v(n,t):g(n,t)}var o=e("bndy"),i=(e.n(o),e("WWmu")),l=e("kZql"),u=e("owqQ"),a=(e.n(u),e("KhQu")),c=(e.n(a),e("ZxdZ")),s=e("zeFx"),p=e("uqwp"),d=e("Y7Pa"),f=e("1mcY");t.a=r,e.d(t,"d",function(){return _}),e.d(t,"e",function(){return y}),e.d(t,"b",function(){return k}),e.d(t,"c",function(){return w}),e.d(t,"f",function(){return x});var h={reader:d.a,books:s.a,bookPosition:c.a,paragraphMap:p.a,userDetails:f.a},g=e.i(u.compose)(a.storeFreeze,i.b)(h),v=e.i(i.b)(h),b=function(n){return n.reader},_=e.i(o.createSelector)(b,d.b),y=(e.i(o.createSelector)(b,d.c),e.i(o.createSelector)(b,d.d)),m=(e.i(o.createSelector)(b,d.e),function(n){return n.books}),k=e.i(o.createSelector)(m,s.b),P=function(n){return n.bookPosition},w=e.i(o.createSelector)(P,c.b),I=function(n){return n.paragraphMap},C=(e.i(o.createSelector)(I,p.b),function(n){return n.userDetails}),x=e.i(o.createSelector)(C,f.b);e.i(o.createSelector)(C,f.c),e.i(o.createSelector)(C,f.d),e.i(o.createSelector)(C,f.e)},"k4+s":function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()},kUXO:function(n,t,e){"use strict";e.d(t,"a",function(){return r}),e.d(t,"b",function(){return o});var r="[POSITION_DATA] Set",o="[POSITION_DATA] Unset";(function(){function n(n){this.payload=n,this.type=r}})(),function(){function n(){this.type=o}}()},kZql:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r={production:!0}},kke6:function(n,t,e){"use strict";var r=e("3j3K"),o=e("Iksp"),i=e("YWx4"),l=e("709r"),u=e("gccr"),a=e("9EeC"),c=e("GuZw"),s=e("ESAz"),p=e("1A80"),d=e("5oXY"),f=e("SyMH"),h=e("MF+P"),g=e("TCeW"),v=e("37y8"),b=e("qOWT"),_=e("yw3Q"),y=e("2Je8"),m=e("Qbdm"),k=e("zkbP"),P=e("NVOs"),w=e("JQMI"),I=e("qsEO"),C=e("Zcpd"),x=e("QJuB"),O=e("GQfQ"),S=e("GjlP"),B=e("+Do2"),j=e("uv4r"),E=e("HKeY"),A=e("CI7P"),R=e("4nEc"),q=e("Cd9f"),T=e("FUK6"),D=e("zqRp"),W=e("YrpA"),M=e("7grU"),L=e("Fzro"),U=e("AK3k"),K=e("BlzQ"),$=e("4Xti"),F=e("ea/y"),z=e("k4+s"),J=e("i2b/"),N=e("OfQ8"),X=e("cPow"),Y=e("osFu"),G=e("juMz"),H=e("oi6x"),Q=e("NPiC"),Z=e("4h9u"),V=e("2zeU"),nn=e("PZt1"),tn=e("Jlqr"),en=e("ELit"),rn=e("CLgq"),on=e("Vd6R"),ln=e("9pxV"),un=e("9Tle"),an=e("3imX"),cn=e("tvlE"),sn=e("njfE"),pn=e("68+W");e.d(t,"a",function(){return dn});var dn=r.b(o.a,[i.a],function(n){return r.c([r.d(512,r.e,r.f,[[8,[l.a,u.a,a.a,c.a,s.a,p.a]],[3,r.e],r.g]),r.d(5120,d.a,d.b,[d.c]),r.d(4608,d.d,d.d,[]),r.d(6144,d.e,null,[d.d]),r.d(135680,d.f,d.f,[d.c,r.h,r.i,r.j,d.e]),r.d(4608,d.g,d.g,[]),r.d(5120,d.h,d.i,[d.j]),r.d(5120,r.k,function(n,t,e){return[n,f.a(t,e)]},[d.h,r.j,h.a]),r.d(4608,g.a,g.a,[v.a]),r.d(4608,b.a,b.a,[_.a]),r.d(4352,r.l,"en-US",[]),r.d(4608,y.a,y.b,[r.l]),r.d(5120,r.m,r.n,[]),r.d(5120,r.o,r.p,[]),r.d(5120,r.q,r.r,[]),r.d(4608,m.b,m.c,[y.c]),r.d(6144,r.s,null,[m.b]),r.d(4608,m.d,m.e,[]),r.d(5120,m.f,function(n,t,e,r){return[new m.g(n),new m.h(t),new m.i(e,r)]},[y.c,y.c,y.c,m.d]),r.d(4608,m.j,m.j,[m.f,r.t]),r.d(135680,m.k,m.k,[y.c]),r.d(4608,m.l,m.l,[m.j,m.k]),r.d(6144,r.u,null,[m.l]),r.d(6144,m.m,null,[m.k]),r.d(4608,r.v,r.v,[r.t]),r.d(4608,m.n,m.n,[y.c]),r.d(4608,m.o,m.o,[y.c]),r.d(4608,k.a,k.a,[]),r.d(4608,P.a,P.a,[]),r.d(4608,w.a,w.a,[I.a,d.c,C.a]),r.d(4608,x.a,x.a,[I.a,d.c,C.a]),r.d(4608,O.a,O.a,[]),r.d(4608,S.a,S.a,[]),r.d(1024,d.k,d.l,[[3,d.c]]),r.d(1024,r.w,m.p,[]),r.d(512,d.j,d.j,[r.j]),r.d(1024,r.x,function(){return[d.m()]},[]),r.d(1024,r.y,function(n,t,e){return[d.n(n),m.q(t,e)]},[d.j,[2,m.r],[2,r.x]]),r.d(512,r.z,r.z,[[2,r.y]]),r.d(131584,r.A,r.A,[r.t,r.B,r.j,r.w,r.e,r.z]),r.d(2048,r.C,null,[r.A]),r.d(512,d.o,d.p,[]),r.d(512,d.q,d.q,[]),r.d(256,d.r,{useHash:!0,enableTracing:!1},[]),r.d(1024,y.d,d.s,[y.e,[2,y.f],d.r]),r.d(512,y.g,y.g,[y.d]),r.d(512,r.i,r.i,[]),r.d(512,r.h,r.D,[r.i,[2,r.E]]),r.d(1024,d.t,function(){return[[{path:"books",children:[{path:"new",component:B.a},{path:":id",component:j.a,resolve:{book:b.a,bookPosition:g.a}},{path:"",pathMatch:"full",component:E.a}],canActivate:[w.a],canActivateChild:[w.a]},{path:"login",component:A.a,canActivate:[x.a]},{path:"",pathMatch:"full",component:R.a,canActivate:[x.a]},{path:"**",redirectTo:"/books"}]]},[]),r.d(1024,d.c,d.u,[r.C,d.o,d.q,y.g,r.j,r.h,r.i,d.t,d.r,[2,d.v],[2,d.w]]),r.d(512,d.x,d.x,[[2,d.k],[2,d.c]]),r.d(512,q.a,q.a,[]),r.d(512,y.h,y.h,[]),r.d(512,r.F,r.F,[r.C]),r.d(512,m.s,m.s,[[3,m.s]]),r.d(512,T.a,T.a,[]),r.d(512,D.a,D.a,[]),r.d(512,W.a,W.a,[]),r.d(512,P.b,P.b,[]),r.d(512,P.c,P.c,[]),r.d(512,M.a,M.a,[]),r.d(512,L.a,L.a,[]),r.d(512,U.a,U.a,[]),r.d(512,K.a,K.a,[]),r.d(512,$.a,$.a,[]),r.d(512,F.a,F.a,[]),r.d(512,z.a,z.a,[]),r.d(512,J.a,J.a,[]),r.d(512,N.a,N.a,[]),r.d(512,X.a,X.a,[]),r.d(512,Y.a,Y.a,[]),r.d(256,X.b,G.a,[]),r.d(1024,X.c,X.d,[X.b]),r.d(1024,H.a,X.e,[Y.a,X.c]),r.d(256,X.f,void 0,[]),r.d(1024,X.g,X.h,[X.f,X.c]),r.d(1024,Q.a,X.i,[X.g,Y.a,H.a]),r.d(1024,C.a,X.j,[Y.a,H.a,Q.a]),r.d(512,Z.a,Z.a,[Y.a]),r.d(512,V.a,V.a,[]),r.d(256,nn.a,{baseUrl:"http://bounds-api.herokuapp.com"},[]),r.d(512,L.b,L.b,[]),r.d(512,L.c,L.d,[]),r.d(1024,L.e,L.f,[]),r.d(512,L.g,L.g,[L.b,L.c,L.e]),r.d(512,L.h,L.i,[]),r.d(1024,L.j,L.k,[L.g,L.h]),r.d(512,tn.a,tn.a,[nn.a,L.j]),r.d(512,en.a,en.a,[m.t]),r.d(512,rn.a,rn.a,[en.a]),r.d(512,on.a,on.a,[L.j,nn.a,rn.a]),r.d(512,I.a,I.a,[on.a,rn.a,C.a]),r.d(512,_.a,_.a,[V.a,C.a,tn.a,I.a,rn.a]),r.d(512,ln.a,ln.a,[en.a]),r.d(512,un.a,un.a,[Z.a,_.a,ln.a,V.a]),r.d(512,v.a,v.a,[tn.a,I.a,rn.a]),r.d(512,an.a,an.a,[]),r.d(512,cn.a,cn.a,[Z.a,v.a,an.a,C.a]),r.d(512,sn.a,sn.a,[Z.a,I.a,d.c]),r.d(1024,h.b,function(n,t,e){return[n,t,e]},[un.a,cn.a,sn.a]),r.d(131584,h.a,h.a,[C.a,[3,h.a],[2,h.b]]),r.d(512,pn.a,pn.a,[h.a]),r.d(512,o.a,o.a,[])])})},"lPo+":function(n,t,e){"use strict";function r(n){return l._26(0,[(n()(),l._27(0,null,null,2,"a",[["class","link heading caps small"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,e){var r=!0;if("click"===t){r=!1!==l._31(n,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r}return r},null,null)),l._29(671744,null,0,u.z,[u.c,u.a,a.d],{routerLink:[0,"routerLink"]},null),(n()(),l._28(null,["",""]))],function(n,t){n(t,1,0,t.component.link.url)},function(n,t){var e=t.component;n(t,0,0,l._31(t,1).target,l._31(t,1).href),n(t,2,0,e.link.text)})}function o(n){return l._26(0,[(n()(),l._27(0,null,null,19,"div",[["class","flex flex-column items-center"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t"])),(n()(),l._27(0,null,null,16,"div",[["class","header w-100 mw6 pt4 pb4 mb3 flex justify-between"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t\t"])),(n()(),l._27(0,null,null,7,"div",[],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t\t\t"])),(n()(),l._27(0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t\t\t\tBounds 📚\n\t\t\t\t"])),(n()(),l._28(null,["\n\t\t\t\t"])),(n()(),l._27(0,null,null,1,"div",[["class","light"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t\t\t\ta speed reader\n\t\t\t\t"])),(n()(),l._28(null,["\n\t\t\t"])),(n()(),l._28(null,["\n\t\t\t"])),(n()(),l._27(0,null,null,4,"div",[["class","flex items-center"]],null,null,null,null,null)),(n()(),l._28(null,["\n\t\t\t\t"])),(n()(),l._32(16777216,null,null,1,null,r)),l._29(16384,null,0,a.n,[l._6,l._7],{ngIf:[0,"ngIf"]},null),(n()(),l._28(null,["\n\t\t\t"])),(n()(),l._28(null,["\n\t\t"])),(n()(),l._28(null,["\n\t"])),(n()(),l._28(null,["\n"]))],function(n,t){n(t,16,0,null!=t.component.link)},null)}function i(n){return l._26(0,[(n()(),l._27(0,null,null,1,"app-header",[],null,null,null,o,d)),l._29(114688,null,0,c.a,[s.a],null,null)],function(n,t){n(t,1,0)},null)}var l=e("3j3K"),u=e("5oXY"),a=e("2Je8"),c=e("/DgF"),s=e("zkbP");e.d(t,"b",function(){return d}),t.a=o;var p=[],d=l._25({encapsulation:2,styles:p,data:{}});l._30("app-header",c.a,i,{},{},[])},"lk+P":function(n,t,e){"use strict";var r=(e("k4+s"),e("/Ukj"),e("9sFL"));e.d(t,"a",function(){return r.a}),e.d(t,"b",function(){return r.b})},mYXE:function(n,t,e){"use strict";var r=(e("BlzQ"),e("Vd6R"));e.d(t,"AuthTokenApi",function(){return r.a});var o=e("NVNu");e.n(o)},megd:function(n,t,e){"use strict";var r=e("EPgz");e.d(t,"a",function(){return r.a})},nZlM:function(n,t){},njfE:function(n,t,e){"use strict";var r=e("5oXY"),o=e("98po"),i=e("Gvdl"),l=(e.n(i),e("McXY")),u=e("2pSd");e.d(t,"a",function(){return s});var a=this&&this.__decorate||function(n,t,e,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(l=(i<3?o(l):i>3?o(t,e,l):o(t,e))||l);return i>3&&l&&Object.defineProperty(t,e,l),l},c=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},s=function(){function n(n,t,e){var r=this;this.actions$=n,this.authService=t,this.router=e,this.login$=this.actions$.ofType(u.a).switchMap(function(){return r.authService.verify().do(function(n){n.loggedIn&&r.router.navigateByUrl("books")}).map(function(n){return new u.b(n)})})}return n.ctorParameters=function(){return[{type:o.a},{type:l.a},{type:r.c}]},n}();a([e.i(o.b)(),c("design:type","function"==typeof(p=void 0!==i.Observable&&i.Observable)&&p||Object)],s.prototype,"login$",void 0);var p},nyuy:function(n,t,e){"use strict";var r=e("6koo");e.d(t,"a",function(){return o});var o=function(){function n(n,t,e){this.rest=n,this.authService=t,this.tokenService=e}return Object.defineProperty(n.prototype,"options",{get:function(){return this.tokenService.getOptions()},enumerable:!0,configurable:!0}),n.prototype.getById=function(n){var t=this;return this.rest.get([this.modelPath,n],void 0,this.options).map(function(n){return t.unwrapSingle(n)})},n.prototype.getByFilter=function(n){return this.rest.get(this.modelPath,n,this.options).map(function(n){return e.i(r.a)(n.data,n.totalRecords)})},n.prototype.unwrapSingle=function(n){if(null!=n)return Array.isArray(n.data)?n.data.length>0?n.data[0]:void 0:n},n}()},qOWT:function(n,t,e){"use strict";var r=e("Gvdl"),o=(e.n(r),e("lk+P"));e.d(t,"a",function(){return i});var i=function(){function n(n){this.booksApi=n}return n.prototype.resolve=function(n,t){var e=n.params.id;return"new"===e?r.Observable.of():null!=e&&isNaN(e)?r.Observable.throw(new Error("Invalid dataflow id")):this.booksApi.getById(Number(e))},n.ctorParameters=function(){return[{type:o.b}]},n}()},qsEO:function(n,t,e){"use strict";var r=e("WWmu"),o=e("2pSd"),i=e("mYXE"),l=e("BeuU");e.d(t,"a",function(){return u});var u=function(){function n(n,t,e){this.api=n,this.tokenService=t,this.store=e,this.initted=!1}return n.prototype.verify=function(){var n=this;return this.api.verify().do(function(t){n.store.dispatch(new o.b(t)),n.initted=!0})},n.prototype.login=function(n,t){var e=this;return this.api.get(n,t).map(function(n){return null==n||null==n.jwt?(e.logout(),!1):(e.tokenService.set(n.jwt),e.store.dispatch(new o.d),!0)})},n.prototype.logout=function(){this.tokenService.delete(),this.store.dispatch(new o.e)},n.ctorParameters=function(){return[{type:i.AuthTokenApi},{type:l.b},{type:r.a}]},n}()},rGEv:function(n,t,e){"use strict";e.d(t,"c",function(){return o}),e.d(t,"a",function(){return i}),e.d(t,"g",function(){return l}),e.d(t,"b",function(){return u}),e.d(t,"e",function(){return a}),e.d(t,"d",function(){return c}),e.d(t,"f",function(){return s});var r="[BOOK] Get All",o="[BOOK] Get By Id",i="[BOOK] Load",l="[BOOK] Store Locally",u="[BOOK] Unload",a="[BOOK] Write",c=(function(){function n(){this.type=r}}(),function(){function n(n){this.payload=n,this.type=o}}(),function(){function n(n){this.payload=n,this.type=i}return n}()),s=(function(){function n(n){this.payload=n,this.type=l}}(),function(){function n(){this.type=u}}(),function(){function n(n){this.payload=n,this.type=a}}(),function(){function n(){this.type=a}return n}())},tvlE:function(n,t,e){"use strict";var r=e("98po"),o=e("WWmu"),i=e("Gvdl"),l=(e.n(i),e("3pbj")),u=e("+jHA"),a=e("6W3o"),c=e("lk+P"),s=e("UGCa");e.d(t,"a",function(){return f});var p=this&&this.__decorate||function(n,t,e,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(n,t,e,r);else for(var u=n.length-1;u>=0;u--)(o=n[u])&&(l=(i<3?o(l):i>3?o(t,e,l):o(t,e))||l);return i>3&&l&&Object.defineProperty(t,e,l),l},d=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},f=function(){function n(n,t,e,o){var u=this;this.actions$=n,this.bookmarksApi=t,this.bookPositionService=e,this.store=o,this.loadSavedPosition=this.actions$.ofType(s.a).map(r.c).switchMap(function(n){if(null==n)return i.Observable.empty();var t=u.actions$.ofType(s.a).skip(1);return u.bookmarksApi.getById(n).takeUntil(t).map(function(n){return new s.b({paragraphIdx:n.paragraphIdx,wordIdx:n.wordIdx})})}),this.book$=this.store.select(l.a),this.bookPosition$=this.store.select(l.b),this.step=this.getStepEffect(),this.save=this.getSaveEffect()}return n.prototype.getSaveEffect=function(){var n=this;return this.actions$.ofType(s.c).map(r.c).distinct(function(n){return n.paragraphIdx}).withLatestFrom(this.book$).flatMap(function(t){var e=t[0],r=t[1];return null==r||null==e.paragraphIdx||null==e.wordIdx?i.Observable.empty():n.bookmarksApi.create(new u.Bookmark(e.paragraphIdx,0,r.id))})},n.prototype.getStepEffect=function(){var n=this;return this.actions$.ofType(s.d).map(r.c).withLatestFrom(this.book$,this.bookPosition$).flatMap(function(t){var e=t[0],r=t[1],o=t[2];if(null==e||null==o||null==r)return i.Observable.empty();var l=n.bookPositionService.stepPosition(r,o,e);return i.Observable.of(new s.b(l))})},n.ctorParameters=function(){return[{type:r.a},{type:c.a},{type:a.a},{type:o.a}]},n}();p([e.i(r.b)(),d("design:type","function"==typeof(h=void 0!==i.Observable&&i.Observable)&&h||Object)],f.prototype,"save",void 0),p([e.i(r.b)(),d("design:type","function"==typeof(g=void 0!==i.Observable&&i.Observable)&&g||Object)],f.prototype,"step",void 0),p([e.i(r.b)(),d("design:type","function"==typeof(v=void 0!==i.Observable&&i.Observable)&&v||Object)],f.prototype,"loadSavedPosition",void 0);var h,g,v},uqwp:function(n,t,e){"use strict";function r(n,t){switch(void 0===n&&(n=i),t.type){case o.a:return Object.assign({},n,{positionData:t.payload});case o.b:return Object.assign({},n,{positionData:void 0});default:return n}}var o=e("kUXO");t.a=r,e.d(t,"b",function(){return l});var i={},l=function(n){return n.positionData}},uv4r:function(n,t,e){"use strict";var r=e("5oXY"),o=e("3pbj"),i=e("WWmu"),l=e("Gvdl"),u=(e.n(l),e("cyeq")),a=e("fwo/");e.d(t,"a",function(){return s});var c=this&&this.__assign||Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},s=function(){function n(n,t,e,r,i){var l=this;this.route=n,this.bookmarksApi=t,this.bookPositionService=e,this.intervalService=r,this.store=i,this.play$=this.store.select(o.c),this.store.select(o.d).subscribe(function(n){return l.wpm=n})}return n.prototype.onClick=function(){this.togglePlay()},n.prototype.ngOnInit=function(){this.getBookById(),this.initKeyBindings(),this.initPlaySubscription()},n.prototype.ngOnDestroy=function(){this.cancelIntervalSubscription(),this.cancelPlaySubscription()},n.prototype.togglePlay=function(){this.store.dispatch(new u.j)},n.prototype.stepBookPosition=function(n){void 0===n&&(n=1),this.bookPosition=this.bookPositionService.stepPosition(this.book,this.bookPosition,n),this.saveBookmark(),this.setContent()},n.prototype.saveBookmark=function(){0===this.bookPosition.wordIdx&&this.bookmarksApi.create(c({},this.bookPosition,{bookId:this.book.id})).subscribe(function(n){})},n.prototype.getBookById=function(){var n=this;this.route.data.subscribe(function(t){var e=t.book,r=t.bookPosition;n.book=e,n.bookPosition=r,n.setContent()})},n.prototype.setContent=function(){if(null==this.content)return void this.initContent();this.appendContent()},n.prototype.initContent=function(){var n=this.bookPosition.paragraphIdx-10>0?this.bookPosition.paragraphIdx-10:0;this.content=this.book.content.slice(n,this.bookPosition.paragraphIdx+100)},n.prototype.appendContent=function(){var n=this.content[this.content.length-1].id;if(this.bookPosition.paragraphIdx+20>this.content[this.content.length-1].id){var t=this.book.content.slice(n+1,n+101);this.content=this.content.concat(t)}},n.prototype.initKeyBindings=function(){var n=this;l.Observable.fromEvent(window.document,"keypress").subscribe(function(t){"Space"===t.code&&(t.preventDefault(),n.togglePlay())}),l.Observable.fromEvent(window.document,"keydown").subscribe(function(t){"ArrowLeft"===t.code&&n.stepBookPosition(-20)}),l.Observable.fromEvent(window.document,"keydown").subscribe(function(t){"ArrowRight"===t.code&&n.stepBookPosition(20)})},n.prototype.initPlaySubscription=function(){var n=this;this.cancelPlaySubscription(),this.playSubscription=this.play$.subscribe(function(t){if(t)return void n.startRsvInterval();n.cancelIntervalSubscription()})},n.prototype.cancelPlaySubscription=function(){null!=this.playSubscription&&(this.playSubscription.unsubscribe(),this.playSubscription=void 0)},n.prototype.startRsvInterval=function(){var n=this;this.cancelIntervalSubscription(),this.intervalSubscription=this.intervalService.getIntervalFromWpm(this.wpm,this.book,this.bookPosition).take(1).subscribe(function(){n.stepBookPosition(),n.startRsvInterval()})},n.prototype.cancelIntervalSubscription=function(){null!=this.intervalSubscription&&(this.intervalSubscription.unsubscribe(),this.intervalSubscription=void 0)},n.ctorParameters=function(){return[{type:r.a},{type:a.d},{type:a.e},{type:a.f},{type:i.a}]},n}()},wEKh:function(n,t,e){"use strict";var r=e("ChBP");e.d(t,"a",function(){return r.a})},x35b:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("3j3K"),o=e("kZql"),i=e("Qbdm"),l=e("kke6");o.a.production&&e.i(r.a)(),e.i(i.a)().bootstrapModuleFactory(l.a)},yG2t:function(n,t,e){"use strict";function r(n){return i._26(2,[(n()(),i._27(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),i._28(null,["",""]))],null,function(n,t){n(t,1,0,t.component.word+" ")})}function o(n){return i._26(0,[(n()(),i._27(0,null,null,1,"app-scanner-word",[],[[2,"word",null],[2,"word--selected",null]],null,null,r,a)),i._29(49152,null,0,l.a,[],null,null)],null,function(n,t){n(t,0,0,i._31(t,1).hostClass,i._31(t,1).selected)})}var i=e("3j3K"),l=e("EPgz");e.d(t,"b",function(){return a}),t.a=r;var u=[],a=i._25({encapsulation:2,styles:u,data:{}});i._30("app-scanner-word",l.a,o,{word:"word",selected:"selected"},{},[])},yw3Q:function(n,t,e){"use strict";var r=e("McXY"),o=e("BeuU"),i=e("7UBP"),l=e("Jlqr"),u=e("6W3o"),a=e("WWmu");e.d(t,"a",function(){return s});var c=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(n){function t(t,e,r,o,i){var l=n.call(this,r,o,i)||this;return l.paragraphParserService=t,l.store=e,l.modelPath="books",l}return c(t,n),t.prototype.getById=function(t){var e=this;return n.prototype.getById.call(this,t).map(function(n){return e.fromJson(n,t)})},t.prototype.createFromJsonBook=function(n){return this.rest.post(this.modelPath,n,void 0,this.options).map(function(n){return n})},t.prototype.fromJson=function(n,t){var e=this.paragraphParserService.parse(n.body?n.body:n),r=e.reduce(function(n,t){return n+=t.length},0);return{id:t,title:n.title,author:n.author,content:e,length:r}},t.ctorParameters=function(){return[{type:u.b},{type:a.a},{type:l.a},{type:r.a},{type:o.b}]},t}(i.a)},zeFx:function(n,t,e){"use strict";function r(n,t){switch(void 0===n&&(n=i),t.type){case o.a:return Object.assign({},n,{book:t.payload});case o.b:return Object.assign({},n,{book:void 0});default:return n}}var o=e("rGEv");t.a=r,e.d(t,"b",function(){return l});var i={},l=function(n){return n.book}},zkbP:function(n,t,e){"use strict";var r=e("Gvdl");e.n(r);e.d(t,"a",function(){return o});var o=function(){function n(){this.defaultLink=void 0,this.link=new r.BehaviorSubject(this.defaultLink)}return n.prototype.setLink=function(n){this.link.next(n)},n}()},zqRp:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var r=function(){function n(){}return n}()}},[2]);